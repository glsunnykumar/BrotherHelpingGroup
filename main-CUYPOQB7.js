import{$ as j,$a as Mo,$b as C_,A as Du,Aa as o_,Ab as M,Ac as V_,B as ba,Ba as De,Bb as te,Bc as Na,C as Pu,Ca as Bu,Cb as ir,D as ya,Da as Ta,Db as ko,E as Yg,Ea as $n,Eb as Me,Ec as L_,F as ht,Fa as s_,Fb as Yt,Fc as U_,G as Vn,Ga as Ro,Gb as ft,H as Ln,Ha as a_,Hb as ye,Hc as Yu,I as Mu,Ia as Vt,Ib as wi,Ic as j_,J as ku,Ja as qn,Jb as Jt,Jc as B_,K as Ot,Ka as Do,Kb as jt,L as Ou,La as c_,Lb as Le,M as Un,Ma as l_,Mb as Ue,N as jn,Na as zu,Nb as w_,O as Nu,Oa as Po,Ob as I_,P as Jg,Pa as er,Pb as Oo,Q as Fu,Qa as tr,Qb as B,R as Vu,Ra as u_,Rb as He,S as Xg,Sa as d_,Sb as Gu,T as Zg,Ta as h_,Tb as E_,U as wa,Ua as m_,Ub as xt,V as gi,Va as f_,Vb as Ra,W as yt,Wa as p_,Wb as Da,X as Nt,Xa as g_,Xb as T_,Y as Ne,Ya as It,Yb as rr,Z as fe,Za as bi,Zb as Wu,_ as So,_a as __,_b as Pa,a as F,aa as oe,ab as G,ac as Ku,b as pe,ba as e_,bb as ge,bc as Ii,ca as U,cb as Ca,cc as A_,d as Fn,da as Lu,db as Aa,dc as Xe,e as b,ea as Y,eb as Lt,ec as Xt,f as fi,fa as C,fb as v_,fc as Zt,g as Eu,ga as it,gb as b_,gc as Ma,h as vt,ha as Uu,hb as y_,hc as x_,i as Tu,ia as wt,ib as $u,ic as S_,j as Cu,ja as t_,jb as se,jc as or,k as Ce,ka as Ft,kb as ae,kc as R_,l as gt,la as rt,lb as ie,lc as D_,m as Wg,ma as n_,mb as Ut,mc as be,n as Kg,na as fn,nb as At,nc as P_,o as Qt,oa as Bn,ob as Pe,oc as No,p as Au,pa as zn,pb as qu,pc as M_,q as xu,qa as _i,qb as xa,qc as k_,r as Su,ra as i_,rb as Hu,rc as Fo,s as qe,sa as Re,sb as Sa,sc as ka,t as z,ta as ju,tb as nr,tc as sr,u as pi,ua as r_,ub as st,uc as O_,v as Ru,va as Ia,vb as Ee,vc as Oa,w as Qg,wa as Ea,wb as xe,wc as Ei,x as H,xa as ot,xb as yi,xc as N_,y as Zi,ya as ee,yb as mt,yc as F_,z as bt,za as vi,zb as D,zc as Qu}from"./chunk-E4ZMSBOG.js";var Lo=class{},Va=class{},Ti=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Xu=class{encodeKey(e){return z_(e)}encodeValue(e){return z_(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function LE(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,c]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(c),t.set(s,l)}),t}var UE=/%(\d[a-f0-9])/gi,jE={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function z_(n){return encodeURIComponent(n).replace(UE,(e,t)=>jE[t]??e)}function Fa(n){return`${n}`}var Hn=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Xu,e.fromString){if(e.fromObject)throw new fe(2805,!1);this.map=LE(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(Fa):[Fa(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Fa(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Fa(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Zu=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function BE(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function $_(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function q_(n){return typeof Blob<"u"&&n instanceof Blob}function H_(n){return typeof FormData<"u"&&n instanceof FormData}function zE(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var G_="Content-Type",Q_="X-Request-URL",Y_="text/plain",J_="application/json",$E=`${J_}, ${Y_}, */*`,Vo=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,i,r){this.url=t,this.method=e.toUpperCase();let o;if(BE(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ti,this.context??=new Zu,!this.params)this.params=new Hn,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),l=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||$_(this.body)||q_(this.body)||H_(this.body)||zE(this.body)?this.body:this.body instanceof Hn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||H_(this.body)?null:q_(this.body)?this.body.type||null:$_(this.body)?null:typeof this.body=="string"?Y_:this.body instanceof Hn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?J_:null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,h=e.headers||this.headers,m=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(h=Object.keys(e.setHeaders).reduce((T,S)=>T.set(S,e.setHeaders[S]),h)),e.setParams&&(m=Object.keys(e.setParams).reduce((T,S)=>T.set(S,e.setParams[S]),m)),new n(t,i,s,{params:m,headers:h,context:g,reportProgress:l,responseType:r,withCredentials:c,transferCache:o})}},ar=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ar||{}),Uo=class{headers;status;statusText;url;ok;type;constructor(e,t=200,i="OK"){this.headers=e.headers||new Ti,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ed=class n extends Uo{constructor(e={}){super(e)}type=ar.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},La=class n extends Uo{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=ar.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ua=class extends Uo{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},qE=200,HE=204;function Ju(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var td=(()=>{class n{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Vo)o=t;else{let l;r.headers instanceof Ti?l=r.headers:l=new Ti(r.headers);let h;r.params&&(r.params instanceof Hn?h=r.params:h=new Hn({fromObject:r.params})),o=new Vo(t,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:h,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=z(o).pipe(Ln(l=>this.handler.handle(l)));if(t instanceof Vo||r.observe==="events")return s;let c=s.pipe(ht(l=>l instanceof La));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(H(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(H(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(H(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(H(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new Hn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Ju(r,i))}post(t,i,r={}){return this.request("POST",t,Ju(r,i))}put(t,i,r={}){return this.request("PUT",t,Ju(r,i))}static \u0275fac=function(i){return new(i||n)(Y(Lo))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var GE=new U("");function WE(n,e){return e(n)}function KE(n,e,t){return(i,r)=>rt(t,()=>e(i,o=>n(o,r)))}var X_=new U(""),QE=new U(""),YE=new U("",{providedIn:"root",factory:()=>!0});var W_=(()=>{class n extends Lo{backend;injector;chain=null;pendingTasks=C(Ia);contributeToStability=C(YE);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(X_),...this.injector.get(QE,[])]));this.chain=i.reduceRight((r,o)=>KE(r,o,this.injector),WE)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Un(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(Y(Va),Y(Ft))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var JE=/^\)\]\}',?\n/,XE=RegExp(`^${Q_}:`,"m");function ZE(n){return"responseURL"in n&&n.responseURL?n.responseURL:XE.test(n.getAllResponseHeaders())?n.getResponseHeader(Q_):null}var K_=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new fe(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?qe(i.\u0275loadImpl()):z(null)).pipe(yt(()=>new vt(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((k,R)=>s.setRequestHeader(k,R.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept",$E),!t.headers.has(G_)){let k=t.detectContentTypeHeader();k!==null&&s.setRequestHeader(G_,k)}if(t.responseType){let k=t.responseType.toLowerCase();s.responseType=k!=="json"?k:"text"}let c=t.serializeBody(),l=null,h=()=>{if(l!==null)return l;let k=s.statusText||"OK",R=new Ti(s.getAllResponseHeaders()),W=ZE(s)||t.url;return l=new ed({headers:R,status:s.status,statusText:k,url:W}),l},m=()=>{let{headers:k,status:R,statusText:W,url:ne}=h(),$=null;R!==HE&&($=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=$?qE:0);let ve=R>=200&&R<300;if(t.responseType==="json"&&typeof $=="string"){let Ye=$;$=$.replace(JE,"");try{$=$!==""?JSON.parse($):null}catch(me){$=Ye,ve&&(ve=!1,$={error:me,text:$})}}ve?(o.next(new La({body:$,headers:k,status:R,statusText:W,url:ne||void 0})),o.complete()):o.error(new Ua({error:$,headers:k,status:R,statusText:W,url:ne||void 0}))},g=k=>{let{url:R}=h(),W=new Ua({error:k,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(W)},T=!1,S=k=>{T||(o.next(h()),T=!0);let R={type:ar.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(R.total=k.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},O=k=>{let R={type:ar.UploadProgress,loaded:k.loaded};k.lengthComputable&&(R.total=k.total),o.next(R)};return s.addEventListener("load",m),s.addEventListener("error",g),s.addEventListener("timeout",g),s.addEventListener("abort",g),t.reportProgress&&(s.addEventListener("progress",S),c!==null&&s.upload&&s.upload.addEventListener("progress",O)),s.send(c),o.next({type:ar.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",m),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",S),c!==null&&s.upload&&s.upload.removeEventListener("progress",O)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(Y(Na))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Z_=new U(""),eT="XSRF-TOKEN",tT=new U("",{providedIn:"root",factory:()=>eT}),nT="X-XSRF-TOKEN",iT=new U("",{providedIn:"root",factory:()=>nT}),ja=class{},rT=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ka(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||n)(Y(be),Y(Vt),Y(tT))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function oT(n,e){let t=n.url.toLowerCase();if(!C(Z_)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=C(ja).getToken(),r=C(iT);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}function ev(...n){let e=[td,K_,W_,{provide:Lo,useExisting:W_},{provide:Va,useFactory:()=>C(GE,{optional:!0})??C(K_)},{provide:X_,useValue:oT,multi:!0},{provide:Z_,useValue:!0},{provide:ja,useClass:rT}];for(let t of n)e.push(...t.\u0275providers);return wt(e)}var id=class extends D_{supportsDOMEvents=!0},rd=class n extends id{static makeCurrent(){R_(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=cT();return t==null?null:lT(t)}resetBaseElement(){jo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ka(document.cookie,e)}},jo=null;function cT(){return jo=jo||document.querySelector("base"),jo?jo.getAttribute("href"):null}function lT(n){return new URL(n,document.baseURI).pathname}var uT=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),od=new U(""),ov=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new fe(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(Y(od),Y(ee))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),$a=class{_doc;constructor(e){this._doc=e}manager},za="ng-app-id";function tv(n){for(let e of n)e.remove()}function nv(n,e){let t=e.createElement("style");return t.textContent=n,t}function dT(n,e,t,i){let r=n.head?.querySelectorAll(`style[${za}="${e}"],link[${za}="${e}"]`);if(r)for(let o of r)o.removeAttribute(za),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function sd(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var sv=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.isServer=Qu(o),dT(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,nv);i?.forEach(r=>this.addUsage(r,this.external,sd))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(tv(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])tv(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,nv(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,sd(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(za,this.appId),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(Y(be),Y(Ro),Y(Do,8),Y(Vt))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),nd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},cd=/%COMP%/g,av="%COMP%",hT=`_nghost-${av}`,mT=`_ngcontent-${av}`,fT=!0,pT=new U("",{providedIn:"root",factory:()=>fT});function gT(n){return mT.replace(cd,n)}function _T(n){return hT.replace(cd,n)}function cv(n,e){return e.map(t=>t.replace(cd,n))}var qa=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,c,l,h=null,m=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=l,this.nonce=h,this.tracingService=m,this.platformIsServer=Qu(c),this.defaultRenderer=new Bo(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Po.ShadowDom&&(i=pe(F({},i),{encapsulation:Po.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof Ha?r.applyToHost(t):r instanceof zo&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,c=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case Po.Emulated:o=new Ha(l,h,i,this.appId,m,s,c,g,this.tracingService);break;case Po.ShadowDom:return new ad(l,h,t,i,s,c,this.nonce,g,this.tracingService);default:o=new zo(l,h,i,m,s,c,g,this.tracingService);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(Y(ov),Y(sv),Y(Ro),Y(pT),Y(be),Y(Vt),Y(ee),Y(Do),Y(c_,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Bo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r,o){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(nd[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(iv(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(iv(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new fe(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=nd[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=nd[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Mo.DashCase|Mo.Important)?e.style.setProperty(t,i,r&Mo.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Mo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=or().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);let o=this.decoratePreventDefault(i);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function iv(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ad=class extends Bo{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,r,o,s,c,l,h){super(e,o,s,l,h),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=cv(r.id,r.styles);for(let T of m){let S=document.createElement("style");c&&S.setAttribute("nonce",c),S.textContent=T,this.shadowRoot.appendChild(S)}let g=r.getExternalStyles?.();if(g)for(let T of g){let S=sd(T,o);c&&S.setAttribute("nonce",c),this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zo=class extends Bo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,r,o,s,c,l,h){super(e,o,s,c,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=h?cv(h,i.styles):i.styles,this.styleUrls=i.getExternalStyles?.(h)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ha=class extends zo{contentAttr;hostAttr;constructor(e,t,i,r,o,s,c,l,h){let m=r+"-"+i.id;super(e,t,i,o,s,c,l,h,m),this.contentAttr=gT(m),this.hostAttr=_T(m)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},vT=(()=>{class n extends $a{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(Y(be))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),rv=["alt","control","meta","shift"],bT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yT={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},wT=(()=>{class n extends $a{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>or().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),s="code."),rv.forEach(h=>{let m=i.indexOf(h);m>-1&&(i.splice(m,1),s+=h+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=bT[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),rv.forEach(s=>{if(s!==r){let c=yT[s];c(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(Y(be))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function lv(n,e){return A_(F({rootComponent:n},IT(e)))}function IT(n){return{appProviders:[...xT,...n?.providers??[]],platformProviders:AT}}function ET(){rd.makeCurrent()}function TT(){return new vi}function CT(){return s_(document),document}var AT=[{provide:Vt,useValue:N_},{provide:a_,useValue:ET,multi:!0},{provide:be,useFactory:CT,deps:[]}];var xT=[{provide:t_,useValue:"root"},{provide:vi,useFactory:TT,deps:[]},{provide:od,useClass:vT,multi:!0,deps:[be,ee,Vt]},{provide:od,useClass:wT,multi:!0,deps:[be]},qa,sv,ov,{provide:Aa,useExisting:qa},{provide:Na,useClass:uT,deps:[]},[]];var uv=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||n)(Y(be))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ld=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=Y(ST),r},providedIn:"root"})}return n})(),ST=(()=>{class n extends ld{_doc;constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case It.NONE:return i;case It.HTML:return tr(i,"HTML")?er(i):g_(this._doc,String(i)).toString();case It.STYLE:return tr(i,"Style")?er(i):i;case It.SCRIPT:if(tr(i,"Script"))return er(i);throw new fe(5200,!1);case It.URL:return tr(i,"URL")?er(i):p_(String(i));case It.RESOURCE_URL:if(tr(i,"ResourceURL"))return er(i);throw new fe(5201,!1);default:throw new fe(5202,!1)}}bypassSecurityTrustHtml(t){return u_(t)}bypassSecurityTrustStyle(t){return d_(t)}bypassSecurityTrustScript(t){return h_(t)}bypassSecurityTrustUrl(t){return m_(t)}bypassSecurityTrustResourceUrl(t){return f_(t)}static \u0275fac=function(i){return new(i||n)(Y(be))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Z="primary",ns=Symbol("RouteTitle"),fd=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function mr(n){return new fd(n)}function RT(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],c=n[o];if(s[0]===":")r[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function DT(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!en(n[t],e[t]))return!1;return!0}function en(n,e){let t=n?pd(n):void 0,i=e?pd(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!Iv(n[r],e[r]))return!1;return!0}function pd(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Iv(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function Ev(n){return n.length>0?n[n.length-1]:null}function Kn(n){return Ru(n)?n:xa(n)?qe(Promise.resolve(n)):z(n)}var PT={exact:Cv,subset:Av},Tv={exact:MT,subset:kT,ignored:()=>!0};function hv(n,e,t){return PT[t.paths](n.root,e.root,t.matrixParams)&&Tv[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function MT(n,e){return en(n,e)}function Cv(n,e,t){if(!Ai(n.segments,e.segments)||!Ka(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!Cv(n.children[i],e.children[i],t))return!1;return!0}function kT(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Iv(n[t],e[t]))}function Av(n,e,t){return xv(n,e,e.segments,t)}function xv(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Ai(r,t)||e.hasChildren()||!Ka(r,t,i))}else if(n.segments.length===t.length){if(!Ai(n.segments,t)||!Ka(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!Av(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ai(n.segments,r)||!Ka(n.segments,r,i)||!n.children[Z]?!1:xv(n.children[Z],e,o,i)}}function Ka(n,e,t){return e.every((i,r)=>Tv[t](n[r].parameters,i.parameters))}var gn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new _e([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=mr(this.queryParams),this._queryParamMap}toString(){return FT.serialize(this)}},_e=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qa(this)}},Ci=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=mr(this.parameters),this._parameterMap}toString(){return Rv(this)}};function OT(n,e){return Ai(n,e)&&n.every((t,i)=>en(t.parameters,e[i].parameters))}function Ai(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function NT(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Z&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Z&&(t=t.concat(e(r,i)))}),t}var is=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:()=>new fr,providedIn:"root"})}return n})(),fr=class{parse(e){let t=new _d(e);return new gn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${$o(e.root,!0)}`,i=UT(e.queryParams),r=typeof e.fragment=="string"?`#${VT(e.fragment)}`:"";return`${t}${i}${r}`}},FT=new fr;function Qa(n){return n.segments.map(e=>Rv(e)).join("/")}function $o(n,e){if(!n.hasChildren())return Qa(n);if(e){let t=n.children[Z]?$o(n.children[Z],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Z&&i.push(`${r}:${$o(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=NT(n,(i,r)=>r===Z?[$o(n.children[Z],!1)]:[`${r}:${$o(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[Z]!=null?`${Qa(n)}/${t[0]}`:`${Qa(n)}/(${t.join("//")})`}}function Sv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ga(n){return Sv(n).replace(/%3B/gi,";")}function VT(n){return encodeURI(n)}function gd(n){return Sv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ya(n){return decodeURIComponent(n)}function mv(n){return Ya(n.replace(/\+/g,"%20"))}function Rv(n){return`${gd(n.path)}${LT(n.parameters)}`}function LT(n){return Object.entries(n).map(([e,t])=>`;${gd(e)}=${gd(t)}`).join("")}function UT(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Ga(t)}=${Ga(r)}`).join("&"):`${Ga(t)}=${Ga(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var jT=/^[^\/()?;#]+/;function ud(n){let e=n.match(jT);return e?e[0]:""}var BT=/^[^\/()?;=#]+/;function zT(n){let e=n.match(BT);return e?e[0]:""}var $T=/^[^=?&#]+/;function qT(n){let e=n.match($T);return e?e[0]:""}var HT=/^[^&#]+/;function GT(n){let e=n.match(HT);return e?e[0]:""}var _d=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Z]=new _e(e,t)),i}parseSegment(){let e=ud(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new fe(4009,!1);return this.capture(e),new Ci(Ya(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=zT(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=ud(this.remaining);r&&(i=r,this.capture(i))}e[Ya(t)]=Ya(i)}parseQueryParam(e){let t=qT(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=GT(this.remaining);s&&(i=s,this.capture(i))}let r=mv(t),o=mv(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=ud(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new fe(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Z]:new _e([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new fe(4011,!1)}};function Dv(n){return n.segments.length>0?new _e([],{[Z]:n}):n}function Pv(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=Pv(r);if(i===Z&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new _e(n.segments,e);return WT(t)}function WT(n){if(n.numberOfChildren===1&&n.children[Z]){let e=n.children[Z];return new _e(n.segments.concat(e.segments),e.children)}return n}function xi(n){return n instanceof gn}function KT(n,e,t=null,i=null){let r=Mv(n);return kv(r,e,t,i)}function Mv(n){let e;function t(o){let s={};for(let l of o.children){let h=t(l);s[l.outlet]=h}let c=new _e(o.url,s);return o===n&&(e=c),c}let i=t(n.root),r=Dv(i);return e??r}function kv(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return dd(r,r,r,t,i);let o=QT(e);if(o.toRoot())return dd(r,r,new _e([],{}),t,i);let s=YT(o,r,n),c=s.processChildren?Ho(s.segmentGroup,s.index,o.commands):Nv(s.segmentGroup,s.index,o.commands);return dd(r,s.segmentGroup,c,t,i)}function Ja(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ko(n){return typeof n=="object"&&n!=null&&n.outlets}function dd(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([l,h])=>{o[l]=Array.isArray(h)?h.map(m=>`${m}`):`${h}`});let s;n===e?s=t:s=Ov(n,e,t);let c=Dv(Pv(s));return new gn(c,o,r)}function Ov(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=Ov(o,e,t)}),new _e(n.segments,i)}var Xa=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Ja(i[0]))throw new fe(4003,!1);let r=i.find(Ko);if(r&&r!==Ev(i))throw new fe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function QT(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Xa(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([l,h])=>{c[l]=typeof h=="string"?h.split("/"):h}),[...r,{outlets:c}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?t=!0:c===".."?e++:c!=""&&r.push(c))}),r):[...r,o]},[]);return new Xa(t,e,i)}var ur=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function YT(n,e,t){if(n.isAbsolute)return new ur(e,!0,0);if(!t)return new ur(e,!1,NaN);if(t.parent===null)return new ur(t,!0,0);let i=Ja(n.commands[0])?0:1,r=t.segments.length-1+i;return JT(t,r,n.numberOfDoubleDots)}function JT(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new fe(4005,!1);r=i.segments.length}return new ur(i,!1,r-o)}function XT(n){return Ko(n[0])?n[0].outlets:{[Z]:n}}function Nv(n,e,t){if(n??=new _e([],{}),n.segments.length===0&&n.hasChildren())return Ho(n,e,t);let i=ZT(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new _e(n.segments.slice(0,i.pathIndex),{});return o.children[Z]=new _e(n.segments.slice(i.pathIndex),n.children),Ho(o,0,r)}else return i.match&&r.length===0?new _e(n.segments,{}):i.match&&!n.hasChildren()?vd(n,e,t):i.match?Ho(n,0,r):vd(n,e,t)}function Ho(n,e,t){if(t.length===0)return new _e(n.segments,{});{let i=XT(t),r={};if(Object.keys(i).some(o=>o!==Z)&&n.children[Z]&&n.numberOfChildren===1&&n.children[Z].segments.length===0){let o=Ho(n.children[Z],e,t);return new _e(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Nv(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new _e(n.segments,r)}}function ZT(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],c=t[i];if(Ko(c))break;let l=`${c}`,h=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&h&&typeof h=="object"&&h.outlets===void 0){if(!pv(l,h,s))return o;i+=2}else{if(!pv(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function vd(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(Ko(o)){let l=eC(o.outlets);return new _e(i,l)}if(r===0&&Ja(t[0])){let l=n.segments[e];i.push(new Ci(l.path,fv(t[0]))),r++;continue}let s=Ko(o)?o.outlets[Z]:`${o}`,c=r<t.length-1?t[r+1]:null;s&&c&&Ja(c)?(i.push(new Ci(s,fv(c))),r+=2):(i.push(new Ci(s,{})),r++)}return new _e(i,{})}function eC(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=vd(new _e([],{}),0,i))}),e}function fv(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function pv(n,e,t){return n==t.path&&en(e,t.parameters)}var Go="imperative",Ge=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ge||{}),St=class{id;url;constructor(e,t){this.id=e,this.url=t}},pr=class extends St{type=Ge.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},tn=class extends St{urlAfterRedirects;type=Ge.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Tt||{}),Za=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Za||{}),pn=class extends St{reason;code;type=Ge.NavigationCancel;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Gn=class extends St{reason;code;type=Ge.NavigationSkipped;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}},Qo=class extends St{error;target;type=Ge.NavigationError;constructor(e,t,i,r){super(e,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ec=class extends St{urlAfterRedirects;state;type=Ge.RoutesRecognized;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bd=class extends St{urlAfterRedirects;state;type=Ge.GuardsCheckStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yd=class extends St{urlAfterRedirects;state;shouldActivate;type=Ge.GuardsCheckEnd;constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},wd=class extends St{urlAfterRedirects;state;type=Ge.ResolveStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Id=class extends St{urlAfterRedirects;state;type=Ge.ResolveEnd;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ed=class{route;type=Ge.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Td=class{route;type=Ge.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cd=class{snapshot;type=Ge.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ad=class{snapshot;type=Ge.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xd=class{snapshot;type=Ge.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sd=class{snapshot;type=Ge.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tc=class{routerEvent;position;anchor;type=Ge.Scroll;constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Yo=class{},gr=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function tC(n,e){return n.providers&&!n._injector&&(n._injector=$u(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Bt(n){return n.outlet||Z}function nC(n,e){let t=n.filter(i=>Bt(i)===e);return t.push(...n.filter(i=>Bt(i)!==e)),t}function rs(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Rd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return rs(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new os(this.rootInjector)}},os=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Rd(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||n)(Y(Ft))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nc=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Dd(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=Dd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Pd(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Pd(e,this._root).map(t=>t.value)}};function Dd(n,e){if(n===e.value)return e;for(let t of e.children){let i=Dd(n,t);if(i)return i}return null}function Pd(n,e){if(n===e.value)return[e];for(let t of e.children){let i=Pd(n,t);if(i.length)return i.unshift(e),i}return[]}var Et=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function lr(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ic=class extends nc{snapshot;constructor(e,t){super(e),this.snapshot=t,jd(this,e)}toString(){return this.snapshot.toString()}};function Fv(n){let e=iC(n),t=new gt([new Ci("",{})]),i=new gt({}),r=new gt({}),o=new gt({}),s=new gt(""),c=new Wn(t,i,o,s,r,Z,n,e.root);return c.snapshot=e.root,new ic(new Et(c,[]),e)}function iC(n){let e={},t={},i={},r="",o=new dr([],e,i,r,t,Z,n,null,{});return new oc("",new Et(o,[]))}var Wn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,r,o,s,c,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(H(h=>h[ns]))??z(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(H(e=>mr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(H(e=>mr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function rc(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),r?.data),n._resolvedData)}:i={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},r&&Lv(r)&&(i.resolve[ns]=r.title),i}var dr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ns]}constructor(e,t,i,r,o,s,c,l,h){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=c,this.routeConfig=l,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=mr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=mr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},oc=class extends nc{url;constructor(e,t){super(t),this.url=e,jd(this,t)}toString(){return Vv(this._root)}};function jd(n,e){e.value._routerState=n,e.children.forEach(t=>jd(n,t))}function Vv(n){let e=n.children.length>0?` { ${n.children.map(Vv).join(", ")} } `:"";return`${n.value}${e}`}function hd(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,en(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),en(e.params,t.params)||n.paramsSubject.next(t.params),DT(e.url,t.url)||n.urlSubject.next(t.url),en(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Md(n,e){let t=en(n.params,e.params)&&OT(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||Md(n.parent,e.parent))}function Lv(n){return typeof n.title=="string"||n.title===null}var rC=new U(""),Bd=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new ot;deactivateEvents=new ot;attachEvents=new ot;detachEvents=new ot;routerOutletData=o_(void 0);parentContexts=C(os);location=C(v_);changeDetector=C(Ii);inputBinder=C(lc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new fe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new fe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new fe(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new fe(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new kd(t,c,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ie({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[fn]})}return n})(),kd=class n{route;childContexts;parent;outletData;__ngOutletInjector(e){return new n(this.route,this.childContexts,e,this.outletData)}constructor(e,t,i,r){this.route=e,this.childContexts=t,this.parent=i,this.outletData=r}get(e,t){return e===Wn?this.route:e===os?this.childContexts:e===rC?this.outletData:this.parent.get(e,t)}},lc=new U(""),gv=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=Zi([i.queryParams,i.params,i.data]).pipe(yt(([o,s,c],l)=>(c=F(F(F({},o),s),c),l===0?z(c):Promise.resolve(c)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=S_(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of s.inputs)t.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(t,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function oC(n,e,t){let i=Jo(n,e._root,t?t._root:void 0);return new ic(i,e)}function Jo(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=sC(n,e,t);return new Et(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>Jo(n,c)),s}}let i=aC(e.value),r=e.children.map(o=>Jo(n,o));return new Et(i,r)}}function sC(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Jo(n,i,r);return Jo(n,i)})}function aC(n){return new Wn(new gt(n.url),new gt(n.params),new gt(n.queryParams),new gt(n.fragment),new gt(n.data),n.outlet,n.component,n)}var Xo=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Uv="ngNavigationCancelingError";function sc(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=xi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=jv(!1,Tt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function jv(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Uv]=!0,t.cancellationCode=e,t}function cC(n){return Bv(n)&&xi(n.url)}function Bv(n){return!!n&&n[Uv]}var lC=(n,e,t,i)=>H(r=>(new Od(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),Od=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),hd(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=lr(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=lr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=lr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=lr(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Sd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ad(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(hd(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),hd(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},ac=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},hr=class{component;route;constructor(e,t){this.component=e,this.route=t}};function uC(n,e,t){let i=n._root,r=e?e._root:null;return qo(i,r,t,[i.value])}function dC(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function vr(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!e_(n)?n:e.get(n):i}function qo(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=lr(e);return n.children.forEach(s=>{hC(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Wo(c,t.getContext(s),r)),r}function hC(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=mC(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new ac(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?qo(n,e,c?c.children:null,i,r):qo(n,e,t,i,r),l&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new hr(c.outlet.component,s))}else s&&Wo(e,c,r),r.canActivateChecks.push(new ac(i)),o.component?qo(n,null,c?c.children:null,i,r):qo(n,null,t,i,r);return r}function mC(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ai(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ai(n.url,e.url)||!en(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Md(n,e)||!en(n.queryParams,e.queryParams);case"paramsChange":default:return!Md(n,e)}}function Wo(n,e,t){let i=lr(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?Wo(s,e.children.getContext(o),t):Wo(s,null,t):Wo(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new hr(e.outlet.component,r)):t.canDeactivateChecks.push(new hr(null,r)):t.canDeactivateChecks.push(new hr(null,r))}function ss(n){return typeof n=="function"}function fC(n){return typeof n=="boolean"}function pC(n){return n&&ss(n.canLoad)}function gC(n){return n&&ss(n.canActivate)}function _C(n){return n&&ss(n.canActivateChild)}function vC(n){return n&&ss(n.canDeactivate)}function bC(n){return n&&ss(n.canMatch)}function zv(n){return n instanceof Qg||n?.name==="EmptyError"}var Wa=Symbol("INITIAL_VALUE");function _r(){return yt(n=>Zi(n.map(e=>e.pipe(Ot(1),gi(Wa)))).pipe(H(e=>{for(let t of e)if(t!==!0){if(t===Wa)return Wa;if(t===!1||yC(t))return t}return!0}),ht(e=>e!==Wa),Ot(1)))}function yC(n){return xi(n)||n instanceof Xo}function wC(n,e){return bt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?z(pe(F({},t),{guardsResult:!0})):IC(s,i,r,n).pipe(bt(c=>c&&fC(c)?EC(i,o,n,e):z(c)),H(c=>pe(F({},t),{guardsResult:c})))})}function IC(n,e,t,i){return qe(n).pipe(bt(r=>SC(r.component,r.route,t,e,i)),jn(r=>r!==!0,!0))}function EC(n,e,t,i){return qe(e).pipe(Ln(r=>ba(CC(r.route.parent,i),TC(r.route,i),xC(n,r.path,t),AC(n,r.route,t))),jn(r=>r!==!0,!0))}function TC(n,e){return n!==null&&e&&e(new xd(n)),z(!0)}function CC(n,e){return n!==null&&e&&e(new Cd(n)),z(!0)}function AC(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return z(!0);let r=i.map(o=>Pu(()=>{let s=rs(e)??t,c=vr(o,s),l=gC(c)?c.canActivate(e,n):rt(s,()=>c(e,n));return Kn(l).pipe(jn())}));return z(r).pipe(_r())}function xC(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>dC(s)).filter(s=>s!==null).map(s=>Pu(()=>{let c=s.guards.map(l=>{let h=rs(s.node)??t,m=vr(l,h),g=_C(m)?m.canActivateChild(i,n):rt(h,()=>m(i,n));return Kn(g).pipe(jn())});return z(c).pipe(_r())}));return z(o).pipe(_r())}function SC(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(c=>{let l=rs(e)??r,h=vr(c,l),m=vC(h)?h.canDeactivate(n,e,t,i):rt(l,()=>h(n,e,t,i));return Kn(m).pipe(jn())});return z(s).pipe(_r())}function RC(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return z(!0);let o=r.map(s=>{let c=vr(s,n),l=pC(c)?c.canLoad(e,t):rt(n,()=>c(e,t));return Kn(l)});return z(o).pipe(_r(),$v(i))}function $v(n){return Eu(Ne(e=>{if(typeof e!="boolean")throw sc(n,e)}),H(e=>e===!0))}function DC(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return z(!0);let o=r.map(s=>{let c=vr(s,n),l=bC(c)?c.canMatch(e,t):rt(n,()=>c(e,t));return Kn(l)});return z(o).pipe(_r(),$v(i))}var Zo=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},es=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function cr(n){return pi(new Zo(n))}function PC(n){return pi(new fe(4e3,!1))}function MC(n){return pi(jv(!1,Tt.GuardRejected))}var Nd=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return z(i);if(r.numberOfChildren>1||!r.children[Z])return PC(`${e.redirectTo}`);r=r.children[Z]}}applyRedirectCommands(e,t,i,r,o){if(typeof t!="string"){let c=t,{queryParams:l,fragment:h,routeConfig:m,url:g,outlet:T,params:S,data:O,title:k}=r,R=rt(o,()=>c({params:S,data:O,queryParams:l,fragment:h,routeConfig:m,url:g,outlet:T,title:k}));if(R instanceof gn)throw new es(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new es(s);return s}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new gn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);i[r]=t[c]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([c,l])=>{s[c]=this.createSegmentGroup(e,l,i,r)}),new _e(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new fe(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},Fd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kC(n,e,t,i,r){let o=qv(n,e,t);return o.matched?(i=tC(e,i),DC(i,e,t,r).pipe(H(s=>s===!0?o:F({},Fd)))):z(o)}function qv(n,e,t){if(e.path==="**")return OC(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},Fd):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||RT)(t,n,e);if(!r)return F({},Fd);let o={};Object.entries(r.posParams??{}).forEach(([c,l])=>{o[c]=l.path});let s=r.consumed.length>0?F(F({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function OC(n){return{matched:!0,parameters:n.length>0?Ev(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function _v(n,e,t,i){return t.length>0&&VC(n,t,i)?{segmentGroup:new _e(e,FC(i,new _e(t,n.children))),slicedSegments:[]}:t.length===0&&LC(n,t,i)?{segmentGroup:new _e(n.segments,NC(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new _e(n.segments,n.children),slicedSegments:t}}function NC(n,e,t,i){let r={};for(let o of t)if(uc(n,e,o)&&!i[Bt(o)]){let s=new _e([],{});r[Bt(o)]=s}return F(F({},i),r)}function FC(n,e){let t={};t[Z]=e;for(let i of n)if(i.path===""&&Bt(i)!==Z){let r=new _e([],{});t[Bt(i)]=r}return t}function VC(n,e,t){return t.some(i=>uc(n,e,i)&&Bt(i)!==Z)}function LC(n,e,t){return t.some(i=>uc(n,e,i))}function uc(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function UC(n,e,t){return e.length===0&&!n.children[t]}var Vd=class{};function jC(n,e,t,i,r,o,s="emptyOnly"){return new Ld(n,e,t,i,r,s,o).recognize()}var BC=31,Ld=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,r,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Nd(this.urlSerializer,this.urlTree)}noMatchError(e){return new fe(4002,`'${e.segmentGroup}'`)}recognize(){let e=_v(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(H(({children:t,rootSnapshot:i})=>{let r=new Et(i,t),o=new oc("",r),s=KT(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new dr([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Z,t).pipe(H(i=>({children:i,rootSnapshot:t})),Vn(i=>{if(i instanceof es)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Zo?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(H(s=>s instanceof Et?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return qe(o).pipe(Ln(s=>{let c=i.children[s],l=nC(t,s);return this.processSegmentGroup(e,l,c,s,r)}),Vu((s,c)=>(s.push(...c),s)),ku(null),Jg(),bt(s=>{if(s===null)return cr(i);let c=Hv(s);return zC(c),z(c)}))}processSegment(e,t,i,r,o,s,c){return qe(t).pipe(Ln(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,o,s,c).pipe(Vn(h=>{if(h instanceof Zo)return z(null);throw h}))),jn(l=>!!l),Vn(l=>{if(zv(l))return UC(i,r,o)?z(new Vd):cr(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,o,s,c,l){return Bt(i)!==s&&(s===Z||!uc(r,o,i))?cr(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,l):cr(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,c){let{matched:l,parameters:h,consumedSegments:m,positionalParamSegments:g,remainingSegments:T}=qv(t,r,o);if(!l)return cr(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>BC&&(this.allowRedirects=!1));let S=new dr(o,h,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,vv(r),Bt(r),r.component??r._loadedComponent??null,r,bv(r)),O=rc(S,c,this.paramsInheritanceStrategy);S.params=Object.freeze(O.params),S.data=Object.freeze(O.data);let k=this.applyRedirects.applyRedirectCommands(m,r.redirectTo,g,S,e);return this.applyRedirects.lineralizeSegments(r,k).pipe(bt(R=>this.processSegment(e,i,t,R.concat(T),s,!1,c)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let c=kC(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),c.pipe(yt(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(yt(({routes:h})=>{let m=i._loadedInjector??e,{parameters:g,consumedSegments:T,remainingSegments:S}=l,O=new dr(T,g,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,vv(i),Bt(i),i.component??i._loadedComponent??null,i,bv(i)),k=rc(O,s,this.paramsInheritanceStrategy);O.params=Object.freeze(k.params),O.data=Object.freeze(k.data);let{segmentGroup:R,slicedSegments:W}=_v(t,T,S,h);if(W.length===0&&R.hasChildren())return this.processChildren(m,h,R,O).pipe(H($=>new Et(O,$)));if(h.length===0&&W.length===0)return z(new Et(O,[]));let ne=Bt(i)===o;return this.processSegment(m,h,R,W,ne?Z:o,!0,O).pipe(H($=>new Et(O,$ instanceof Et?[$]:[])))}))):cr(t)))}getChildConfig(e,t,i){return t.children?z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?z({routes:t._loadedRoutes,injector:t._loadedInjector}):RC(e,t,i,this.urlSerializer).pipe(bt(r=>r?this.configLoader.loadChildren(e,t).pipe(Ne(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):MC(t))):z({routes:[],injector:e})}};function zC(n){n.sort((e,t)=>e.value.outlet===Z?-1:t.value.outlet===Z?1:e.value.outlet.localeCompare(t.value.outlet))}function $C(n){let e=n.value.routeConfig;return e&&e.path===""}function Hv(n){let e=[],t=new Set;for(let i of n){if(!$C(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=Hv(i.children);e.push(new Et(i.value,r))}return e.filter(i=>!t.has(i))}function vv(n){return n.data||{}}function bv(n){return n.resolve||{}}function qC(n,e,t,i,r,o){return bt(s=>jC(n,e,t,i,s.extractedUrl,r,o).pipe(H(({state:c,tree:l})=>pe(F({},s),{targetSnapshot:c,urlAfterRedirects:l}))))}function HC(n,e){return bt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return z(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let h of Gv(l))s.add(h);let c=0;return qe(s).pipe(Ln(l=>o.has(l)?GC(l,i,n,e):(l.data=rc(l,l.parent,n).resolve,z(void 0))),Ne(()=>c++),Nu(1),bt(l=>c===s.size?z(t):Qt))})}function Gv(n){let e=n.children.map(t=>Gv(t)).flat();return[n,...e]}function GC(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!Lv(r)&&(o[ns]=r.title),WC(o,n,e,i).pipe(H(s=>(n._resolvedData=s,n.data=rc(n,n.parent,t).resolve,null)))}function WC(n,e,t,i){let r=pd(n);if(r.length===0)return z({});let o={};return qe(r).pipe(bt(s=>KC(n[s],e,t,i).pipe(jn(),Ne(c=>{if(c instanceof Xo)throw sc(new fr,c);o[s]=c}))),Nu(1),H(()=>o),Vn(s=>zv(s)?Qt:pi(s)))}function KC(n,e,t,i){let r=rs(e)??i,o=vr(n,r),s=o.resolve?o.resolve(e,t):rt(r,()=>o(e,t));return Kn(s)}function md(n){return yt(e=>{let t=n(e);return t?qe(t).pipe(H(()=>e)):z(e)})}var Wv=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Z);return i}getResolvedTitleForRoute(t){return t.data[ns]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:()=>C(QC),providedIn:"root"})}return n})(),QC=(()=>{class n extends Wv{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(Y(uv))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),as=new U("",{providedIn:"root",factory:()=>({})}),YC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=se({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&te(0,"router-outlet")},dependencies:[Bd],encapsulation:2})}return n})();function zd(n){let e=n.children&&n.children.map(zd),t=e?pe(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Z&&(t.component=YC),t}var ts=new U(""),$d=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=C(Pa);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Kn(t.loadComponent()).pipe(H(Kv),Ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Un(()=>{this.componentLoaders.delete(t)})),r=new Cu(i,()=>new Ce).pipe(Tu());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=JC(i,this.compiler,t,this.onLoadEndListener).pipe(Un(()=>{this.childrenLoaders.delete(i)})),s=new Cu(o,()=>new Ce).pipe(Tu());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JC(n,e,t,i){return Kn(n.loadChildren()).pipe(H(Kv),bt(r=>r instanceof y_||Array.isArray(r)?z(r):qe(e.compileModuleAsync(r))),H(r=>{i&&i(n);let o,s,c=!1;return Array.isArray(r)?(s=r,c=!0):(o=r.create(t).injector,s=o.get(ts,[],{optional:!0,self:!0}).flat()),{routes:s.map(zd),injector:o}}))}function XC(n){return n&&typeof n=="object"&&"default"in n}function Kv(n){return XC(n)?n.default:n}var qd=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:()=>C(ZC),providedIn:"root"})}return n})(),ZC=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qv=new U(""),Yv=new U("");function eA(n,e,t){let i=n.get(Yv),r=n.get(be);return n.get(ee).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(h=>setTimeout(h));let o,s=new Promise(h=>{o=h}),c=r.startViewTransition(()=>(o(),tA(n))),{onViewTransitionCreated:l}=i;return l&&rt(n,()=>l({transition:c,from:e,to:t})),s})}function tA(n){return new Promise(e=>{zu({read:()=>setTimeout(e)},{injector:n})})}var Jv=new U(""),Hd=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ce;transitionAbortSubject=new Ce;configLoader=C($d);environmentInjector=C(Ft);urlSerializer=C(is);rootContexts=C(os);location=C(Fo);inputBindingEnabled=C(lc,{optional:!0})!==null;titleStrategy=C(Wv);options=C(as,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=C(qd);createViewTransition=C(Qv,{optional:!0});navigationErrorHandler=C(Jv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>z(void 0);rootComponentType=null;constructor(){let t=r=>this.events.next(new Ed(r)),i=r=>this.events.next(new Td(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(pe(F(F({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new gt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Go,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ht(o=>o.id!==0),H(o=>pe(F({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),yt(o=>{let s=!1,c=!1;return z(o).pipe(yt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Tt.SupersededByNewNavigation),Qt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?pe(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),m=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!h&&m!=="reload"){let g="";return this.events.next(new Gn(l.id,this.urlSerializer.serialize(l.rawUrl),g,Za.IgnoredSameUrlNavigation)),l.resolve(!1),Qt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return z(l).pipe(yt(g=>{let T=this.transitions?.getValue();return this.events.next(new pr(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),T!==this.transitions?.getValue()?Qt:Promise.resolve(g)}),qC(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ne(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=pe(F({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let T=new ec(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(T)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:T,source:S,restoredState:O,extras:k}=l,R=new pr(g,this.urlSerializer.serialize(T),S,O);this.events.next(R);let W=Fv(this.rootComponentType).snapshot;return this.currentTransition=o=pe(F({},l),{targetSnapshot:W,urlAfterRedirects:T,extras:pe(F({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=T,z(o)}else{let g="";return this.events.next(new Gn(l.id,this.urlSerializer.serialize(l.extractedUrl),g,Za.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Qt}}),Ne(l=>{let h=new bd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),H(l=>(this.currentTransition=o=pe(F({},l),{guards:uC(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),wC(this.environmentInjector,l=>this.events.next(l)),Ne(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw sc(this.urlSerializer,l.guardsResult);let h=new yd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),ht(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Tt.GuardRejected),!1)),md(l=>{if(l.guards.canActivateChecks.length)return z(l).pipe(Ne(h=>{let m=new wd(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}),yt(h=>{let m=!1;return z(h).pipe(HC(this.paramsInheritanceStrategy,this.environmentInjector),Ne({next:()=>m=!0,complete:()=>{m||this.cancelNavigationTransition(h,"",Tt.NoDataFromResolver)}}))}),Ne(h=>{let m=new Id(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}))}),md(l=>{let h=m=>{let g=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(m.routeConfig).pipe(Ne(T=>{m.component=T}),H(()=>{})));for(let T of m.children)g.push(...h(T));return g};return Zi(h(l.targetSnapshot.root)).pipe(ku(null),Ot(1))}),md(()=>this.afterPreactivation()),yt(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,m=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return m?qe(m).pipe(H(()=>o)):z(o)}),H(l=>{let h=oC(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=pe(F({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),Ne(()=>{this.events.next(new Yo)}),lC(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ot(1),Ne({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new tn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Nt(this.transitionAbortSubject.pipe(Ne(l=>{throw l}))),Un(()=>{!s&&!c&&this.cancelNavigationTransition(o,"",Tt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Vn(l=>{if(c=!0,Bv(l))this.events.next(new pn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),cC(l)?this.events.next(new gr(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let h=new Qo(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let m=rt(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(m instanceof Xo){let{message:g,cancellationCode:T}=sc(this.urlSerializer,m);this.events.next(new pn(o.id,this.urlSerializer.serialize(o.extractedUrl),g,T)),this.events.next(new gr(m.redirectTo,m.navigationBehaviorOptions))}else throw this.events.next(h),l}catch(m){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(m)}}return Qt}))}))}cancelNavigationTransition(t,i,r){let o=new pn(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nA(n){return n!==Go}var iA=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:()=>C(rA),providedIn:"root"})}return n})(),Ud=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},rA=(()=>{class n extends Ud{static \u0275fac=(()=>{let t;return function(r){return(t||(t=_i(n)))(r||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xv=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:()=>C(oA),providedIn:"root"})}return n})(),oA=(()=>{class n extends Xv{location=C(Fo);urlSerializer=C(is);options=C(as,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=C(qd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new gn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Fv(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof pr)this.stateMemento=this.createStateMemento();else if(t instanceof Gn)this.rawUrlTree=i.initialUrl;else if(t instanceof ec){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof Yo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof pn&&(t.code===Tt.GuardRejected||t.code===Tt.NoDataFromResolver)?this.restoreHistory(i):t instanceof Qo?this.restoreHistory(i,!0):t instanceof tn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof gn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=F(F({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=F(F({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=_i(n)))(r||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zv(n,e){n.events.pipe(ht(t=>t instanceof tn||t instanceof pn||t instanceof Qo||t instanceof Gn),H(t=>t instanceof tn||t instanceof Gn?0:(t instanceof pn?t.code===Tt.Redirect||t.code===Tt.SupersededByNewNavigation:!1)?2:1),ht(t=>t!==2),Ot(1)).subscribe(()=>{e()})}var sA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},zt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=C(qu);stateManager=C(Xv);options=C(as,{optional:!0})||{};pendingTasks=C(Ia);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=C(Hd);urlSerializer=C(is);location=C(Fo);urlHandlingStrategy=C(qd);_events=new Ce;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=C(iA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=C(ts,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!C(lc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new fi;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof pn&&i.code!==Tt.Redirect&&i.code!==Tt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof tn)this.navigated=!0;else if(i instanceof gr){let s=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=F({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||nA(r.source)},s);this.scheduleNavigation(c,Go,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}lA(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Go,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=F({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(t);this.scheduleNavigation(c,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(zd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:s,m=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":m=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}m!==null&&(m=this.removeEmptyProps(m));let g;try{let T=r?r.snapshot:this.routerState.snapshot.root;g=Mv(T)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return kv(g,t,m,h??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=xi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Go,null,i)}navigate(t,i={skipLocationChange:!1}){return cA(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=F({},sA):i===!1?r=F({},aA):r=i,xi(t))return hv(this.currentUrlTree,t,r);let o=this.parseUrl(t);return hv(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let c,l,h;s?(c=s.resolve,l=s.reject,h=s.promise):h=new Promise((g,T)=>{c=g,l=T});let m=this.pendingTasks.add();return Zv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(g=>Promise.reject(g))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cA(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new fe(4008,!1)}function lA(n){return!(n instanceof Yo)&&!(n instanceof gr)}var eb=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ce;constructor(t,i,r,o,s,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=c;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(h=>{h instanceof tn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(xi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:__(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:xi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(ge(zt),ge(Wn),i_("tabindex"),ge(Lt),ge(De),ge(No))};static \u0275dir=ie({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&Me("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&st("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Xe],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Xe],replaceUrl:[2,"replaceUrl","replaceUrl",Xe],routerLink:"routerLink"},features:[At,fn]})}return n})();var cc=class{};var uA=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ht(t=>t instanceof tn),Ln(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=$u(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(c,o.children??o._loadedRoutes))}return qe(r).pipe(Du())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=z(null);let o=r.pipe(bt(s=>s===null?z(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return qe([o,s]).pipe(Du())}else return o})}static \u0275fac=function(i){return new(i||n)(Y(zt),Y(Pa),Y(Ft),Y(cc),Y($d))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tb=new U(""),dA=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof pr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof tn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Gn&&t.code===Za.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof tc&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tc(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){Ca()};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function dc(n,...e){return wt([{provide:ts,multi:!0,useValue:n},[],{provide:Wn,useFactory:nb,deps:[zt]},{provide:Sa,multi:!0,useFactory:ib},e.map(t=>t.\u0275providers)])}function nb(n){return n.routerState.root}function cs(n,e){return{\u0275kind:n,\u0275providers:e}}function ib(){let n=C(Re);return e=>{let t=n.get(nr);if(e!==t.components[0])return;let i=n.get(zt),r=n.get(rb);n.get(Gd)===1&&i.initialNavigation(),n.get(ob,null,Lu.Optional)?.setUpPreloading(),n.get(tb,null,Lu.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var rb=new U("",{factory:()=>new Ce}),Gd=new U("",{providedIn:"root",factory:()=>1});function hA(){return cs(2,[{provide:Gd,useValue:0},{provide:Hu,multi:!0,deps:[Re],useFactory:e=>{let t=e.get(P_,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(zt),o=e.get(rb);Zv(r,()=>{i(!0)}),e.get(Hd).afterPreactivation=()=>(i(!0),o.closed?z(void 0):o),r.initialNavigation()}))}}])}function mA(){return cs(3,[{provide:Hu,multi:!0,useFactory:()=>{let e=C(zt);return()=>{e.setUpLocationChangeListener()}}},{provide:Gd,useValue:2}])}var ob=new U("");function fA(n){return cs(0,[{provide:ob,useExisting:uA},{provide:cc,useExisting:n}])}function pA(){return cs(8,[gv,{provide:lc,useExisting:gv}])}function gA(n){let e=[{provide:Qv,useValue:eA},{provide:Yv,useValue:F({skipNextTransition:!!n?.skipInitialTransition},n)}];return cs(9,e)}var yv=new U("ROUTER_FORROOT_GUARD"),_A=[Fo,{provide:is,useClass:fr},zt,os,{provide:Wn,useFactory:nb,deps:[zt]},$d,[]],sb=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[_A,[],{provide:ts,multi:!0,useValue:t},{provide:yv,useFactory:wA,deps:[[zt,new it,new Uu]]},i?.errorHandler?{provide:Jv,useValue:i.errorHandler}:[],{provide:as,useValue:i||{}},i?.useHash?bA():yA(),vA(),i?.preloadingStrategy?fA(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?IA(i):[],i?.bindToComponentInputs?pA().\u0275providers:[],i?.enableViewTransitions?gA().\u0275providers:[],EA()]}}static forChild(t){return{ngModule:n,providers:[{provide:ts,multi:!0,useValue:t}]}}static \u0275fac=function(i){return new(i||n)(Y(yv,8))};static \u0275mod=ae({type:n});static \u0275inj=oe({})}return n})();function vA(){return{provide:tb,useFactory:()=>{let n=C(V_),e=C(ee),t=C(as),i=C(Hd),r=C(is);return t.scrollOffset&&n.setOffset(t.scrollOffset),new dA(r,i,n,e,t)}}}function bA(){return{provide:No,useClass:k_}}function yA(){return{provide:No,useClass:M_}}function wA(n){return"guarded"}function IA(n){return[n.initialNavigation==="disabled"?mA().\u0275providers:[],n.initialNavigation==="enabledBlocking"?hA().\u0275providers:[]]}var wv=new U("");function EA(){return[{provide:wv,useFactory:ib},{provide:Sa,multi:!0,useExisting:wv}]}var lb=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},TA=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],c=n[t++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},hc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,c=s?n[r+1]:0,l=r+2<n.length,h=l?n[r+2]:0,m=o>>2,g=(o&3)<<4|c>>4,T=(c&15)<<2|h>>6,S=h&63;l||(S=64,s||(T=64)),i.push(t[m],t[g],t[T],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):TA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;let h=r<n.length?t[n.charAt(r)]:64;++r;let g=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||c==null||h==null||g==null)throw new Kd;let T=o<<2|c>>4;if(i.push(T),h!==64){let S=c<<4&240|h>>2;if(i.push(S),g!==64){let O=h<<6&192|g;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Kd=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},CA=function(n){let e=lb(n);return hc.encodeByteArray(e,!0)},ls=function(n){return CA(n).replace(/\./g,"")},Yd=function(n){try{return hc.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ub(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var AA=()=>ub().__FIREBASE_DEFAULTS__,xA=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},SA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Yd(n[1]);return e&&JSON.parse(e)},mc=()=>{try{return AA()||xA()||SA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Jd=n=>{var e,t;return(t=(e=mc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},db=n=>{let e=Jd(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Xd=()=>{var n;return(n=mc())===null||n===void 0?void 0:n.config},Zd=n=>{var e;return(e=mc())===null||e===void 0?void 0:e[`_${n}`]};var Si=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function hb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ls(JSON.stringify(t)),ls(JSON.stringify(s)),""].join(".")}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function RA(){var n;let e=(n=mc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pb(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function gb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _b(){let n=We();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vb(){return!RA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function us(){try{return typeof indexedDB=="object"}catch{return!1}}function bb(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var DA="FirebaseError",Ct=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=DA,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$t.prototype.create)}},$t=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?PA(o,i):"Error",c=`${this.serviceName}: ${s} (${r}).`;return new Ct(r,c,i)}};function PA(n,e){return n.replace(MA,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var MA=/\{\$([^}]+)}/g;function yb(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ri(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(cb(o)&&cb(s)){if(!Ri(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function cb(n){return n!==null&&typeof n=="object"}function ds(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function wb(n,e){let t=new Qd(n,e);return t.subscribe.bind(t)}var Qd=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");kA(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Wd),r.error===void 0&&(r.error=Wd),r.complete===void 0&&(r.complete=Wd);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function kA(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wd(){}var tN=4*60*60*1e3;function qt(n){return n&&n._delegate?n._delegate:n}var pt=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Di="[DEFAULT]";var eh=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new Si;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NA(e))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Di){return this.instances.has(e)}getOptions(e=Di){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);i===c&&s.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:OA(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Di){return this.component?this.component.multipleInstances?e:Di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function OA(n){return n===Di?void 0:n}function NA(n){return n.instantiationMode==="EAGER"}var fc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new eh(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var FA=[],re=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(re||{}),VA={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},LA=re.INFO,UA={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},jA=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=UA[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},nn=class{constructor(e){this.name=e,this._logLevel=LA,this._logHandler=jA,this._userLogHandler=null,FA.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}};var BA=(n,e)=>e.some(t=>n instanceof t),Ib,Eb;function zA(){return Ib||(Ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $A(){return Eb||(Eb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Tb=new WeakMap,nh=new WeakMap,Cb=new WeakMap,th=new WeakMap,rh=new WeakMap;function qA(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(rn(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Tb.set(t,n)}).catch(()=>{}),rh.set(e,n),e}function HA(n){if(nh.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});nh.set(n,e)}var ih={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return nh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Cb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return rn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ab(n){ih=n(ih)}function GA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(pc(this),e,...t);return Cb.set(i,e.sort?e.sort():[e]),rn(i)}:$A().includes(n)?function(...e){return n.apply(pc(this),e),rn(Tb.get(this))}:function(...e){return rn(n.apply(pc(this),e))}}function WA(n){return typeof n=="function"?GA(n):(n instanceof IDBTransaction&&HA(n),BA(n,zA())?new Proxy(n,ih):n)}function rn(n){if(n instanceof IDBRequest)return qA(n);if(th.has(n))return th.get(n);let e=WA(n);return e!==n&&(th.set(n,e),rh.set(e,n)),e}var pc=n=>rh.get(n);function Sb(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,e),c=rn(s);return i&&s.addEventListener("upgradeneeded",l=>{i(rn(s.result),l.oldVersion,l.newVersion,rn(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),c.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}var KA=["get","getKey","getAll","getAllKeys","count"],QA=["put","add","delete","clear"],oh=new Map;function xb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(oh.get(e))return oh.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=QA.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||KA.includes(t)))return;let o=function(s,...c){return b(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),h=l.store;return i&&(h=h.index(c.shift())),(yield Promise.all([h[t](...c),r&&l.done]))[0]})};return oh.set(e,o),o}Ab(n=>pe(F({},n),{get:(e,t,i)=>xb(e,t)||n.get(e,t,i),has:(e,t)=>!!xb(e,t)||n.has(e,t)}));var ah=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(YA(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function YA(n){let e=n.getComponent();return e?.type==="VERSION"}var ch="@firebase/app",Rb="0.10.18";var _n=new nn("@firebase/app"),JA="@firebase/app-compat",XA="@firebase/analytics-compat",ZA="@firebase/analytics",ex="@firebase/app-check-compat",tx="@firebase/app-check",nx="@firebase/auth",ix="@firebase/auth-compat",rx="@firebase/database",ox="@firebase/data-connect",sx="@firebase/database-compat",ax="@firebase/functions",cx="@firebase/functions-compat",lx="@firebase/installations",ux="@firebase/installations-compat",dx="@firebase/messaging",hx="@firebase/messaging-compat",mx="@firebase/performance",fx="@firebase/performance-compat",px="@firebase/remote-config",gx="@firebase/remote-config-compat",_x="@firebase/storage",vx="@firebase/storage-compat",bx="@firebase/firestore",yx="@firebase/vertexai",wx="@firebase/firestore-compat",Ix="firebase",Ex="11.2.0";var lh="[DEFAULT]",Tx={[ch]:"fire-core",[JA]:"fire-core-compat",[ZA]:"fire-analytics",[XA]:"fire-analytics-compat",[tx]:"fire-app-check",[ex]:"fire-app-check-compat",[nx]:"fire-auth",[ix]:"fire-auth-compat",[rx]:"fire-rtdb",[ox]:"fire-data-connect",[sx]:"fire-rtdb-compat",[ax]:"fire-fn",[cx]:"fire-fn-compat",[lx]:"fire-iid",[ux]:"fire-iid-compat",[dx]:"fire-fcm",[hx]:"fire-fcm-compat",[mx]:"fire-perf",[fx]:"fire-perf-compat",[px]:"fire-rc",[gx]:"fire-rc-compat",[_x]:"fire-gcs",[vx]:"fire-gcs-compat",[bx]:"fire-fst",[wx]:"fire-fst-compat",[yx]:"fire-vertex","fire-js":"fire-js",[Ix]:"fire-js-all"};var hs=new Map,Cx=new Map,uh=new Map;function Db(n,e){try{n.container.addComponent(e)}catch(t){_n.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ht(n){let e=n.name;if(uh.has(e))return _n.debug(`There were multiple attempts to register component ${e}.`),!1;uh.set(e,n);for(let t of hs.values())Db(t,n);for(let t of Cx.values())Db(t,n);return!0}function br(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function vn(n){return n.settings!==void 0}var Ax={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qn=new $t("app","Firebase",Ax);var dh=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}};var Yn=Ex;function fh(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:lh,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Qn.create("bad-app-name",{appName:String(r)});if(t||(t=Xd()),!t)throw Qn.create("no-options");let o=hs.get(r);if(o){if(Ri(t,o.options)&&Ri(i,o.config))return o;throw Qn.create("duplicate-app",{appName:r})}let s=new fc(r);for(let l of uh.values())s.addComponent(l);let c=new dh(t,i,s);return hs.set(r,c),c}function Pi(n=lh){let e=hs.get(n);if(!e&&n===lh&&Xd())return fh();if(!e)throw Qn.create("no-app",{appName:n});return e}function gc(){return Array.from(hs.values())}function Fe(n,e,t){var i;let r=(i=Tx[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_n.warn(c.join(" "));return}Ht(new pt(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var xx="firebase-heartbeat-database",Sx=1,ms="firebase-heartbeat-store",sh=null;function Ob(){return sh||(sh=Sb(xx,Sx,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ms)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qn.create("idb-open",{originalErrorMessage:n.message})})),sh}function Rx(n){return b(this,null,function*(){try{let t=(yield Ob()).transaction(ms),i=yield t.objectStore(ms).get(Nb(n));return yield t.done,i}catch(e){if(e instanceof Ct)_n.warn(e.message);else{let t=Qn.create("idb-get",{originalErrorMessage:e?.message});_n.warn(t.message)}}})}function Pb(n,e){return b(this,null,function*(){try{let i=(yield Ob()).transaction(ms,"readwrite");yield i.objectStore(ms).put(e,Nb(n)),yield i.done}catch(t){if(t instanceof Ct)_n.warn(t.message);else{let i=Qn.create("idb-set",{originalErrorMessage:t?.message});_n.warn(i.message)}}})}function Nb(n){return`${n.name}!${n.options.appId}`}var Dx=1024,Px=30*24*60*60*1e3,hh=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new mh(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return b(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Mb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=Px}),this._storage.overwrite(this._heartbeatsCache))}catch(i){_n.warn(i)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Mb(),{heartbeatsToSend:i,unsentEntries:r}=Mx(this._heartbeatsCache.heartbeats),o=ls(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return _n.warn(t),""}})}};function Mb(){return new Date().toISOString().substring(0,10)}function Mx(n,e=Dx){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),kb(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),kb(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var mh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return us()?bb().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Rx(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Pb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Pb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function kb(n){return ls(JSON.stringify({version:2,heartbeats:n})).length}function kx(n){Ht(new pt("platform-logger",e=>new ah(e),"PRIVATE")),Ht(new pt("heartbeat",e=>new hh(e),"PRIVATE")),Fe(ch,Rb,n),Fe(ch,Rb,"esm2017"),Fe("fire-js","")}kx("");var Ox="firebase",Nx="11.2.0";Fe(Ox,Nx,"app");function ph(n){n===void 0&&(n_(ph),n=C(Re));let e=n.get(Ea);return t=>new vt(i=>{let r=e.add(),o=!1;function s(){o||(r(),o=!0)}let c=t.subscribe({next:l=>{i.next(l),s()},complete:()=>{i.complete(),s()},error:l=>{i.error(l),s()}});return c.add(()=>{i.unsubscribe(),s()}),c})}var Jn=new rr("ANGULARFIRE2_VERSION");function fs(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var wr=(n,e)=>{let t=e?[e]:gc(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},yr=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(yr||{}),Fb=Ku()&&typeof Zone<"u"?yr.WARN:yr.SILENT;var _c=class{zone;delegate;constructor(e,t=Kg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(s){r?r.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,i)}},Xn=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=C(ee);this.outsideAngular=t.runOutsideAngular(()=>new _c(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new _c(typeof Zone>"u"?void 0:Zone.current,Wg))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vb=!1;function Fx(n,e){!Vb&&(Fb>yr.SILENT||Ku())&&(Vb=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Fb>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Vx(n){let e=C(ee,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Mi(n){let e=C(ee,{optional:!0});return e?e.run(()=>n()):n()}var Lx=(n,e,t)=>(...i)=>(e&&setTimeout(e,0),rt(t,()=>Mi(()=>n.apply(void 0,i)))),bn=(n,e,t)=>(t||=e?yr.WARN:yr.VERBOSE,function(){let i,r=arguments,o,s,c;try{o=C(Xn),s=C(Ea),c=C(Ft)}catch{return Fx(n,t),n.apply(this,r)}for(let h=0;h<arguments.length;h++)typeof r[h]=="function"&&(e&&(i||=Mi(()=>s.add())),r[h]=Lx(r[h],i,c));let l=Vx(()=>n.apply(this,r));return e?l instanceof vt?l.pipe(Su(o.outsideAngular),xu(o.insideAngular),ph(c)):l instanceof Promise?Mi(()=>new Promise((h,m)=>{s.run(()=>l).then(g=>rt(c,()=>Mi(()=>h(g))),g=>rt(c,()=>Mi(()=>m(g))))})):typeof l=="function"&&i?function(){return setTimeout(i,0),l.apply(this,arguments)}:Mi(()=>l):l instanceof vt?l.pipe(Su(o.outsideAngular),xu(o.insideAngular)):Mi(()=>l)});var yn=class{constructor(e){return e}},ki=class{constructor(){return gc()}};function Ux(n){return n&&n.length===1?n[0]:new yn(Pi())}var gh=new U("angularfire2._apps"),jx={provide:yn,useFactory:Ux,deps:[[new it,gh]]},Bx={provide:ki,deps:[[new it,gh]]};function zx(n){return(e,t)=>{let i=t.get(Vt);Fe("angularfire",Jn.full,"core"),Fe("angularfire",Jn.full,"app"),Fe("angular",Wu.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new yn(r)}}function Lb(n,...e){return wt([jx,Bx,{provide:gh,useFactory:zx(n),multi:!0,deps:[ee,Re,Xn,...e]}])}var Ub=bn(fh,!0);var $x=new Map,qx={activated:!1,tokenObservers:[]},Hx={initialized:!1,enabled:!1};function Gt(n){return $x.get(n)||Object.assign({},qx)}function qb(){return Hx}var Gx="https://content-firebaseappcheck.googleapis.com/v1";var Wx="exchangeDebugToken",jb={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},sF=24*60*60*1e3;var vh=class{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return b(this,null,function*(){this.stop();try{this.pending=new Si,this.pending.promise.catch(t=>{}),yield Kx(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Si,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Kx(n){return new Promise(e=>{setTimeout(e,n)})}var Qx={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Zn=new $t("appCheck","AppCheck",Qx);function Hb(n){if(!Gt(n).activated)throw Zn.create("use-before-activation",{appName:n.name})}function Gb(i,r){return b(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let S=yield s.getHeartbeatsHeader();S&&(o["X-Firebase-Client"]=S)}let c={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(n,c)}catch(S){throw Zn.create("fetch-network-error",{originalErrorMessage:S?.message})}if(l.status!==200)throw Zn.create("fetch-status-error",{httpStatus:l.status});let h;try{h=yield l.json()}catch(S){throw Zn.create("fetch-parse-error",{originalErrorMessage:S?.message})}let m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Zn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});let g=Number(m[1])*1e3,T=Date.now();return{token:h.token,expireTimeMillis:T+g,issuedAtTimeMillis:T}})}function Wb(n,e){let{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${Gx}/projects/${t}/apps/${i}:${Wx}?key=${r}`,body:{debug_token:e}}}var Yx="firebase-app-check-database",Jx=1,bh="firebase-app-check-store";var vc=null;function Xx(){return vc||(vc=new Promise((n,e)=>{try{let t=indexedDB.open(Yx,Jx);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Zn.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(bh,{keyPath:"compositeKey"})}}}catch(t){e(Zn.create("storage-open",{originalErrorMessage:t?.message}))}}),vc)}function Zx(n,e){return eS(tS(n),e)}function eS(n,e){return b(this,null,function*(){let i=(yield Xx()).transaction(bh,"readwrite"),o=i.objectStore(bh).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var h;c(Zn.create("storage-set",{originalErrorMessage:(h=l.target.error)===null||h===void 0?void 0:h.message}))}})})}function tS(n){return`${n.options.appId}-${n.name}`}var yh=new nn("@firebase/app-check");function _h(n,e){return us()?Zx(n,e).catch(t=>{yh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Kb(){return qb().enabled}function Qb(){return b(this,null,function*(){let n=qb();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var nS={error:"UNKNOWN_ERROR"};function iS(n){return hc.encodeString(JSON.stringify(n),!1)}function wh(n,e=!1){return b(this,null,function*(){let t=n.app;Hb(t);let i=Gt(t),r=i.token,o;if(r&&!ps(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(ps(l)?r=l:yield _h(t,void 0))}if(!e&&r&&ps(r))return{token:r.token};let s=!1;if(Kb()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Gb(Wb(t,yield Qb()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let l=yield i.exchangeTokenPromise;return yield _h(t,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Gt(t).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?yh.warn(l.message):yh.error(l),o=l}let c;return r?o?ps(r)?c={token:r.token,internalError:o}:c=zb(o):(c={token:r.token},i.token=r,yield _h(t,r)):c=zb(o),s&&aS(t,c),c})}function rS(n){return b(this,null,function*(){let e=n.app;Hb(e);let{provider:t}=Gt(e);if(Kb()){let i=yield Qb(),{token:r}=yield Gb(Wb(e,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield t.getToken();return{token:i}}})}function oS(n,e,t,i){let{app:r}=n,o=Gt(r),s={next:t,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ps(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),Bb(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Bb(n))}function Yb(n,e){let t=Gt(n),i=t.tokenObservers.filter(r=>r.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Bb(n){let{app:e}=n,t=Gt(e),i=t.tokenRefresher;i||(i=sS(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function sS(n){let{app:e}=n;return new vh(()=>b(this,null,function*(){let t=Gt(e),i;if(t.token?i=yield wh(n,!0):i=yield wh(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=Gt(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},jb.RETRIAL_MIN_WAIT,jb.RETRIAL_MAX_WAIT)}function aS(n,e){let t=Gt(n).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function ps(n){return n.expireTimeMillis-Date.now()>0}function zb(n){return{token:iS(nS),error:n}}var Ih=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Gt(this.app);for(let t of e)Yb(this.app,t.next);return Promise.resolve()}};function cS(n,e){return new Ih(n,e)}function lS(n){return{getToken:e=>wh(n,e),getLimitedUseToken:()=>rS(n),addTokenListener:e=>oS(n,"INTERNAL",e),removeTokenListener:e=>Yb(n.app,e)}}var uS="@firebase/app-check",dS="0.8.11";var hS="app-check",$b="app-check-internal";function mS(){Ht(new pt(hS,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return cS(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($b).initialize()})),Ht(new pt($b,n=>{let e=n.getProvider("app-check").getImmediate();return lS(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Fe(uS,dS)}mS();var fS="app-check";var Ir=class{constructor(){return wr(fS)}};var pS=["localhost","0.0.0.0","127.0.0.1"],bF=typeof window<"u"&&pS.includes(window.location.hostname);function dy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var hy=dy,my=new $t("auth","Firebase",dy());var Tc=new nn("@firebase/auth");function gS(n,...e){Tc.logLevel<=re.WARN&&Tc.warn(`Auth (${Yn}): ${n}`,...e)}function yc(n,...e){Tc.logLevel<=re.ERROR&&Tc.error(`Auth (${Yn}): ${n}`,...e)}function ti(n,...e){throw zh(n,...e)}function Ni(n,...e){return zh(n,...e)}function fy(n,e,t){let i=Object.assign(Object.assign({},hy()),{[e]:t});return new $t("auth","Firebase",i).create(e,{appName:n.name})}function Oi(n){return fy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zh(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return my.create(n,...e)}function Q(n,e,...t){if(!n)throw zh(e,...t)}function wn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw yc(e),new Error(e)}function ni(n,e){n||wn(e)}function Ah(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function _S(){return Jb()==="http:"||Jb()==="https:"}function Jb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function vS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_S()||pb()||"connection"in navigator)?navigator.onLine:!0}function bS(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Fi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ni(t>e,"Short delay should be less than long delay!"),this.isMobile=mb()||gb()}get(){return vS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function $h(n,e){ni(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Cc=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var yS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var wS=new Fi(3e4,6e4);function qh(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Tr(o,s,c,l){return b(this,arguments,function*(n,e,t,i,r={}){return py(n,r,()=>b(this,null,function*(){let h={},m={};i&&(e==="GET"?m=i:h={body:JSON.stringify(i)});let g=ds(Object.assign({key:n.config.apiKey},m)).slice(1),T=yield n._getAdditionalHeaders();T["Content-Type"]="application/json",n.languageCode&&(T["X-Firebase-Locale"]=n.languageCode);let S=Object.assign({method:e,headers:T},h);return fb()||(S.referrerPolicy="no-referrer"),Cc.fetch()(gy(n,n.config.apiHost,t,g),S)}))})}function py(n,e,t){return b(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},yS),e);try{let r=new xh(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw bc(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[l,h]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw bc(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw bc(n,"user-disabled",s);let m=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw fy(n,m,h);ti(n,m)}}catch(r){if(r instanceof Ct)throw r;ti(n,"network-request-failed",{message:String(r)})}})}function IS(o,s,c,l){return b(this,arguments,function*(n,e,t,i,r={}){let h=yield Tr(n,e,t,i,r);return"mfaPendingCredential"in h&&ti(n,"multi-factor-auth-required",{_serverResponse:h}),h})}function gy(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?$h(n.config,r):`${n.config.apiScheme}://${r}`}var xh=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ni(this.auth,"network-request-failed")),wS.get())})}};function bc(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=Ni(n,e,i);return r.customData._tokenResponse=t,r}function ES(n,e){return b(this,null,function*(){return Tr(n,"POST","/v1/accounts:delete",e)})}function _y(n,e){return b(this,null,function*(){return Tr(n,"POST","/v1/accounts:lookup",e)})}function gs(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Hh(n,e=!1){return b(this,null,function*(){let t=qt(n),i=yield t.getIdToken(e),r=Gh(i);Q(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:gs(Eh(r.auth_time)),issuedAtTime:gs(Eh(r.iat)),expirationTime:gs(Eh(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Eh(n){return Number(n)*1e3}function Gh(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return yc("JWT malformed, contained fewer than 3 sections"),null;try{let r=Yd(t);return r?JSON.parse(r):(yc("Failed to decode base64 JWT payload"),null)}catch(r){return yc("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Xb(n){let e=Gh(n);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function vs(n,e,t=!1){return b(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof Ct&&TS(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function TS({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Sh=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),t)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var bs=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gs(this.lastLoginAt),this.creationTime=gs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ac(n){return b(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield vs(n,_y(t,{idToken:i}));Q(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?vy(o.providerUserInfo):[],c=CS(n.providerData,s),l=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!c?.length,m=l?h:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new bs(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,g)})}function Wh(n){return b(this,null,function*(){let e=qt(n);yield Ac(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function CS(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function vy(n){return n.map(e=>{var{providerId:t}=e,i=Au(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function AS(n,e){return b(this,null,function*(){let t=yield py(n,{},()=>b(this,null,function*(){let i=ds({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=gy(n,r,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Cc.fetch()(s,{method:"POST",headers:c,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function xS(n,e){return b(this,null,function*(){return Tr(n,"POST","/v2/accounts:revokeToken",qh(n,e))})}var _s=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let t=Xb(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return b(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return b(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield AS(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(Q(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(Q(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(Q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return wn("not implemented")}};function ei(n,e){Q(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Er=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=Au(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bs(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let t=yield vs(this,this.stsTokenManager.getToken(this.auth,e));return Q(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Hh(this,e)}reload(){return Wh(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return b(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Ac(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(vn(this.auth.app))return Promise.reject(Oi(this.auth));let e=yield this.getIdToken();return yield vs(this,ES(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,c,l,h,m;let g=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(r=t.email)!==null&&r!==void 0?r:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,O=(s=t.photoURL)!==null&&s!==void 0?s:void 0,k=(c=t.tenantId)!==null&&c!==void 0?c:void 0,R=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,W=(h=t.createdAt)!==null&&h!==void 0?h:void 0,ne=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:$,emailVerified:ve,isAnonymous:Ye,providerData:me,stsTokenManager:w}=t;Q($&&w,e,"internal-error");let p=_s.fromJSON(this.name,w);Q(typeof $=="string",e,"internal-error"),ei(g,e.name),ei(T,e.name),Q(typeof ve=="boolean",e,"internal-error"),Q(typeof Ye=="boolean",e,"internal-error"),ei(S,e.name),ei(O,e.name),ei(k,e.name),ei(R,e.name),ei(W,e.name),ei(ne,e.name);let v=new n({uid:$,auth:e,email:T,emailVerified:ve,displayName:g,isAnonymous:Ye,photoURL:O,phoneNumber:S,tenantId:k,stsTokenManager:p,createdAt:W,lastLoginAt:ne});return me&&Array.isArray(me)&&(v.providerData=me.map(y=>Object.assign({},y))),R&&(v._redirectEventId=R),v}static _fromIdTokenResponse(e,t,i=!1){return b(this,null,function*(){let r=new _s;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Ac(o),o})}static _fromGetAccountInfoResponse(e,t,i){return b(this,null,function*(){let r=t.users[0];Q(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?vy(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,c=new _s;c.updateFromIdToken(i);let l=new n({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:s}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new bs(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(l,h),l})}};var Zb=new Map;function In(n){ni(n instanceof Function,"Expected a class definition");let e=Zb.get(n);return e?(ni(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Zb.set(n,e),e)}var SS=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(t,i){return b(this,null,function*(){this.storage[t]=i})}_get(t){return b(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return b(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),Rh=SS;function wc(n,e,t){return`firebase:${n}:${e}:${t}`}var xc=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=wc(this.userKey,r.apiKey,o),this.fullPersistenceKey=wc("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Er._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return b(this,null,function*(){if(!t.length)return new n(In(Rh),e,i);let r=(yield Promise.all(t.map(h=>b(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),o=r[0]||In(Rh),s=wc(i,e.config.apiKey,e.name),c=null;for(let h of t)try{let m=yield h._get(s);if(m){let g=Er._fromJSON(e,m);h!==o&&(c=g),o=h;break}}catch{}let l=r.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,i):(o=l[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(h=>b(this,null,function*(){if(h!==o)try{yield h._remove(s)}catch{}}))),new n(o,e,i))})}};function ey(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Iy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(by(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ty(e))return"Blackberry";if(Cy(e))return"Webos";if(yy(e))return"Safari";if((e.includes("chrome/")||wy(e))&&!e.includes("edge/"))return"Chrome";if(Ey(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function by(n=We()){return/firefox\//i.test(n)}function yy(n=We()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wy(n=We()){return/crios\//i.test(n)}function Iy(n=We()){return/iemobile/i.test(n)}function Ey(n=We()){return/android/i.test(n)}function Ty(n=We()){return/blackberry/i.test(n)}function Cy(n=We()){return/webos/i.test(n)}function Kh(n=We()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function RS(n=We()){var e;return Kh(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DS(){return _b()&&document.documentMode===10}function Ay(n=We()){return Kh(n)||Ey(n)||Cy(n)||Ty(n)||/windows phone/i.test(n)||Iy(n)}function xy(n,e=[]){let t;switch(n){case"Browser":t=ey(We());break;case"Worker":t=`${ey(We())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yn}/${i}`}var Dh=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,c)=>{try{let l=e(o);s(l)}catch(l){c(l)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function PS(t){return b(this,arguments,function*(n,e={}){return Tr(n,"GET","/v2/passwordPolicy",qh(n,e))})}var MS=6,Ph=class{constructor(e){var t,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:MS,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Mh=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sc(this),this.idTokenSubscription=new Sc(this),this.beforeStateQueue=new Dh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=my,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=In(t)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield xc.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let t=yield _y(this,{idToken:e}),i=yield Er._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var t;if(vn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===c)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return b(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield Ac(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=bS()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(vn(this.app))return Promise.reject(Oi(this));let t=e?qt(e):null;return t&&Q(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return b(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return vn(this.app)?Promise.reject(Oi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return vn(this.app)?Promise.reject(Oi(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(In(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield PS(this),t=new Ph(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $t("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield xS(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return b(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&In(e)||this._popupRedirectResolver;Q(t,this,"argument-error"),this.redirectPersistenceManager=yield xc.create(this,[In(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,i,r);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return b(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&gS(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Qh(n){return qt(n)}var Sc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wb(t=>this.observer=t)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Yh={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kS(n){Yh=n}function OS(n){return Yh.loadJS(n)}function NS(){return Yh.gapiScript}function Sy(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Jh(n,e){let t=br(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),o=t.getOptions();if(Ri(o,e??{}))return r;ti(r,"already-initialized")}return t.initialize({options:e})}function FS(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(In);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function Xh(n,e,t){let i=Qh(n);Q(i._canInitEmulator,i,"emulator-config-failed"),Q(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,o=Ry(e),{host:s,port:c}=VS(e),l=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${s}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||LS()}function Ry(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function VS(n){let e=Ry(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:ty(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:ty(s)}}}function ty(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function LS(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Rc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wn("not implemented")}_getIdTokenResponse(e){return wn("not implemented")}_linkToIdToken(e,t){return wn("not implemented")}_getReauthenticationResolver(e){return wn("not implemented")}};function Th(n,e){return b(this,null,function*(){return IS(n,"POST","/v1/accounts:signInWithIdp",qh(n,e))})}var Dc=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var kh=class extends Dc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ys=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return b(this,null,function*(){let o=yield Er._fromIdTokenResponse(e,i,r),s=ny(i);return new n({user:o,providerId:s,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return b(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=ny(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function ny(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Oh=class n extends Ct{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function Dy(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(n,o,e,i):o})}function US(n,e,t=!1){return b(this,null,function*(){let i=yield vs(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ys._forOperation(n,"link",i)})}function jS(n,e,t=!1){return b(this,null,function*(){let{auth:i}=n;if(vn(i.app))return Promise.reject(Oi(i));let r="reauthenticate";try{let o=yield vs(n,Dy(i,r,e,n),t);Q(o.idToken,i,"internal-error");let s=Gh(o.idToken);Q(s,i,"internal-error");let{sub:c}=s;return Q(n.uid===c,i,"user-mismatch"),ys._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ti(i,"user-mismatch"),o}})}function BS(n,e,t=!1){return b(this,null,function*(){if(vn(n.app))return Promise.reject(Oi(n));let i="signIn",r=yield Dy(n,i,e),o=yield ys._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})}function Zh(n,e,t,i){return qt(n).onIdTokenChanged(e,t,i)}function em(n,e,t){return qt(n).beforeAuthStateChanged(e,t)}var Pc="__sak";var Mc=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pc,"1"),this.storage.removeItem(Pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var zS=1e3,$S=10,qS=(()=>{class n extends Mc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ay(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((c,l,h)=>{this.notifyListeners(c,h)});return}let r=t.key;i?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);DS()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,$S):o()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},zS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return b(this,null,function*(){yield Fn(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return b(this,null,function*(){let i=yield Fn(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return b(this,null,function*(){yield Fn(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Py=qS;var HS=(()=>{class n extends Mc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),tm=HS;function GS(n){return Promise.all(n.map(e=>b(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var WS=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return b(this,null,function*(){let i=t,{eventId:r,eventType:o,data:s}=i.data,c=this.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let l=Array.from(c).map(m=>b(this,null,function*(){return m(i.origin,s)})),h=yield GS(l);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function My(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var Nh=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return b(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((c,l)=>{let h=My("",20);r.port1.start();let m=setTimeout(()=>{l(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(g){let T=g;if(T.data.eventId===h)switch(T.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(T.data.response);break;default:clearTimeout(m),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function on(){return window}function KS(n){on().location.href=n}function ky(){return typeof on().WorkerGlobalScope<"u"&&typeof on().importScripts=="function"}function QS(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function YS(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function JS(){return ky()?self:null}var Oy="firebaseLocalStorageDb",XS=1,kc="firebaseLocalStorage",Ny="fbase_key",Vi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Nc(n,e){return n.transaction([kc],e?"readwrite":"readonly").objectStore(kc)}function ZS(){let n=indexedDB.deleteDatabase(Oy);return new Vi(n).toPromise()}function Fh(){let n=indexedDB.open(Oy,XS);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(kc,{keyPath:Ny})}catch(r){t(r)}}),n.addEventListener("success",()=>b(this,null,function*(){let i=n.result;i.objectStoreNames.contains(kc)?e(i):(i.close(),yield ZS(),e(yield Fh()))}))})}function iy(n,e,t){return b(this,null,function*(){let i=Nc(n,!0).put({[Ny]:e,value:t});return new Vi(i).toPromise()})}function eR(n,e){return b(this,null,function*(){let t=Nc(n,!1).get(e),i=yield new Vi(t).toPromise();return i===void 0?null:i.value})}function ry(n,e){let t=Nc(n,!0).delete(e);return new Vi(t).toPromise()}var tR=800,nR=3,iR=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield Fh(),this.db)})}_withRetries(t){return b(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>nR)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return ky()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=WS._getInstance(JS()),this.receiver._subscribe("keyChanged",(t,i)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var t,i;if(this.activeServiceWorker=yield QS(),!this.activeServiceWorker)return;this.sender=new Nh(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||YS()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Fh();return yield iy(t,Pc,"1"),yield ry(t,Pc),!0}catch{}return!1})}_withPendingWrite(t){return b(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>iy(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return b(this,null,function*(){let i=yield this._withRetries(r=>eR(r,t));return this.localCache[t]=i,i})}_remove(t){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(i=>ry(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return b(this,null,function*(){let t=yield this._withRetries(o=>{let s=Nc(o,!1).getAll();return new Vi(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),tR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Fy=iR;var RF=Sy("rcb"),DF=new Fi(3e4,6e4);function rR(n,e){return e?In(e):(Q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ws=class extends Rc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Th(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Th(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Th(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function oR(n){return BS(n.auth,new ws(n),n.bypassAuthState)}function sR(n){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),jS(t,new ws(n),n.bypassAuthState)}function aR(n){return b(this,null,function*(){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),US(t,new ws(n),n.bypassAuthState)})}var Vh=class{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>b(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return b(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(h){this.reject(h)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oR;case"linkViaPopup":case"linkViaRedirect":return aR;case"reauthViaPopup":case"reauthViaRedirect":return sR;default:ti(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var PF=new Fi(2e3,1e4);var cR="pendingRedirect",Ic=new Map,Lh=class n extends Vh{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return b(this,null,function*(){let e=Ic.get(this.auth._key());if(!e){try{let i=(yield lR(this.resolver,this.auth))?yield Fn(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Ic.set(this.auth._key(),e)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return b(this,null,function*(){if(e.type==="signInViaRedirect")return Fn(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Fn(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function lR(n,e){return b(this,null,function*(){let t=hR(e),i=dR(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function uR(n,e){Ic.set(n._key(),e)}function dR(n){return In(n._redirectPersistence)}function hR(n){return wc(cR,n.config.apiKey,n.name)}function mR(n,e,t=!1){return b(this,null,function*(){if(vn(n.app))return Promise.reject(Oi(n));let i=Qh(n),r=rR(i,e),s=yield new Lh(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}var fR=10*60*1e3,Uh=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Vy(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ni(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fR&&this.cachedEventUids.clear(),this.cachedEventUids.has(oy(e))}saveEventToCache(e){this.cachedEventUids.add(oy(e)),this.lastProcessedEventTime=Date.now()}};function oy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Vy({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function pR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vy(n);default:return!1}}function gR(t){return b(this,arguments,function*(n,e={}){return Tr(n,"GET","/v1/projects",e)})}var _R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vR=/^https?/;function bR(n){return b(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield gR(n);for(let t of e)try{if(yR(t))return}catch{}ti(n,"unauthorized-domain")})}function yR(n){let e=Ah(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===i}if(!vR.test(t))return!1;if(_R.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var wR=new Fi(3e4,6e4);function sy(){let n=on().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function IR(n){return new Promise((e,t)=>{var i,r,o;function s(){sy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sy(),t(Ni(n,"network-request-failed"))},timeout:wR.get()})}if(!((r=(i=on().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=on().gapi)===null||o===void 0)&&o.load)s();else{let c=Sy("iframefcb");return on()[c]=()=>{gapi.load?s():t(Ni(n,"network-request-failed"))},OS(`${NS()}?onload=${c}`).catch(l=>t(l))}}).catch(e=>{throw Ec=null,e})}var Ec=null;function ER(n){return Ec=Ec||IR(n),Ec}var TR=new Fi(5e3,15e3),CR="__/auth/iframe",AR="emulator/auth/iframe",xR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RR(n){let e=n.config;Q(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?$h(e,AR):`https://${n.config.authDomain}/${CR}`,i={apiKey:e.apiKey,appName:n.name,v:Yn},r=SR.get(n.config.apiHost);r&&(i.eid=r);let o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${ds(i).slice(1)}`}function DR(n){return b(this,null,function*(){let e=yield ER(n),t=on().gapi;return Q(t,n,"internal-error"),e.open({where:document.body,url:RR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xR,dontclear:!0},i=>new Promise((r,o)=>b(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=Ni(n,"network-request-failed"),c=on().setTimeout(()=>{o(s)},TR.get());function l(){on().clearTimeout(c),r(i)}i.ping(l).then(l,()=>{o(s)})})))})}var PR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MR=500,kR=600,OR="_blank",NR="http://localhost",Oc=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function FR(n,e,t,i=MR,r=kR){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),c="",l=Object.assign(Object.assign({},PR),{width:i.toString(),height:r.toString(),top:o,left:s}),h=We().toLowerCase();t&&(c=wy(h)?OR:t),by(h)&&(e=e||NR,l.scrollbars="yes");let m=Object.entries(l).reduce((T,[S,O])=>`${T}${S}=${O},`,"");if(RS(h)&&c!=="_self")return VR(e||"",c),new Oc(null);let g=window.open(e||"",c,m);Q(g,n,"popup-blocked");try{g.focus()}catch{}return new Oc(g)}function VR(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var LR="__/auth/handler",UR="emulator/auth/handler",jR=encodeURIComponent("fac");function ay(n,e,t,i,r,o){return b(this,null,function*(){Q(n.config.authDomain,n,"auth-domain-config-required"),Q(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Yn,eventId:r};if(e instanceof Dc){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",yb(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[m,g]of Object.entries(o||{}))s[m]=g}if(e instanceof kh){let m=e.getScopes().filter(g=>g!=="");m.length>0&&(s.scopes=m.join(","))}n.tenantId&&(s.tid=n.tenantId);let c=s;for(let m of Object.keys(c))c[m]===void 0&&delete c[m];let l=yield n._getAppCheckToken(),h=l?`#${jR}=${encodeURIComponent(l)}`:"";return`${BR(n)}?${ds(c).slice(1)}${h}`})}function BR({config:n}){return n.emulator?$h(n,UR):`https://${n.authDomain}/${LR}`}var Ch="webStorageSupport",jh=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tm,this._completeRedirectFn=mR,this._overrideRedirectResult=uR}_openPopup(e,t,i,r){return b(this,null,function*(){var o;ni((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield ay(e,t,i,Ah(),r);return FR(e,s,My())})}_openRedirect(e,t,i,r){return b(this,null,function*(){yield this._originValidation(e);let o=yield ay(e,t,i,Ah(),r);return KS(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(ni(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return b(this,null,function*(){let t=yield DR(e),i=new Uh(e);return t.register("authEvent",r=>(Q(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ch,{type:Ch},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[Ch];s!==void 0&&t(!!s),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ay()||yy()||Kh()}},Ly=jh;var cy="@firebase/auth",ly="1.8.2";var Bh=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function zR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $R(n){Ht(new pt("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=i.options;Q(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xy(n)},h=new Mh(i,r,o,l);return FS(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ht(new pt("auth-internal",e=>{let t=Qh(e.getProvider("auth").getImmediate());return(i=>new Bh(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fe(cy,ly,zR(n)),Fe(cy,ly,"esm2017")}var qR=5*60,HR=Zd("authIdTokenMaxAge")||qR,uy=null,GR=n=>e=>b(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>HR)return;let r=t?.token;uy!==r&&(uy=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function nm(n=Pi()){let e=br(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Jh(n,{popupRedirectResolver:Ly,persistence:[Fy,Py,tm]}),i=Zd("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=GR(o.toString());em(t,s,()=>s(t.currentUser)),Zh(t,c=>s(c))}}let r=Jd("auth");return r&&Xh(t,`http://${r}`),t}function WR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}kS({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let o=Ni("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",WR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$R("Browser");var Uy="auth",Is=class{constructor(e){return e}},Es=class{constructor(){return wr(Uy)}};var im=new U("angularfire2.auth-instances");function jD(n,e){let t=fs(Uy,n,e);return t&&new Is(t)}function BD(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Is(i)}}var zD={provide:Es,deps:[[new it,im]]},$D={provide:Is,useFactory:jD,deps:[[new it,im],yn]};function jy(n,...e){return Fe("angularfire",Jn.full,"auth"),wt([$D,zD,{provide:im,useFactory:BD(n),multi:!0,deps:[ee,Re,Xn,ki,[new it,Ir],...e]}])}var By=bn(nm,!0);var zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$y={};var En,rm;(function(){var n;function e(w,p){function v(){}v.prototype=p.prototype,w.D=p.prototype,w.prototype=new v,w.prototype.constructor=w,w.C=function(y,I,A){for(var _=Array(arguments.length-2),dn=2;dn<arguments.length;dn++)_[dn-2]=arguments[dn];return p.prototype[I].apply(y,_)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(w,p,v){v||(v=0);var y=Array(16);if(typeof p=="string")for(var I=0;16>I;++I)y[I]=p.charCodeAt(v++)|p.charCodeAt(v++)<<8|p.charCodeAt(v++)<<16|p.charCodeAt(v++)<<24;else for(I=0;16>I;++I)y[I]=p[v++]|p[v++]<<8|p[v++]<<16|p[v++]<<24;p=w.g[0],v=w.g[1],I=w.g[2];var A=w.g[3],_=p+(A^v&(I^A))+y[0]+3614090360&4294967295;p=v+(_<<7&4294967295|_>>>25),_=A+(I^p&(v^I))+y[1]+3905402710&4294967295,A=p+(_<<12&4294967295|_>>>20),_=I+(v^A&(p^v))+y[2]+606105819&4294967295,I=A+(_<<17&4294967295|_>>>15),_=v+(p^I&(A^p))+y[3]+3250441966&4294967295,v=I+(_<<22&4294967295|_>>>10),_=p+(A^v&(I^A))+y[4]+4118548399&4294967295,p=v+(_<<7&4294967295|_>>>25),_=A+(I^p&(v^I))+y[5]+1200080426&4294967295,A=p+(_<<12&4294967295|_>>>20),_=I+(v^A&(p^v))+y[6]+2821735955&4294967295,I=A+(_<<17&4294967295|_>>>15),_=v+(p^I&(A^p))+y[7]+4249261313&4294967295,v=I+(_<<22&4294967295|_>>>10),_=p+(A^v&(I^A))+y[8]+1770035416&4294967295,p=v+(_<<7&4294967295|_>>>25),_=A+(I^p&(v^I))+y[9]+2336552879&4294967295,A=p+(_<<12&4294967295|_>>>20),_=I+(v^A&(p^v))+y[10]+4294925233&4294967295,I=A+(_<<17&4294967295|_>>>15),_=v+(p^I&(A^p))+y[11]+2304563134&4294967295,v=I+(_<<22&4294967295|_>>>10),_=p+(A^v&(I^A))+y[12]+1804603682&4294967295,p=v+(_<<7&4294967295|_>>>25),_=A+(I^p&(v^I))+y[13]+4254626195&4294967295,A=p+(_<<12&4294967295|_>>>20),_=I+(v^A&(p^v))+y[14]+2792965006&4294967295,I=A+(_<<17&4294967295|_>>>15),_=v+(p^I&(A^p))+y[15]+1236535329&4294967295,v=I+(_<<22&4294967295|_>>>10),_=p+(I^A&(v^I))+y[1]+4129170786&4294967295,p=v+(_<<5&4294967295|_>>>27),_=A+(v^I&(p^v))+y[6]+3225465664&4294967295,A=p+(_<<9&4294967295|_>>>23),_=I+(p^v&(A^p))+y[11]+643717713&4294967295,I=A+(_<<14&4294967295|_>>>18),_=v+(A^p&(I^A))+y[0]+3921069994&4294967295,v=I+(_<<20&4294967295|_>>>12),_=p+(I^A&(v^I))+y[5]+3593408605&4294967295,p=v+(_<<5&4294967295|_>>>27),_=A+(v^I&(p^v))+y[10]+38016083&4294967295,A=p+(_<<9&4294967295|_>>>23),_=I+(p^v&(A^p))+y[15]+3634488961&4294967295,I=A+(_<<14&4294967295|_>>>18),_=v+(A^p&(I^A))+y[4]+3889429448&4294967295,v=I+(_<<20&4294967295|_>>>12),_=p+(I^A&(v^I))+y[9]+568446438&4294967295,p=v+(_<<5&4294967295|_>>>27),_=A+(v^I&(p^v))+y[14]+3275163606&4294967295,A=p+(_<<9&4294967295|_>>>23),_=I+(p^v&(A^p))+y[3]+4107603335&4294967295,I=A+(_<<14&4294967295|_>>>18),_=v+(A^p&(I^A))+y[8]+1163531501&4294967295,v=I+(_<<20&4294967295|_>>>12),_=p+(I^A&(v^I))+y[13]+2850285829&4294967295,p=v+(_<<5&4294967295|_>>>27),_=A+(v^I&(p^v))+y[2]+4243563512&4294967295,A=p+(_<<9&4294967295|_>>>23),_=I+(p^v&(A^p))+y[7]+1735328473&4294967295,I=A+(_<<14&4294967295|_>>>18),_=v+(A^p&(I^A))+y[12]+2368359562&4294967295,v=I+(_<<20&4294967295|_>>>12),_=p+(v^I^A)+y[5]+4294588738&4294967295,p=v+(_<<4&4294967295|_>>>28),_=A+(p^v^I)+y[8]+2272392833&4294967295,A=p+(_<<11&4294967295|_>>>21),_=I+(A^p^v)+y[11]+1839030562&4294967295,I=A+(_<<16&4294967295|_>>>16),_=v+(I^A^p)+y[14]+4259657740&4294967295,v=I+(_<<23&4294967295|_>>>9),_=p+(v^I^A)+y[1]+2763975236&4294967295,p=v+(_<<4&4294967295|_>>>28),_=A+(p^v^I)+y[4]+1272893353&4294967295,A=p+(_<<11&4294967295|_>>>21),_=I+(A^p^v)+y[7]+4139469664&4294967295,I=A+(_<<16&4294967295|_>>>16),_=v+(I^A^p)+y[10]+3200236656&4294967295,v=I+(_<<23&4294967295|_>>>9),_=p+(v^I^A)+y[13]+681279174&4294967295,p=v+(_<<4&4294967295|_>>>28),_=A+(p^v^I)+y[0]+3936430074&4294967295,A=p+(_<<11&4294967295|_>>>21),_=I+(A^p^v)+y[3]+3572445317&4294967295,I=A+(_<<16&4294967295|_>>>16),_=v+(I^A^p)+y[6]+76029189&4294967295,v=I+(_<<23&4294967295|_>>>9),_=p+(v^I^A)+y[9]+3654602809&4294967295,p=v+(_<<4&4294967295|_>>>28),_=A+(p^v^I)+y[12]+3873151461&4294967295,A=p+(_<<11&4294967295|_>>>21),_=I+(A^p^v)+y[15]+530742520&4294967295,I=A+(_<<16&4294967295|_>>>16),_=v+(I^A^p)+y[2]+3299628645&4294967295,v=I+(_<<23&4294967295|_>>>9),_=p+(I^(v|~A))+y[0]+4096336452&4294967295,p=v+(_<<6&4294967295|_>>>26),_=A+(v^(p|~I))+y[7]+1126891415&4294967295,A=p+(_<<10&4294967295|_>>>22),_=I+(p^(A|~v))+y[14]+2878612391&4294967295,I=A+(_<<15&4294967295|_>>>17),_=v+(A^(I|~p))+y[5]+4237533241&4294967295,v=I+(_<<21&4294967295|_>>>11),_=p+(I^(v|~A))+y[12]+1700485571&4294967295,p=v+(_<<6&4294967295|_>>>26),_=A+(v^(p|~I))+y[3]+2399980690&4294967295,A=p+(_<<10&4294967295|_>>>22),_=I+(p^(A|~v))+y[10]+4293915773&4294967295,I=A+(_<<15&4294967295|_>>>17),_=v+(A^(I|~p))+y[1]+2240044497&4294967295,v=I+(_<<21&4294967295|_>>>11),_=p+(I^(v|~A))+y[8]+1873313359&4294967295,p=v+(_<<6&4294967295|_>>>26),_=A+(v^(p|~I))+y[15]+4264355552&4294967295,A=p+(_<<10&4294967295|_>>>22),_=I+(p^(A|~v))+y[6]+2734768916&4294967295,I=A+(_<<15&4294967295|_>>>17),_=v+(A^(I|~p))+y[13]+1309151649&4294967295,v=I+(_<<21&4294967295|_>>>11),_=p+(I^(v|~A))+y[4]+4149444226&4294967295,p=v+(_<<6&4294967295|_>>>26),_=A+(v^(p|~I))+y[11]+3174756917&4294967295,A=p+(_<<10&4294967295|_>>>22),_=I+(p^(A|~v))+y[2]+718787259&4294967295,I=A+(_<<15&4294967295|_>>>17),_=v+(A^(I|~p))+y[9]+3951481745&4294967295,w.g[0]=w.g[0]+p&4294967295,w.g[1]=w.g[1]+(I+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+A&4294967295}i.prototype.u=function(w,p){p===void 0&&(p=w.length);for(var v=p-this.blockSize,y=this.B,I=this.h,A=0;A<p;){if(I==0)for(;A<=v;)r(this,w,A),A+=this.blockSize;if(typeof w=="string"){for(;A<p;)if(y[I++]=w.charCodeAt(A++),I==this.blockSize){r(this,y),I=0;break}}else for(;A<p;)if(y[I++]=w[A++],I==this.blockSize){r(this,y),I=0;break}}this.h=I,this.o+=p},i.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var p=1;p<w.length-8;++p)w[p]=0;var v=8*this.o;for(p=w.length-8;p<w.length;++p)w[p]=v&255,v/=256;for(this.u(w),w=Array(16),p=v=0;4>p;++p)for(var y=0;32>y;y+=8)w[v++]=this.g[p]>>>y&255;return w};function o(w,p){var v=c;return Object.prototype.hasOwnProperty.call(v,w)?v[w]:v[w]=p(w)}function s(w,p){this.h=p;for(var v=[],y=!0,I=w.length-1;0<=I;I--){var A=w[I]|0;y&&A==p||(v[I]=A,y=!1)}this.g=v}var c={};function l(w){return-128<=w&&128>w?o(w,function(p){return new s([p|0],0>p?-1:0)}):new s([w|0],0>w?-1:0)}function h(w){if(isNaN(w)||!isFinite(w))return g;if(0>w)return R(h(-w));for(var p=[],v=1,y=0;w>=v;y++)p[y]=w/v|0,v*=4294967296;return new s(p,0)}function m(w,p){if(w.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(w.charAt(0)=="-")return R(m(w.substring(1),p));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=h(Math.pow(p,8)),y=g,I=0;I<w.length;I+=8){var A=Math.min(8,w.length-I),_=parseInt(w.substring(I,I+A),p);8>A?(A=h(Math.pow(p,A)),y=y.j(A).add(h(_))):(y=y.j(v),y=y.add(h(_)))}return y}var g=l(0),T=l(1),S=l(16777216);n=s.prototype,n.m=function(){if(k(this))return-R(this).m();for(var w=0,p=1,v=0;v<this.g.length;v++){var y=this.i(v);w+=(0<=y?y:4294967296+y)*p,p*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O(this))return"0";if(k(this))return"-"+R(this).toString(w);for(var p=h(Math.pow(w,6)),v=this,y="";;){var I=ve(v,p).g;v=W(v,I.j(p));var A=((0<v.g.length?v.g[0]:v.h)>>>0).toString(w);if(v=I,O(v))return A+y;for(;6>A.length;)A="0"+A;y=A+y}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function O(w){if(w.h!=0)return!1;for(var p=0;p<w.g.length;p++)if(w.g[p]!=0)return!1;return!0}function k(w){return w.h==-1}n.l=function(w){return w=W(this,w),k(w)?-1:O(w)?0:1};function R(w){for(var p=w.g.length,v=[],y=0;y<p;y++)v[y]=~w.g[y];return new s(v,~w.h).add(T)}n.abs=function(){return k(this)?R(this):this},n.add=function(w){for(var p=Math.max(this.g.length,w.g.length),v=[],y=0,I=0;I<=p;I++){var A=y+(this.i(I)&65535)+(w.i(I)&65535),_=(A>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);y=_>>>16,A&=65535,_&=65535,v[I]=_<<16|A}return new s(v,v[v.length-1]&-2147483648?-1:0)};function W(w,p){return w.add(R(p))}n.j=function(w){if(O(this)||O(w))return g;if(k(this))return k(w)?R(this).j(R(w)):R(R(this).j(w));if(k(w))return R(this.j(R(w)));if(0>this.l(S)&&0>w.l(S))return h(this.m()*w.m());for(var p=this.g.length+w.g.length,v=[],y=0;y<2*p;y++)v[y]=0;for(y=0;y<this.g.length;y++)for(var I=0;I<w.g.length;I++){var A=this.i(y)>>>16,_=this.i(y)&65535,dn=w.i(I)>>>16,co=w.i(I)&65535;v[2*y+2*I]+=_*co,ne(v,2*y+2*I),v[2*y+2*I+1]+=A*co,ne(v,2*y+2*I+1),v[2*y+2*I+1]+=_*dn,ne(v,2*y+2*I+1),v[2*y+2*I+2]+=A*dn,ne(v,2*y+2*I+2)}for(y=0;y<p;y++)v[y]=v[2*y+1]<<16|v[2*y];for(y=p;y<2*p;y++)v[y]=0;return new s(v,0)};function ne(w,p){for(;(w[p]&65535)!=w[p];)w[p+1]+=w[p]>>>16,w[p]&=65535,p++}function $(w,p){this.g=w,this.h=p}function ve(w,p){if(O(p))throw Error("division by zero");if(O(w))return new $(g,g);if(k(w))return p=ve(R(w),p),new $(R(p.g),R(p.h));if(k(p))return p=ve(w,R(p)),new $(R(p.g),p.h);if(30<w.g.length){if(k(w)||k(p))throw Error("slowDivide_ only works with positive integers.");for(var v=T,y=p;0>=y.l(w);)v=Ye(v),y=Ye(y);var I=me(v,1),A=me(y,1);for(y=me(y,2),v=me(v,2);!O(y);){var _=A.add(y);0>=_.l(w)&&(I=I.add(v),A=_),y=me(y,1),v=me(v,1)}return p=W(w,I.j(p)),new $(I,p)}for(I=g;0<=w.l(p);){for(v=Math.max(1,Math.floor(w.m()/p.m())),y=Math.ceil(Math.log(v)/Math.LN2),y=48>=y?1:Math.pow(2,y-48),A=h(v),_=A.j(p);k(_)||0<_.l(w);)v-=y,A=h(v),_=A.j(p);O(A)&&(A=T),I=I.add(A),w=W(w,_)}return new $(I,w)}n.A=function(w){return ve(this,w).h},n.and=function(w){for(var p=Math.max(this.g.length,w.g.length),v=[],y=0;y<p;y++)v[y]=this.i(y)&w.i(y);return new s(v,this.h&w.h)},n.or=function(w){for(var p=Math.max(this.g.length,w.g.length),v=[],y=0;y<p;y++)v[y]=this.i(y)|w.i(y);return new s(v,this.h|w.h)},n.xor=function(w){for(var p=Math.max(this.g.length,w.g.length),v=[],y=0;y<p;y++)v[y]=this.i(y)^w.i(y);return new s(v,this.h^w.h)};function Ye(w){for(var p=w.g.length+1,v=[],y=0;y<p;y++)v[y]=w.i(y)<<1|w.i(y-1)>>>31;return new s(v,w.h)}function me(w,p){var v=p>>5;p%=32;for(var y=w.g.length-v,I=[],A=0;A<y;A++)I[A]=0<p?w.i(A+v)>>>p|w.i(A+v+1)<<32-p:w.i(A+v);return new s(I,w.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,rm=$y.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=m,En=$y.Integer=s}).apply(typeof zy<"u"?zy:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tn={};var om,qD,Cr,sm,Ts,Vc,am,cm,lm;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,u,d){return a==Array.prototype||a==Object.prototype||(a[u]=d.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var u=0;u<a.length;++u){var d=a[u];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=t(this);function r(a,u){if(u)e:{var d=i;a=a.split(".");for(var f=0;f<a.length-1;f++){var E=a[f];if(!(E in d))break e;d=d[E]}a=a[a.length-1],f=d[a],u=u(f),u!=f&&u!=null&&e(d,a,{configurable:!0,writable:!0,value:u})}}function o(a,u){a instanceof String&&(a+="");var d=0,f=!1,E={next:function(){if(!f&&d<a.length){var x=d++;return{value:u(x,a[x]),done:!1}}return f=!0,{done:!0,value:void 0}}};return E[Symbol.iterator]=function(){return E},E}r("Array.prototype.values",function(a){return a||function(){return o(this,function(u,d){return d})}});var s=s||{},c=this||self;function l(a){var u=typeof a;return u=u!="object"?u:a?Array.isArray(a)?"array":u:"null",u=="array"||u=="object"&&typeof a.length=="number"}function h(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function m(a,u,d){return a.call.apply(a.bind,arguments)}function g(a,u,d){if(!a)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var E=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(E,f),a.apply(u,E)}}return function(){return a.apply(u,arguments)}}function T(a,u,d){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,T.apply(null,arguments)}function S(a,u){var d=Array.prototype.slice.call(arguments,1);return function(){var f=d.slice();return f.push.apply(f,arguments),a.apply(this,f)}}function O(a,u){function d(){}d.prototype=u.prototype,a.aa=u.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(f,E,x){for(var N=Array(arguments.length-2),we=2;we<arguments.length;we++)N[we-2]=arguments[we];return u.prototype[E].apply(f,N)}}function k(a){let u=a.length;if(0<u){let d=Array(u);for(let f=0;f<u;f++)d[f]=a[f];return d}return[]}function R(a,u){for(let d=1;d<arguments.length;d++){let f=arguments[d];if(l(f)){let E=a.length||0,x=f.length||0;a.length=E+x;for(let N=0;N<x;N++)a[E+N]=f[N]}else a.push(f)}}class W{constructor(u,d){this.i=u,this.j=d,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function ne(a){return/^[\s\xa0]*$/.test(a)}function $(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ve(a){return ve[" "](a),a}ve[" "]=function(){};var Ye=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function me(a,u,d){for(let f in a)u.call(d,a[f],f,a)}function w(a,u){for(let d in a)u.call(void 0,a[d],d,a)}function p(a){let u={};for(let d in a)u[d]=a[d];return u}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y(a,u){let d,f;for(let E=1;E<arguments.length;E++){f=arguments[E];for(d in f)a[d]=f[d];for(let x=0;x<v.length;x++)d=v[x],Object.prototype.hasOwnProperty.call(f,d)&&(a[d]=f[d])}}function I(a){var u=1;a=a.split(":");let d=[];for(;0<u&&a.length;)d.push(a.shift()),u--;return a.length&&d.push(a.join(":")),d}function A(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Xl;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class dn{constructor(){this.h=this.g=null}add(u,d){let f=co.get();f.set(u,d),this.h?this.h.next=f:this.g=f,this.h=f}}var co=new W(()=>new iE,a=>a.reset());class iE{constructor(){this.next=this.g=this.h=null}set(u,d){this.h=u,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let lo,uo=!1,Xl=new dn,Gp=()=>{let a=c.Promise.resolve(void 0);lo=()=>{a.then(rE)}};var rE=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(d){A(d)}var u=co;u.j(a),100>u.h&&(u.h++,a.next=u.g,u.g=a)}uo=!1};function Mn(){this.s=this.s,this.C=this.C}Mn.prototype.s=!1,Mn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Mn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ze(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var oE=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let d=()=>{};c.addEventListener("test",d,u),c.removeEventListener("test",d,u)}catch{}return a}();function ho(a,u){if(Ze.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,f=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget){if(Ye){e:{try{ve(u.nodeName);var E=!0;break e}catch{}E=!1}E||(u=null)}}else d=="mouseover"?u=a.fromElement:d=="mouseout"&&(u=a.toElement);this.relatedTarget=u,f?(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:sE[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ho.aa.h.call(this)}}O(ho,Ze);var sE={2:"touch",3:"pen",4:"mouse"};ho.prototype.h=function(){ho.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var mo="closure_listenable_"+(1e6*Math.random()|0),aE=0;function cE(a,u,d,f,E){this.listener=a,this.proxy=null,this.src=u,this.type=d,this.capture=!!f,this.ha=E,this.key=++aE,this.da=this.fa=!1}function na(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ia(a){this.src=a,this.g={},this.h=0}ia.prototype.add=function(a,u,d,f,E){var x=a.toString();a=this.g[x],a||(a=this.g[x]=[],this.h++);var N=eu(a,u,f,E);return-1<N?(u=a[N],d||(u.fa=!1)):(u=new cE(u,this.src,x,!!f,E),u.fa=d,a.push(u)),u};function Zl(a,u){var d=u.type;if(d in a.g){var f=a.g[d],E=Array.prototype.indexOf.call(f,u,void 0),x;(x=0<=E)&&Array.prototype.splice.call(f,E,1),x&&(na(u),a.g[d].length==0&&(delete a.g[d],a.h--))}}function eu(a,u,d,f){for(var E=0;E<a.length;++E){var x=a[E];if(!x.da&&x.listener==u&&x.capture==!!d&&x.ha==f)return E}return-1}var tu="closure_lm_"+(1e6*Math.random()|0),nu={};function Wp(a,u,d,f,E){if(f&&f.once)return Qp(a,u,d,f,E);if(Array.isArray(u)){for(var x=0;x<u.length;x++)Wp(a,u[x],d,f,E);return null}return d=su(d),a&&a[mo]?a.K(u,d,h(f)?!!f.capture:!!f,E):Kp(a,u,d,!1,f,E)}function Kp(a,u,d,f,E,x){if(!u)throw Error("Invalid event type");var N=h(E)?!!E.capture:!!E,we=ru(a);if(we||(a[tu]=we=new ia(a)),d=we.add(u,d,f,N,x),d.proxy)return d;if(f=lE(),d.proxy=f,f.src=a,f.listener=d,a.addEventListener)oE||(E=N),E===void 0&&(E=!1),a.addEventListener(u.toString(),f,E);else if(a.attachEvent)a.attachEvent(Jp(u.toString()),f);else if(a.addListener&&a.removeListener)a.addListener(f);else throw Error("addEventListener and attachEvent are unavailable.");return d}function lE(){function a(d){return u.call(a.src,a.listener,d)}let u=uE;return a}function Qp(a,u,d,f,E){if(Array.isArray(u)){for(var x=0;x<u.length;x++)Qp(a,u[x],d,f,E);return null}return d=su(d),a&&a[mo]?a.L(u,d,h(f)?!!f.capture:!!f,E):Kp(a,u,d,!0,f,E)}function Yp(a,u,d,f,E){if(Array.isArray(u))for(var x=0;x<u.length;x++)Yp(a,u[x],d,f,E);else f=h(f)?!!f.capture:!!f,d=su(d),a&&a[mo]?(a=a.i,u=String(u).toString(),u in a.g&&(x=a.g[u],d=eu(x,d,f,E),-1<d&&(na(x[d]),Array.prototype.splice.call(x,d,1),x.length==0&&(delete a.g[u],a.h--)))):a&&(a=ru(a))&&(u=a.g[u.toString()],a=-1,u&&(a=eu(u,d,f,E)),(d=-1<a?u[a]:null)&&iu(d))}function iu(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[mo])Zl(u.i,a);else{var d=a.type,f=a.proxy;u.removeEventListener?u.removeEventListener(d,f,a.capture):u.detachEvent?u.detachEvent(Jp(d),f):u.addListener&&u.removeListener&&u.removeListener(f),(d=ru(u))?(Zl(d,a),d.h==0&&(d.src=null,u[tu]=null)):na(a)}}}function Jp(a){return a in nu?nu[a]:nu[a]="on"+a}function uE(a,u){if(a.da)a=!0;else{u=new ho(u,this);var d=a.listener,f=a.ha||a.src;a.fa&&iu(a),a=d.call(f,u)}return a}function ru(a){return a=a[tu],a instanceof ia?a:null}var ou="__closure_events_fn_"+(1e9*Math.random()>>>0);function su(a){return typeof a=="function"?a:(a[ou]||(a[ou]=function(u){return a.handleEvent(u)}),a[ou])}function et(){Mn.call(this),this.i=new ia(this),this.M=this,this.F=null}O(et,Mn),et.prototype[mo]=!0,et.prototype.removeEventListener=function(a,u,d,f){Yp(this,a,u,d,f)};function ut(a,u){var d,f=a.F;if(f)for(d=[];f;f=f.F)d.push(f);if(a=a.M,f=u.type||u,typeof u=="string")u=new Ze(u,a);else if(u instanceof Ze)u.target=u.target||a;else{var E=u;u=new Ze(f,a),y(u,E)}if(E=!0,d)for(var x=d.length-1;0<=x;x--){var N=u.g=d[x];E=ra(N,f,!0,u)&&E}if(N=u.g=a,E=ra(N,f,!0,u)&&E,E=ra(N,f,!1,u)&&E,d)for(x=0;x<d.length;x++)N=u.g=d[x],E=ra(N,f,!1,u)&&E}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var a=this.i,u;for(u in a.g){for(var d=a.g[u],f=0;f<d.length;f++)na(d[f]);delete a.g[u],a.h--}}this.F=null},et.prototype.K=function(a,u,d,f){return this.i.add(String(a),u,!1,d,f)},et.prototype.L=function(a,u,d,f){return this.i.add(String(a),u,!0,d,f)};function ra(a,u,d,f){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();for(var E=!0,x=0;x<u.length;++x){var N=u[x];if(N&&!N.da&&N.capture==d){var we=N.listener,Je=N.ha||N.src;N.fa&&Zl(a.i,N),E=we.call(Je,f)!==!1&&E}}return E&&!f.defaultPrevented}function Xp(a,u,d){if(typeof a=="function")d&&(a=T(a,d));else if(a&&typeof a.handleEvent=="function")a=T(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(a,u||0)}function Zp(a){a.g=Xp(()=>{a.g=null,a.i&&(a.i=!1,Zp(a))},a.l);let u=a.h;a.h=null,a.m.apply(null,u)}class dE extends Mn{constructor(u,d){super(),this.m=u,this.l=d,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Zp(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fo(a){Mn.call(this),this.h=a,this.g={}}O(fo,Mn);var eg=[];function tg(a){me(a.g,function(u,d){this.g.hasOwnProperty(d)&&iu(u)},a),a.g={}}fo.prototype.N=function(){fo.aa.N.call(this),tg(this)},fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var au=c.JSON.stringify,hE=c.JSON.parse,mE=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function cu(){}cu.prototype.h=null;function ng(a){return a.h||(a.h=a.i())}function ig(){}var po={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lu(){Ze.call(this,"d")}O(lu,Ze);function uu(){Ze.call(this,"c")}O(uu,Ze);var ui={},rg=null;function oa(){return rg=rg||new et}ui.La="serverreachability";function og(a){Ze.call(this,ui.La,a)}O(og,Ze);function go(a){let u=oa();ut(u,new og(u))}ui.STAT_EVENT="statevent";function sg(a,u){Ze.call(this,ui.STAT_EVENT,a),this.stat=u}O(sg,Ze);function dt(a){let u=oa();ut(u,new sg(u,a))}ui.Ma="timingevent";function ag(a,u){Ze.call(this,ui.Ma,a),this.size=u}O(ag,Ze);function _o(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},u)}function vo(){this.g=!0}vo.prototype.xa=function(){this.g=!1};function fE(a,u,d,f,E,x){a.info(function(){if(a.g)if(x)for(var N="",we=x.split("&"),Je=0;Je<we.length;Je++){var he=we[Je].split("=");if(1<he.length){var tt=he[0];he=he[1];var nt=tt.split("_");N=2<=nt.length&&nt[1]=="type"?N+(tt+"="+he+"&"):N+(tt+"=redacted&")}}else N=null;else N=x;return"XMLHTTP REQ ("+f+") [attempt "+E+"]: "+u+`
`+d+`
`+N})}function pE(a,u,d,f,E,x,N){a.info(function(){return"XMLHTTP RESP ("+f+") [ attempt "+E+"]: "+u+`
`+d+`
`+x+" "+N})}function Qi(a,u,d,f){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+_E(a,d)+(f?" "+f:"")})}function gE(a,u){a.info(function(){return"TIMEOUT: "+u})}vo.prototype.info=function(){};function _E(a,u){if(!a.g)return u;if(!u)return null;try{var d=JSON.parse(u);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var f=d[a];if(!(2>f.length)){var E=f[1];if(Array.isArray(E)&&!(1>E.length)){var x=E[0];if(x!="noop"&&x!="stop"&&x!="close")for(var N=1;N<E.length;N++)E[N]=""}}}}return au(d)}catch{return u}}var sa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},du;function aa(){}O(aa,cu),aa.prototype.g=function(){return new XMLHttpRequest},aa.prototype.i=function(){return{}},du=new aa;function kn(a,u,d,f){this.j=a,this.i=u,this.l=d,this.R=f||1,this.U=new fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lg}function lg(){this.i=null,this.g="",this.h=!1}var ug={},hu={};function mu(a,u,d){a.L=1,a.v=da(hn(u)),a.m=d,a.P=!0,dg(a,null)}function dg(a,u){a.F=Date.now(),ca(a),a.A=hn(a.v);var d=a.A,f=a.R;Array.isArray(f)||(f=[String(f)]),Cg(d.i,"t",f),a.C=0,d=a.j.J,a.h=new lg,a.g=$g(a.j,d?u:null,!a.m),0<a.O&&(a.M=new dE(T(a.Y,a,a.g),a.O)),u=a.U,d=a.g,f=a.ca;var E="readystatechange";Array.isArray(E)||(E&&(eg[0]=E.toString()),E=eg);for(var x=0;x<E.length;x++){var N=Wp(d,E[x],f||u.handleEvent,!1,u.h||u);if(!N)break;u.g[N.key]=N}u=a.H?p(a.H):{},a.m?(a.u||(a.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,u)):(a.u="GET",a.g.ea(a.A,a.u,null,u)),go(),fE(a.i,a.u,a.A,a.l,a.R,a.m)}kn.prototype.ca=function(a){a=a.target;let u=this.M;u&&mn(a)==3?u.j():this.Y(a)},kn.prototype.Y=function(a){try{if(a==this.g)e:{let nt=mn(this.g);var u=this.g.Ba();let Xi=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||Mg(this.g)))){this.J||nt!=4||u==7||(u==8||0>=Xi?go(3):go(2)),fu(this);var d=this.g.Z();this.X=d;t:if(hg(this)){var f=Mg(this.g);a="";var E=f.length,x=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){di(this),bo(this);var N="";break t}this.h.i=new c.TextDecoder}for(u=0;u<E;u++)this.h.h=!0,a+=this.h.i.decode(f[u],{stream:!(x&&u==E-1)});f.length=0,this.h.g+=a,this.C=0,N=this.h.g}else N=this.g.oa();if(this.o=d==200,pE(this.i,this.u,this.A,this.l,this.R,nt,d),this.o){if(this.T&&!this.K){t:{if(this.g){var we,Je=this.g;if((we=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(we)){var he=we;break t}}he=null}if(d=he)Qi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pu(this,d);else{this.o=!1,this.s=3,dt(12),di(this),bo(this);break e}}if(this.P){d=!0;let kt;for(;!this.J&&this.C<N.length;)if(kt=vE(this,N),kt==hu){nt==4&&(this.s=4,dt(14),d=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==ug){this.s=4,dt(15),Qi(this.i,this.l,N,"[Invalid Chunk]"),d=!1;break}else Qi(this.i,this.l,kt,null),pu(this,kt);if(hg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||N.length!=0||this.h.h||(this.s=1,dt(16),d=!1),this.o=this.o&&d,!d)Qi(this.i,this.l,N,"[Invalid Chunked Response]"),di(this),bo(this);else if(0<N.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),wu(tt),tt.M=!0,dt(11))}}else Qi(this.i,this.l,N,null),pu(this,N);nt==4&&di(this),this.o&&!this.J&&(nt==4?Ug(this.j,this):(this.o=!1,ca(this)))}else NE(this.g),d==400&&0<N.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),di(this),bo(this)}}}catch{}finally{}};function hg(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function vE(a,u){var d=a.C,f=u.indexOf(`
`,d);return f==-1?hu:(d=Number(u.substring(d,f)),isNaN(d)?ug:(f+=1,f+d>u.length?hu:(u=u.slice(f,f+d),a.C=f+d,u)))}kn.prototype.cancel=function(){this.J=!0,di(this)};function ca(a){a.S=Date.now()+a.I,mg(a,a.I)}function mg(a,u){if(a.B!=null)throw Error("WatchDog timer not null");a.B=_o(T(a.ba,a),u)}function fu(a){a.B&&(c.clearTimeout(a.B),a.B=null)}kn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(gE(this.i,this.A),this.L!=2&&(go(),dt(17)),di(this),this.s=2,bo(this)):mg(this,this.S-a)};function bo(a){a.j.G==0||a.J||Ug(a.j,a)}function di(a){fu(a);var u=a.M;u&&typeof u.ma=="function"&&u.ma(),a.M=null,tg(a.U),a.g&&(u=a.g,a.g=null,u.abort(),u.ma())}function pu(a,u){try{var d=a.j;if(d.G!=0&&(d.g==a||gu(d.h,a))){if(!a.K&&gu(d.h,a)&&d.G==3){try{var f=d.Da.g.parse(u)}catch{f=null}if(Array.isArray(f)&&f.length==3){var E=f;if(E[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)ga(d),fa(d);else break e;yu(d),dt(18)}}else d.za=E[1],0<d.za-d.T&&37500>E[2]&&d.F&&d.v==0&&!d.C&&(d.C=_o(T(d.Za,d),6e3));if(1>=gg(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else mi(d,11)}else if((a.K||d.g==a)&&ga(d),!ne(u))for(E=d.Da.g.parse(u),u=0;u<E.length;u++){let he=E[u];if(d.T=he[0],he=he[1],d.G==2)if(he[0]=="c"){d.K=he[1],d.ia=he[2];let tt=he[3];tt!=null&&(d.la=tt,d.j.info("VER="+d.la));let nt=he[4];nt!=null&&(d.Aa=nt,d.j.info("SVER="+d.Aa));let Xi=he[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(f=1.5*Xi,d.L=f,d.j.info("backChannelRequestTimeoutMs_="+f)),f=d;let kt=a.g;if(kt){let va=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var x=f.h;x.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(_u(x,x.h),x.h=null))}if(f.D){let Iu=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Iu&&(f.ya=Iu,Te(f.I,f.D,Iu))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),f=d;var N=a;if(f.qa=zg(f,f.J?f.ia:null,f.W),N.K){_g(f.h,N);var we=N,Je=f.L;Je&&(we.I=Je),we.B&&(fu(we),ca(we)),f.g=N}else Vg(f);0<d.i.length&&pa(d)}else he[0]!="stop"&&he[0]!="close"||mi(d,7);else d.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?mi(d,7):bu(d):he[0]!="noop"&&d.l&&d.l.ta(he),d.v=0)}}go(4)}catch{}}var bE=class{constructor(a,u){this.g=a,this.map=u}};function fg(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pg(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function gg(a){return a.h?1:a.g?a.g.size:0}function gu(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function _u(a,u){a.g?a.g.add(u):a.h=u}function _g(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}fg.prototype.cancel=function(){if(this.i=vg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function vg(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let u=a.i;for(let d of a.g.values())u=u.concat(d.D);return u}return k(a.i)}function yE(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var u=[],d=a.length,f=0;f<d;f++)u.push(a[f]);return u}u=[],d=0;for(f in a)u[d++]=a[f];return u}function wE(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var u=[];a=a.length;for(var d=0;d<a;d++)u.push(d);return u}u=[],d=0;for(let f in a)u[d++]=f;return u}}}function bg(a,u){if(a.forEach&&typeof a.forEach=="function")a.forEach(u,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,u,void 0);else for(var d=wE(a),f=yE(a),E=f.length,x=0;x<E;x++)u.call(void 0,f[x],d&&d[x],a)}var yg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IE(a,u){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var f=a[d].indexOf("="),E=null;if(0<=f){var x=a[d].substring(0,f);E=a[d].substring(f+1)}else x=a[d];u(x,E?decodeURIComponent(E.replace(/\+/g," ")):"")}}}function hi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof hi){this.h=a.h,la(this,a.j),this.o=a.o,this.g=a.g,ua(this,a.s),this.l=a.l;var u=a.i,d=new Io;d.i=u.i,u.g&&(d.g=new Map(u.g),d.h=u.h),wg(this,d),this.m=a.m}else a&&(u=String(a).match(yg))?(this.h=!1,la(this,u[1]||"",!0),this.o=yo(u[2]||""),this.g=yo(u[3]||"",!0),ua(this,u[4]),this.l=yo(u[5]||"",!0),wg(this,u[6]||"",!0),this.m=yo(u[7]||"")):(this.h=!1,this.i=new Io(null,this.h))}hi.prototype.toString=function(){var a=[],u=this.j;u&&a.push(wo(u,Ig,!0),":");var d=this.g;return(d||u=="file")&&(a.push("//"),(u=this.o)&&a.push(wo(u,Ig,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(wo(d,d.charAt(0)=="/"?CE:TE,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",wo(d,xE)),a.join("")};function hn(a){return new hi(a)}function la(a,u,d){a.j=d?yo(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function ua(a,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);a.s=u}else a.s=null}function wg(a,u,d){u instanceof Io?(a.i=u,SE(a.i,a.h)):(d||(u=wo(u,AE)),a.i=new Io(u,a.h))}function Te(a,u,d){a.i.set(u,d)}function da(a){return Te(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function yo(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function wo(a,u,d){return typeof a=="string"?(a=encodeURI(a).replace(u,EE),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function EE(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ig=/[#\/\?@]/g,TE=/[#\?:]/g,CE=/[#\?]/g,AE=/[#\?@]/g,xE=/#/g;function Io(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function On(a){a.g||(a.g=new Map,a.h=0,a.i&&IE(a.i,function(u,d){a.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}n=Io.prototype,n.add=function(a,u){On(this),this.i=null,a=Yi(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(u),this.h+=1,this};function Eg(a,u){On(a),u=Yi(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function Tg(a,u){return On(a),u=Yi(a,u),a.g.has(u)}n.forEach=function(a,u){On(this),this.g.forEach(function(d,f){d.forEach(function(E){a.call(u,E,f,this)},this)},this)},n.na=function(){On(this);let a=Array.from(this.g.values()),u=Array.from(this.g.keys()),d=[];for(let f=0;f<u.length;f++){let E=a[f];for(let x=0;x<E.length;x++)d.push(u[f])}return d},n.V=function(a){On(this);let u=[];if(typeof a=="string")Tg(this,a)&&(u=u.concat(this.g.get(Yi(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)u=u.concat(a[d])}return u},n.set=function(a,u){return On(this),this.i=null,a=Yi(this,a),Tg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},n.get=function(a,u){return a?(a=this.V(a),0<a.length?String(a[0]):u):u};function Cg(a,u,d){Eg(a,u),0<d.length&&(a.i=null,a.g.set(Yi(a,u),k(d)),a.h+=d.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],u=Array.from(this.g.keys());for(var d=0;d<u.length;d++){var f=u[d];let x=encodeURIComponent(String(f)),N=this.V(f);for(f=0;f<N.length;f++){var E=x;N[f]!==""&&(E+="="+encodeURIComponent(String(N[f]))),a.push(E)}}return this.i=a.join("&")};function Yi(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function SE(a,u){u&&!a.j&&(On(a),a.i=null,a.g.forEach(function(d,f){var E=f.toLowerCase();f!=E&&(Eg(this,f),Cg(this,E,d))},a)),a.j=u}function RE(a,u){let d=new vo;if(c.Image){let f=new Image;f.onload=S(Nn,d,"TestLoadImage: loaded",!0,u,f),f.onerror=S(Nn,d,"TestLoadImage: error",!1,u,f),f.onabort=S(Nn,d,"TestLoadImage: abort",!1,u,f),f.ontimeout=S(Nn,d,"TestLoadImage: timeout",!1,u,f),c.setTimeout(function(){f.ontimeout&&f.ontimeout()},1e4),f.src=a}else u(!1)}function DE(a,u){let d=new vo,f=new AbortController,E=setTimeout(()=>{f.abort(),Nn(d,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:f.signal}).then(x=>{clearTimeout(E),x.ok?Nn(d,"TestPingServer: ok",!0,u):Nn(d,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(E),Nn(d,"TestPingServer: error",!1,u)})}function Nn(a,u,d,f,E){try{E&&(E.onload=null,E.onerror=null,E.onabort=null,E.ontimeout=null),f(d)}catch{}}function PE(){this.g=new mE}function ME(a,u,d){let f=d||"";try{bg(a,function(E,x){let N=E;h(E)&&(N=au(E)),u.push(f+x+"="+encodeURIComponent(N))})}catch(E){throw u.push(f+"type="+encodeURIComponent("_badmap")),E}}function Eo(a){this.l=a.Ub||null,this.j=a.eb||!1}O(Eo,cu),Eo.prototype.g=function(){return new ha(this.l,this.j)},Eo.prototype.i=function(a){return function(){return a}}({});function ha(a,u){et.call(this),this.D=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ha,et),n=ha.prototype,n.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=u,this.readyState=1,Co(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(u.body=a),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,To(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Co(this)),this.g&&(this.readyState=3,Co(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ag(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ag(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?To(this):Co(this),this.readyState==3&&Ag(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,To(this))},n.Qa=function(a){this.g&&(this.response=a,To(this))},n.ga=function(){this.g&&To(this)};function To(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Co(a)}n.setRequestHeader=function(a,u){this.u.append(a,u)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],u=this.h.entries();for(var d=u.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=u.next();return a.join(`\r
`)};function Co(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function xg(a){let u="";return me(a,function(d,f){u+=f,u+=":",u+=d,u+=`\r
`}),u}function vu(a,u,d){e:{for(f in d){var f=!1;break e}f=!0}f||(d=xg(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):Te(a,u,d))}function Oe(a){et.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Oe,et);var kE=/^https?$/i,OE=["POST","PUT"];n=Oe.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,u,d,f){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():du.g(),this.v=this.o?ng(this.o):ng(du),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch(x){Sg(this,x);return}if(a=d||"",d=new Map(this.headers),f)if(Object.getPrototypeOf(f)===Object.prototype)for(var E in f)d.set(E,f[E]);else if(typeof f.keys=="function"&&typeof f.get=="function")for(let x of f.keys())d.set(x,f.get(x));else throw Error("Unknown input type for opt_headers: "+String(f));f=Array.from(d.keys()).find(x=>x.toLowerCase()=="content-type"),E=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(OE,u,void 0))||f||E||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,N]of d)this.g.setRequestHeader(x,N);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pg(this),this.u=!0,this.g.send(a),this.u=!1}catch(x){Sg(this,x)}};function Sg(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.m=5,Rg(a),ma(a)}function Rg(a){a.A||(a.A=!0,ut(a,"complete"),ut(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ut(this,"complete"),ut(this,"abort"),ma(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ma(this,!0)),Oe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Dg(this):this.bb())},n.bb=function(){Dg(this)};function Dg(a){if(a.h&&typeof s<"u"&&(!a.v[1]||mn(a)!=4||a.Z()!=2)){if(a.u&&mn(a)==4)Xp(a.Ea,0,a);else if(ut(a,"readystatechange"),mn(a)==4){a.h=!1;try{let N=a.Z();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var d;if(!(d=u)){var f;if(f=N===0){var E=String(a.D).match(yg)[1]||null;!E&&c.self&&c.self.location&&(E=c.self.location.protocol.slice(0,-1)),f=!kE.test(E?E.toLowerCase():"")}d=f}if(d)ut(a,"complete"),ut(a,"success");else{a.m=6;try{var x=2<mn(a)?a.g.statusText:""}catch{x=""}a.l=x+" ["+a.Z()+"]",Rg(a)}}finally{ma(a)}}}}function ma(a,u){if(a.g){Pg(a);let d=a.g,f=a.v[0]?()=>{}:null;a.g=null,a.v=null,u||ut(a,"ready");try{d.onreadystatechange=f}catch{}}}function Pg(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function mn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),hE(u)}};function Mg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function NE(a){let u={};a=(a.g&&2<=mn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let f=0;f<a.length;f++){if(ne(a[f]))continue;var d=I(a[f]);let E=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();let x=u[E]||[];u[E]=x,x.push(d)}w(u,function(f){return f.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ao(a,u,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||u}function kg(a){this.Aa=0,this.i=[],this.j=new vo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ao("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ao("baseRetryDelayMs",5e3,a),this.cb=Ao("retryDelaySeedMs",1e4,a),this.Wa=Ao("forwardChannelMaxRetries",2,a),this.wa=Ao("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new fg(a&&a.concurrentRequestLimit),this.Da=new PE,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=kg.prototype,n.la=8,n.G=1,n.connect=function(a,u,d,f){dt(0),this.W=a,this.H=u||{},d&&f!==void 0&&(this.H.OSID=d,this.H.OAID=f),this.F=this.X,this.I=zg(this,null,this.W),pa(this)};function bu(a){if(Og(a),a.G==3){var u=a.U++,d=hn(a.I);if(Te(d,"SID",a.K),Te(d,"RID",u),Te(d,"TYPE","terminate"),xo(a,d),u=new kn(a,a.j,u),u.L=2,u.v=da(hn(d)),d=!1,c.navigator&&c.navigator.sendBeacon)try{d=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!d&&c.Image&&(new Image().src=u.v,d=!0),d||(u.g=$g(u.j,null),u.g.ea(u.v)),u.F=Date.now(),ca(u)}Bg(a)}function fa(a){a.g&&(wu(a),a.g.cancel(),a.g=null)}function Og(a){fa(a),a.u&&(c.clearTimeout(a.u),a.u=null),ga(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function pa(a){if(!pg(a.h)&&!a.s){a.s=!0;var u=a.Ga;lo||Gp(),uo||(lo(),uo=!0),Xl.add(u,a),a.B=0}}function FE(a,u){return gg(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=u.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=_o(T(a.Ga,a,u),jg(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let E=new kn(this,this.j,a),x=this.o;if(this.S&&(x?(x=p(x),y(x,this.S)):x=this.S),this.m!==null||this.O||(E.H=x,x=null),this.P)e:{for(var u=0,d=0;d<this.i.length;d++){t:{var f=this.i[d];if("__data__"in f.map&&(f=f.map.__data__,typeof f=="string")){f=f.length;break t}f=void 0}if(f===void 0)break;if(u+=f,4096<u){u=d;break e}if(u===4096||d===this.i.length-1){u=d+1;break e}}u=1e3}else u=1e3;u=Fg(this,E,u),d=hn(this.I),Te(d,"RID",a),Te(d,"CVER",22),this.D&&Te(d,"X-HTTP-Session-Id",this.D),xo(this,d),x&&(this.O?u="headers="+encodeURIComponent(String(xg(x)))+"&"+u:this.m&&vu(d,this.m,x)),_u(this.h,E),this.Ua&&Te(d,"TYPE","init"),this.P?(Te(d,"$req",u),Te(d,"SID","null"),E.T=!0,mu(E,d,null)):mu(E,d,u),this.G=2}}else this.G==3&&(a?Ng(this,a):this.i.length==0||pg(this.h)||Ng(this))};function Ng(a,u){var d;u?d=u.l:d=a.U++;let f=hn(a.I);Te(f,"SID",a.K),Te(f,"RID",d),Te(f,"AID",a.T),xo(a,f),a.m&&a.o&&vu(f,a.m,a.o),d=new kn(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),u&&(a.i=u.D.concat(a.i)),u=Fg(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),_u(a.h,d),mu(d,f,u)}function xo(a,u){a.H&&me(a.H,function(d,f){Te(u,f,d)}),a.l&&bg({},function(d,f){Te(u,f,d)})}function Fg(a,u,d){d=Math.min(a.i.length,d);var f=a.l?T(a.l.Na,a.l,a):null;e:{var E=a.i;let x=-1;for(;;){let N=["count="+d];x==-1?0<d?(x=E[0].g,N.push("ofs="+x)):x=0:N.push("ofs="+x);let we=!0;for(let Je=0;Je<d;Je++){let he=E[Je].g,tt=E[Je].map;if(he-=x,0>he)x=Math.max(0,E[Je].g-100),we=!1;else try{ME(tt,N,"req"+he+"_")}catch{f&&f(tt)}}if(we){f=N.join("&");break e}}}return a=a.i.splice(0,d),u.D=a,f}function Vg(a){if(!a.g&&!a.u){a.Y=1;var u=a.Fa;lo||Gp(),uo||(lo(),uo=!0),Xl.add(u,a),a.v=0}}function yu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=_o(T(a.Fa,a),jg(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,Lg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=_o(T(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),fa(this),Lg(this))};function wu(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Lg(a){a.g=new kn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var u=hn(a.qa);Te(u,"RID","rpc"),Te(u,"SID",a.K),Te(u,"AID",a.T),Te(u,"CI",a.F?"0":"1"),!a.F&&a.ja&&Te(u,"TO",a.ja),Te(u,"TYPE","xmlhttp"),xo(a,u),a.m&&a.o&&vu(u,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=da(hn(u)),d.m=null,d.P=!0,dg(d,a)}n.Za=function(){this.C!=null&&(this.C=null,fa(this),yu(this),dt(19))};function ga(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Ug(a,u){var d=null;if(a.g==u){ga(a),wu(a),a.g=null;var f=2}else if(gu(a.h,u))d=u.D,_g(a.h,u),f=1;else return;if(a.G!=0){if(u.o)if(f==1){d=u.m?u.m.length:0,u=Date.now()-u.F;var E=a.B;f=oa(),ut(f,new ag(f,d)),pa(a)}else Vg(a);else if(E=u.s,E==3||E==0&&0<u.X||!(f==1&&FE(a,u)||f==2&&yu(a)))switch(d&&0<d.length&&(u=a.h,u.i=u.i.concat(d)),E){case 1:mi(a,5);break;case 4:mi(a,10);break;case 3:mi(a,6);break;default:mi(a,2)}}}function jg(a,u){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*u}function mi(a,u){if(a.j.info("Error code "+u),u==2){var d=T(a.fb,a),f=a.Xa;let E=!f;f=new hi(f||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||la(f,"https"),da(f),E?RE(f.toString(),d):DE(f.toString(),d)}else dt(2);a.G=0,a.l&&a.l.sa(u),Bg(a),Og(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Bg(a){if(a.G=0,a.ka=[],a.l){let u=vg(a.h);(u.length!=0||a.i.length!=0)&&(R(a.ka,u),R(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function zg(a,u,d){var f=d instanceof hi?hn(d):new hi(d);if(f.g!="")u&&(f.g=u+"."+f.g),ua(f,f.s);else{var E=c.location;f=E.protocol,u=u?u+"."+E.hostname:E.hostname,E=+E.port;var x=new hi(null);f&&la(x,f),u&&(x.g=u),E&&ua(x,E),d&&(x.l=d),f=x}return d=a.D,u=a.ya,d&&u&&Te(f,d,u),Te(f,"VER",a.la),xo(a,f),f}function $g(a,u,d){if(u&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Ca&&!a.pa?new Oe(new Eo({eb:d})):new Oe(a.pa),u.Ha(a.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qg(){}n=qg.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _a(){}_a.prototype.g=function(a,u){return new _t(a,u)};function _t(a,u){et.call(this),this.g=new kg(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(a?a["X-WebChannel-Client-Profile"]=u.va:a={"X-WebChannel-Client-Profile":u.va}),this.g.S=a,(a=u&&u.Sb)&&!ne(a)&&(this.g.m=a),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!ne(u)&&(this.g.D=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new Ji(this)}O(_t,et),_t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){bu(this.g)},_t.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=au(a),a=d);u.i.push(new bE(u.Ya++,a)),u.G==3&&pa(u)},_t.prototype.N=function(){this.g.l=null,delete this.j,bu(this.g),delete this.g,_t.aa.N.call(this)};function Hg(a){lu.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){e:{for(let d in u){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}O(Hg,lu);function Gg(){uu.call(this),this.status=1}O(Gg,uu);function Ji(a){this.g=a}O(Ji,qg),Ji.prototype.ua=function(){ut(this.g,"a")},Ji.prototype.ta=function(a){ut(this.g,new Hg(a))},Ji.prototype.sa=function(a){ut(this.g,new Gg)},Ji.prototype.ra=function(){ut(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,lm=Tn.createWebChannelTransport=function(){return new _a},cm=Tn.getStatEventTarget=function(){return oa()},am=Tn.Event=ui,Vc=Tn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sa.NO_ERROR=0,sa.TIMEOUT=8,sa.HTTP_ERROR=6,Ts=Tn.ErrorCode=sa,cg.COMPLETE="complete",sm=Tn.EventType=cg,ig.EventType=po,po.OPEN="a",po.CLOSE="b",po.ERROR="c",po.MESSAGE="d",et.prototype.listen=et.prototype.K,Cr=Tn.WebChannel=ig,qD=Tn.FetchXmlHttpFactory=Eo,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,om=Tn.XhrIo=Oe}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});var qy="@firebase/firestore";var Ke=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");var Wr="11.2.0";var zi=new nn("@firebase/firestore");function Ar(){return zi.logLevel}function L(n,...e){if(zi.logLevel<=re.DEBUG){let t=e.map(Gf);zi.debug(`Firestore (${Wr}): ${n}`,...t)}}function An(n,...e){if(zi.logLevel<=re.ERROR){let t=e.map(Gf);zi.error(`Firestore (${Wr}): ${n}`,...t)}}function Nr(n,...e){if(zi.logLevel<=re.WARN){let t=e.map(Gf);zi.warn(`Firestore (${Wr}): ${n}`,...t)}}function Gf(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function J(n="Unexpected state"){let e=`FIRESTORE (${Wr}) INTERNAL ASSERTION FAILED: `+n;throw An(e),new Error(e)}function ke(n,e){n||J()}function ue(n,e){return n}var V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends Ct{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ii=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var qc=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},pm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ke.UNAUTHENTICATED))}shutdown(){}},gm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},_m=class{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ke(this.o===void 0);let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),o=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ii,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>b(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},c=l=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ii)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ke(typeof i.accessToken=="string"),new qc(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new Ke(e)}},vm=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},bm=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new vm(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ym=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},wm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ke(this.o===void 0);let i=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ke(typeof t.token=="string"),this.R=t.token,new ym(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function HD(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var Im=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=HD(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}};function le(n,e){return n<e?-1:n>e?1:0}function Fr(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var Dt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var X=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Dt(0,0))}static max(){return new n(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Hc=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&J(),i===void 0?i=e.length-t:i>e.length-t&&J(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let o=n.compareSegments(e.get(r),t.get(r));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){let i=n.isNumericId(e),r=n.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?n.extractNumericId(e).compare(n.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return En.fromString(e.substring(4,e.length-2))}},ze=class n extends Hc{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new q(V.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},GD=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wt=class n extends Hc{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return GD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,o=()=>{if(i.length===0)throw new q(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},s=!1;for(;r<e.length;){let c=e[r];if(c==="\\"){if(r+1===e.length)throw new q(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else c==="`"?(s=!s,r++):c!=="."||s?(i+=c,r++):(o(),r++)}if(o(),s)throw new q(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var K=class n{constructor(e){this.path=e}static fromPath(e){return new n(ze.fromString(e))}static fromName(e){return new n(ze.fromString(e).popFirst(5))}static empty(){return new n(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ze(e.slice()))}};var Em=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};Em.UNKNOWN_ID=-1;function WD(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=X.fromTimestamp(i===1e9?new Dt(t+1,0):new Dt(t,i));return new $i(r,K.empty(),e)}function KD(n){return new $i(n.readTime,n.key,-1)}var $i=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(X.min(),K.empty(),-1)}static max(){return new n(X.max(),K.empty(),-1)}};function QD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=K.comparator(n.documentKey,e.documentKey),t!==0?t:le(n.largestBatchId,e.largestBatchId))}var YD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Tm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function vl(n){return b(this,null,function*(){if(n.code!==V.FAILED_PRECONDITION||n.message!==YD)throw n;L("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,o=0,s=!1;e.forEach(c=>{++r,c.next(()=>{++o,s&&o===r&&t()},l=>i(l))}),s=!0,o===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let o=e.length,s=new Array(o),c=0;for(let l=0;l<o;l++){let h=l;t(e[h]).next(m=>{s[h]=m,++c,c===o&&i(s)},m=>r(m))}})}static doWhile(e,t){return new n((i,r)=>{let o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}};function JD(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Kr(n){return n.name==="IndexedDbTransactionError"}var Wf=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function bl(n){return n==null}function Gc(n){return n===0&&1/n==-1/0}function XD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Hy(e)),e=ZD(n.get(t),e);return Hy(e)}function ZD(n,e){let t=e,i=n.length;for(let r=0;r<i;r++){let o=n.charAt(r);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function Hy(n){return n+""}var eP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],MV=[...eP,"documentOverlays"],tP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nP=tP,iP=[...nP,"indexConfiguration","indexState","indexEntries"];var kV=[...iP,"globals"];function Gy(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $s(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ve=class n{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dr(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dr(this.root,e,this.comparator,!0)}},Dr=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},sn=class n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();let e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}};sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,t,i,r,o){return this}insert(e,t,i){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Qe=class n{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wc(this.data.getIterator())}getIteratorFrom(e){return new Wc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Wc=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Li=class n{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Qe(Wt.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fr(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var Kc=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ct=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Kc("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ct.EMPTY_BYTE_STRING=new ct("");var oP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xn(n){if(ke(!!n),typeof n=="string"){let e=0,t=oP.exec(n);if(ke(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Se(n.seconds),nanos:Se(n.nanos)}}function Se(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Sn(n){return typeof n=="string"?ct.fromBase64String(n):ct.fromUint8Array(n)}function Kf(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function yl(n){let e=n.mapValue.fields.__previous_value__;return Kf(e)?yl(e):e}function Ps(n){let e=xn(n.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}var Cm=class{constructor(e,t,i,r,o,s,c,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=h}},Qc=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ri(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Kf(n)?4:A0(n)?9007199254740991:C0(n)?10:11:J()}function cn(n,e){if(n===e)return!0;let t=ri(n);if(t!==ri(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ps(n).isEqual(Ps(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=xn(r.timestampValue),c=xn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return Sn(r.bytesValue).isEqual(Sn(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Se(r.geoPointValue.latitude)===Se(o.geoPointValue.latitude)&&Se(r.geoPointValue.longitude)===Se(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Se(r.integerValue)===Se(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Se(r.doubleValue),c=Se(o.doubleValue);return s===c?Gc(s)===Gc(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Fr(n.arrayValue.values||[],e.arrayValue.values||[],cn);case 10:case 11:return function(r,o){let s=r.mapValue.fields||{},c=o.mapValue.fields||{};if(Gy(s)!==Gy(c))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(c[l]===void 0||!cn(s[l],c[l])))return!1;return!0}(n,e);default:return J()}}function Ms(n,e){return(n.values||[]).find(t=>cn(t,e))!==void 0}function Vr(n,e){if(n===e)return 0;let t=ri(n),i=ri(e);if(t!==i)return le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return le(n.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Se(o.integerValue||o.doubleValue),l=Se(s.integerValue||s.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(n,e);case 3:return Wy(n.timestampValue,e.timestampValue);case 4:return Wy(Ps(n),Ps(e));case 5:return le(n.stringValue,e.stringValue);case 6:return function(o,s){let c=Sn(o),l=Sn(s);return c.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),l=s.split("/");for(let h=0;h<c.length&&h<l.length;h++){let m=le(c[h],l[h]);if(m!==0)return m}return le(c.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let c=le(Se(o.latitude),Se(s.latitude));return c!==0?c:le(Se(o.longitude),Se(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ky(n.arrayValue,e.arrayValue);case 10:return function(o,s){var c,l,h,m;let g=o.fields||{},T=s.fields||{},S=(c=g.value)===null||c===void 0?void 0:c.arrayValue,O=(l=T.value)===null||l===void 0?void 0:l.arrayValue,k=le(((h=S?.values)===null||h===void 0?void 0:h.length)||0,((m=O?.values)===null||m===void 0?void 0:m.length)||0);return k!==0?k:Ky(S,O)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Lc.mapValue&&s===Lc.mapValue)return 0;if(o===Lc.mapValue)return 1;if(s===Lc.mapValue)return-1;let c=o.fields||{},l=Object.keys(c),h=s.fields||{},m=Object.keys(h);l.sort(),m.sort();for(let g=0;g<l.length&&g<m.length;++g){let T=le(l[g],m[g]);if(T!==0)return T;let S=Vr(c[l[g]],h[m[g]]);if(S!==0)return S}return le(l.length,m.length)}(n.mapValue,e.mapValue);default:throw J()}}function Wy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return le(n,e);let t=xn(n),i=xn(e),r=le(t.seconds,i.seconds);return r!==0?r:le(t.nanos,i.nanos)}function Ky(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let o=Vr(t[r],i[r]);if(o)return o}return le(t.length,i.length)}function Lr(n){return Am(n)}function Am(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=xn(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Sn(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return K.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let o of t.values||[])r?r=!1:i+=",",i+=Am(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${Am(t.fields[s])}`;return r+"}"}(n.mapValue):J()}function Bc(n){switch(ri(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=yl(n);return e?16+Bc(e):16;case 5:return 2*n.stringValue.length;case 6:return Sn(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+Bc(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return $s(i.fields,(o,s)=>{r+=o.length+Bc(s)}),r}(n.mapValue);default:throw J()}}function xm(n){return!!n&&"integerValue"in n}function Qf(n){return!!n&&"arrayValue"in n}function Qy(n){return!!n&&"nullValue"in n}function Yy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function um(n){return!!n&&"mapValue"in n}function C0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function As(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return $s(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=As(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=As(n.arrayValue.values[t]);return e}return Object.assign({},n)}function A0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Cn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!um(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=As(t)}setAll(e){let t=Wt.emptyPath(),i={},r=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=c.popLast()}s?i[c.lastSegment()]=As(s):r.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){let t=this.field(e.popLast());um(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];um(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){$s(t,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new n(As(this.value))}};var Kt=class n{constructor(e,t,i,r,o,s,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,X.min(),X.min(),X.min(),Cn.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,X.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,X.min(),X.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,X.min(),X.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ur=class{constructor(e,t){this.position=e,this.inclusive=t}};function Jy(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let o=e[r],s=n.position[r];if(o.field.isKeyField()?i=K.comparator(K.fromName(s.referenceValue),t.key):i=Vr(s,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Xy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cn(n.position[t],e.position[t]))return!1;return!0}var jr=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function sP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Yc=class{},$e=class n extends Yc{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Rm(e,t,i):t==="array-contains"?new Mm(e,i):t==="in"?new km(e,i):t==="not-in"?new Om(e,i):t==="array-contains-any"?new Nm(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Dm(e,i):new Pm(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Vr(t,this.value)):t!==null&&ri(this.value)===ri(t)&&this.matchesComparison(Vr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ln=class n extends Yc{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return x0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function x0(n){return n.op==="and"}function S0(n){return aP(n)&&x0(n)}function aP(n){for(let e of n.filters)if(e instanceof ln)return!1;return!0}function Sm(n){if(n instanceof $e)return n.field.canonicalString()+n.op.toString()+Lr(n.value);if(S0(n))return n.filters.map(e=>Sm(e)).join(",");{let e=n.filters.map(t=>Sm(t)).join(",");return`${n.op}(${e})`}}function R0(n,e){return n instanceof $e?function(i,r){return r instanceof $e&&i.op===r.op&&i.field.isEqual(r.field)&&cn(i.value,r.value)}(n,e):n instanceof ln?function(i,r){return r instanceof ln&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,c)=>o&&R0(s,r.filters[c]),!0):!1}(n,e):void J()}function D0(n){return n instanceof $e?function(t){return`${t.field.canonicalString()} ${t.op} ${Lr(t.value)}`}(n):n instanceof ln?function(t){return t.op.toString()+" {"+t.getFilters().map(D0).join(" ,")+"}"}(n):"Filter"}var Rm=class extends $e{constructor(e,t,i){super(e,t,i),this.key=K.fromName(i.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},Dm=class extends $e{constructor(e,t){super(e,"in",t),this.keys=P0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Pm=class extends $e{constructor(e,t){super(e,"not-in",t),this.keys=P0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function P0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>K.fromName(i.referenceValue))}var Mm=class extends $e{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Qf(t)&&Ms(t.arrayValue,this.value)}},km=class extends $e{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ms(this.value.arrayValue,t)}},Om=class extends $e{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ms(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Ms(this.value.arrayValue,t)}},Nm=class extends $e{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Qf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ms(this.value.arrayValue,i))}};var Fm=class{constructor(e,t=null,i=[],r=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function Zy(n,e=null,t=[],i=[],r=null,o=null,s=null){return new Fm(n,e,t,i,r,o,s)}function Yf(n){let e=ue(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Sm(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),bl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Lr(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Lr(i)).join(",")),e.ue=t}return e.ue}function Jf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!R0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Xy(n.startAt,e.startAt)&&Xy(n.endAt,e.endAt)}function Vm(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Br=class{constructor(e,t=null,i=[],r=[],o=null,s="F",c=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function cP(n,e,t,i,r,o,s,c){return new Br(n,e,t,i,r,o,s,c)}function Xf(n){return new Br(n)}function e0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lP(n){return n.collectionGroup!==null}function xs(n){let e=ue(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Qe(Wt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new jr(o,i))}),t.has(Wt.keyField().canonicalString())||e.ce.push(new jr(Wt.keyField(),i))}return e.ce}function an(n){let e=ue(n);return e.le||(e.le=uP(e,xs(n))),e.le}function uP(n,e){if(n.limitType==="F")return Zy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new jr(r.field,o)});let t=n.endAt?new Ur(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ur(n.startAt.position,n.startAt.inclusive):null;return Zy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Lm(n,e,t){return new Br(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wl(n,e){return Jf(an(n),an(e))&&n.limitType===e.limitType}function M0(n){return`${Yf(an(n))}|lt:${n.limitType}`}function xr(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>D0(r)).join(", ")}]`),bl(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Lr(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Lr(r)).join(",")),`Target(${i})`}(an(n))}; limitType=${n.limitType})`}function Il(n,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):K.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(let o of xs(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(s,c,l){let h=Jy(s,c,l);return s.inclusive?h<=0:h<0}(i.startAt,xs(i),r)||i.endAt&&!function(s,c,l){let h=Jy(s,c,l);return s.inclusive?h>=0:h>0}(i.endAt,xs(i),r))}(n,e)}function dP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function k0(n){return(e,t)=>{let i=!1;for(let r of xs(n)){let o=hP(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function hP(n,e,t){let i=n.field.isKeyField()?K.comparator(e.key,t.key):function(o,s,c){let l=s.data.field(o),h=c.data.field(o);return l!==null&&h!==null?Vr(l,h):J()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return J()}}var Rn=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,(t,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return rP(this.inner)}size(){return this.innerSize}};var mP=new Ve(K.comparator);function oi(){return mP}var O0=new Ve(K.comparator);function Cs(...n){let e=O0;for(let t of n)e=e.insert(t.key,t);return e}function fP(n){let e=O0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ui(){return Ss()}function N0(){return Ss()}function Ss(){return new Rn(n=>n.toString(),(n,e)=>n.isEqual(e))}var NV=new Ve(K.comparator),pP=new Qe(K.comparator);function de(...n){let e=pP;for(let t of n)e=e.add(t);return e}var gP=new Qe(le);function _P(){return gP}function vP(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function bP(n){return{integerValue:""+n}}var zr=class{constructor(){this._=void 0}};function yP(n,e,t){return n instanceof ks?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Kf(o)&&(o=yl(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof $r?F0(n,e):n instanceof qr?V0(n,e):function(r,o){let s=IP(r,o),c=t0(s)+t0(r.Pe);return xm(s)&&xm(r.Pe)?bP(c):vP(r.serializer,c)}(n,e)}function wP(n,e,t){return n instanceof $r?F0(n,e):n instanceof qr?V0(n,e):t}function IP(n,e){return n instanceof Os?function(i){return xm(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var ks=class extends zr{},$r=class extends zr{constructor(e){super(),this.elements=e}};function F0(n,e){let t=L0(e);for(let i of n.elements)t.some(r=>cn(r,i))||t.push(i);return{arrayValue:{values:t}}}var qr=class extends zr{constructor(e){super(),this.elements=e}};function V0(n,e){let t=L0(e);for(let i of n.elements)t=t.filter(r=>!cn(r,i));return{arrayValue:{values:t}}}var Os=class extends zr{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function t0(n){return Se(n.integerValue||n.doubleValue)}function L0(n){return Qf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function EP(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof $r&&r instanceof $r||i instanceof qr&&r instanceof qr?Fr(i.elements,r.elements,cn):i instanceof Os&&r instanceof Os?cn(i.Pe,r.Pe):i instanceof ks&&r instanceof ks}(n.transform,e.transform)}var Rs=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function zc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ns=class{};function U0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Um(n.key,Rs.none()):new Fs(n.key,n.data,Rs.none());{let t=n.data,i=Cn.empty(),r=new Qe(Wt.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Hr(n.key,i,new Li(r.toArray()),Rs.none())}}function TP(n,e,t){n instanceof Fs?function(r,o,s){let c=r.value.clone(),l=i0(r.fieldTransforms,o,s.transformResults);c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Hr?function(r,o,s){if(!zc(r.precondition,o))return void o.convertToUnknownDocument(s.version);let c=i0(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(j0(r)),l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Ds(n,e,t,i){return n instanceof Fs?function(o,s,c,l){if(!zc(o.precondition,s))return c;let h=o.value.clone(),m=r0(o.fieldTransforms,l,s);return h.setAll(m),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,e,t,i):n instanceof Hr?function(o,s,c,l){if(!zc(o.precondition,s))return c;let h=r0(o.fieldTransforms,l,s),m=s.data;return m.setAll(j0(o)),m.setAll(h),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,i):function(o,s,c){return zc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(n,e,t)}function n0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Fr(i,r,(o,s)=>EP(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Fs=class extends Ns{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Hr=class extends Ns{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function j0(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function i0(n,e,t){let i=new Map;ke(n.length===t.length);for(let r=0;r<t.length;r++){let o=n[r],s=o.transform,c=e.data.field(o.field);i.set(o.field,wP(s,c,t[r]))}return i}function r0(n,e,t){let i=new Map;for(let r of n){let o=r.transform,s=t.data.field(r.field);i.set(r.field,yP(o,s,e))}return i}var Um=class extends Ns{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var jm=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&TP(o,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ds(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=Ds(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=N0();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(r.key)?null:c;let l=U0(s,c);l!==null&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(X.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),de())}isEqual(e){return this.batchId===e.batchId&&Fr(this.mutations,e.mutations,(t,i)=>n0(t,i))&&Fr(this.baseMutations,e.baseMutations,(t,i)=>n0(t,i))}};var Bm=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var zm=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var je,ce;function B0(n){if(n===void 0)return An("GRPC error has no .code"),V.UNKNOWN;switch(n){case je.OK:return V.OK;case je.CANCELLED:return V.CANCELLED;case je.UNKNOWN:return V.UNKNOWN;case je.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case je.INTERNAL:return V.INTERNAL;case je.UNAVAILABLE:return V.UNAVAILABLE;case je.UNAUTHENTICATED:return V.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case je.NOT_FOUND:return V.NOT_FOUND;case je.ALREADY_EXISTS:return V.ALREADY_EXISTS;case je.PERMISSION_DENIED:return V.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case je.ABORTED:return V.ABORTED;case je.OUT_OF_RANGE:return V.OUT_OF_RANGE;case je.UNIMPLEMENTED:return V.UNIMPLEMENTED;case je.DATA_LOSS:return V.DATA_LOSS;default:return J()}}(ce=je||(je={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";var o0=null;function CP(){return new TextEncoder}var AP=new En([4294967295,4294967295],0);function s0(n){let e=CP().encode(n),t=new rm;return t.update(e),new Uint8Array(t.digest())}function a0(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new En([t,i],0),new En([r,o],0)]}var $m=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ji(`Invalid padding: ${t}`);if(i<0)throw new ji(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ji(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ji(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=En.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(En.fromNumber(i)));return r.compare(AP)===1&&(r=new En([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let t=s0(e),[i,r]=a0(t);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);if(!this.Ee(s))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,r,t);return i.forEach(c=>s.insert(c)),s}insert(e){if(this.Te===0)return;let t=s0(e),[i,r]=a0(t);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},ji=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Jc=class n{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,Vs.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(X.min(),r,new Ve(le),oi(),de())}},Vs=class n{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,de(),de(),de())}};var Pr=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},Xc=class{constructor(e,t){this.targetId=e,this.me=t}},Zc=class{constructor(e,t,i=ct.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},el=class{constructor(){this.fe=0,this.ge=c0(),this.pe=ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=de(),t=de(),i=de();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:J()}}),new Vs(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=c0()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},qm=class{constructor(e){this.Be=e,this.Le=new Map,this.ke=oi(),this.qe=Uc(),this.Qe=Uc(),this.Ke=new Ve(le)}$e(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{let i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:J()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){let t=e.targetId,i=e.me.count,r=this.Ye(t);if(r){let o=r.target;if(Vm(o))if(i===0){let s=new K(o.path);this.We(t,s,Kt.newNoDocument(s,X.min()))}else ke(i===1);else{let s=this.Ze(t);if(s!==i){let c=this.Xe(e),l=c?this.et(c,e,s):1;if(l!==0){this.He(t);let h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,h)}o0?.tt(function(m,g,T,S,O){var k,R,W,ne,$,ve;let Ye={localCacheCount:m,existenceFilterCount:g.count,databaseId:T.database,projectId:T.projectId},me=g.unchangedNames;return me&&(Ye.bloomFilter={applied:O===0,hashCount:(k=me?.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(ne=(W=(R=me?.bits)===null||R===void 0?void 0:R.bitmap)===null||W===void 0?void 0:W.length)!==null&&ne!==void 0?ne:0,padding:(ve=($=me?.bits)===null||$===void 0?void 0:$.padding)!==null&&ve!==void 0?ve:0,mightContain:w=>{var p;return(p=S?.mightContain(w))!==null&&p!==void 0&&p}}),Ye}(s,e.me,this.Be.nt(),c,l))}}}}Xe(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t,s,c;try{s=Sn(i).toUint8Array()}catch(l){if(l instanceof Kc)return Nr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new $m(s,r,o)}catch(l){return Nr(l instanceof ji?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Te===0?null:c}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){let i=this.Be.getRemoteKeysForTarget(t),r=0;return i.forEach(o=>{let s=this.Be.nt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(t,o,null),r++)}),r}it(e){let t=new Map;this.Le.forEach((o,s)=>{let c=this.Ye(s);if(c){if(o.current&&Vm(c.target)){let l=new K(c.target.path);this.st(l).has(s)||this.ot(s,l)||this.We(s,l,Kt.newNoDocument(l,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let i=de();this.Qe.forEach((o,s)=>{let c=!0;s.forEachWhile(l=>{let h=this.Ye(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new Jc(e,t,this.Ke,this.ke,i);return this.ke=oi(),this.qe=Uc(),this.Qe=Uc(),this.Ke=new Ve(le),r}Ue(e,t){if(!this.je(e))return;let i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;let r=this.ze(e);this.ot(e,t)?r.Fe(t,1):r.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Le.delete(e)}Ze(e){let t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new el,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Qe(le),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Qe(le),this.qe=this.qe.insert(e,t)),t}je(e){let t=this.Ye(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){let t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new el),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}};function Uc(){return new Ve(K.comparator)}function c0(){return new Ve(K.comparator)}var xP={asc:"ASCENDING",desc:"DESCENDING"},SP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RP={and:"AND",or:"OR"},Hm=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Gm(n,e){return n.useProto3Json||bl(e)?e:{value:e}}function DP(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Mr(n){return ke(!!n),X.fromTimestamp(function(t){let i=xn(t);return new Dt(i.seconds,i.nanos)}(n))}function MP(n,e){return Wm(n,e).canonicalString()}function Wm(n,e){let t=function(r){return new ze(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function z0(n){let e=ze.fromString(n);return ke(W0(e)),e}function dm(n,e){let t=z0(e);if(t.get(1)!==n.databaseId.projectId)throw new q(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new q(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(q0(t))}function $0(n,e){return MP(n.databaseId,e)}function kP(n){let e=z0(n);return e.length===4?ze.emptyPath():q0(e)}function l0(n){return new ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function q0(n){return ke(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function OP(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(h,m){return h.useProto3Json?(ke(m===void 0||typeof m=="string"),ct.fromBase64String(m||"")):(ke(m===void 0||m instanceof Buffer||m instanceof Uint8Array),ct.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(h){let m=h.code===void 0?V.UNKNOWN:B0(h.code);return new q(m,h.message||"")}(s);t=new Zc(i,r,o,c||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=dm(n,i.document.name),o=Mr(i.document.updateTime),s=i.document.createTime?Mr(i.document.createTime):X.min(),c=new Cn({mapValue:{fields:i.document.fields}}),l=Kt.newFoundDocument(r,o,s,c),h=i.targetIds||[],m=i.removedTargetIds||[];t=new Pr(h,m,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=dm(n,i.document),o=i.readTime?Mr(i.readTime):X.min(),s=Kt.newNoDocument(r,o),c=i.removedTargetIds||[];t=new Pr([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=dm(n,i.document),o=i.removedTargetIds||[];t=new Pr([],o,r,null)}else{if(!("filter"in e))return J();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new zm(r,o),c=i.targetId;t=new Xc(c,s)}}return t}function NP(n,e){return{documents:[$0(n,e.path)]}}function FP(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=$0(n,r);let o=function(h){if(h.length!==0)return G0(ln.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(h){if(h.length!==0)return h.map(m=>function(T){return{field:Sr(T.field),direction:UP(T.dir)}}(m))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=Gm(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ct:t,parent:r}}function VP(n){let e=kP(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){ke(i===1);let m=t.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(g){let T=H0(g);return T instanceof ln&&S0(T)?T.getFilters():[T]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(T=>function(O){return new jr(Rr(O.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(T))}(t.orderBy));let c=null;t.limit&&(c=function(g){let T;return T=typeof g=="object"?g.value:g,bl(T)?null:T}(t.limit));let l=null;t.startAt&&(l=function(g){let T=!!g.before,S=g.values||[];return new Ur(S,T)}(t.startAt));let h=null;return t.endAt&&(h=function(g){let T=!g.before,S=g.values||[];return new Ur(S,T)}(t.endAt)),cP(e,r,s,o,c,"F",l,h)}function LP(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function H0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=Rr(t.unaryFilter.field);return $e.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Rr(t.unaryFilter.field);return $e.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Rr(t.unaryFilter.field);return $e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Rr(t.unaryFilter.field);return $e.create(s,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(n):n.fieldFilter!==void 0?function(t){return $e.create(Rr(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ln.create(t.compositeFilter.filters.map(i=>H0(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return J()}}(t.compositeFilter.op))}(n):J()}function UP(n){return xP[n]}function jP(n){return SP[n]}function BP(n){return RP[n]}function Sr(n){return{fieldPath:n.canonicalString()}}function Rr(n){return Wt.fromServerFormat(n.fieldPath)}function G0(n){return n instanceof $e?function(t){if(t.op==="=="){if(Yy(t.value))return{unaryFilter:{field:Sr(t.field),op:"IS_NAN"}};if(Qy(t.value))return{unaryFilter:{field:Sr(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Yy(t.value))return{unaryFilter:{field:Sr(t.field),op:"IS_NOT_NAN"}};if(Qy(t.value))return{unaryFilter:{field:Sr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sr(t.field),op:jP(t.op),value:t.value}}}(n):n instanceof ln?function(t){let i=t.getFilters().map(r=>G0(r));return i.length===1?i[0]:{compositeFilter:{op:BP(t.op),filters:i}}}(n):J()}function W0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ls=class n{constructor(e,t,i,r,o=X.min(),s=X.min(),c=ct.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Km=class{constructor(e){this.ht=e}};function zP(n){let e=VP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Lm(e,e.limit,"L"):e}var tl=class{constructor(){}dt(e,t){this.Et(e,t),t.At()}Et(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(Se(e.integerValue));else if("doubleValue"in e){let i=Se(e.doubleValue);isNaN(i)?this.Rt(t,13):(this.Rt(t,15),Gc(i)?t.Vt(0):t.Vt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Rt(t,20),typeof i=="string"&&(i=xn(i)),t.ft(`${i.seconds||""}`),t.Vt(i.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(Sn(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.Rt(t,45),t.Vt(i.latitude||0),t.Vt(i.longitude||0)}else"mapValue"in e?A0(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):C0(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):J()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){let i=e.fields||{};this.Rt(t,55);for(let r of Object.keys(i))this.gt(r,t),this.Et(i[r],t)}bt(e,t){var i,r;let o=e.fields||{};this.Rt(t,53);let s="value",c=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.Rt(t,15),t.Vt(Se(c)),this.gt(s,t),this.Et(o[s],t)}vt(e,t){let i=e.values||[];this.Rt(t,50);for(let r of i)this.Et(r,t)}St(e,t){this.Rt(t,37),K.fromName(e).path.forEach(i=>{this.Rt(t,60),this.Ct(i,t)})}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}};tl.Ft=new tl;var Qm=class{constructor(){this.ln=new Ym}addToCollectionParentIndex(e,t){return this.ln.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve($i.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve($i.min())}updateCollectionGroup(e,t,i){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},Ym=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Qe(ze.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Qe(ze.comparator)).toArray()}};var FV=new Uint8Array(0);var u0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}};Rt.DEFAULT_COLLECTION_PERCENTILE=10,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rt.DEFAULT=new Rt(41943040,Rt.DEFAULT_COLLECTION_PERCENTILE,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rt.DISABLED=new Rt(-1,0,0);var Us=class n{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new n(0)}static Qn(){return new n(-1)}};function d0([n,e],[t,i]){let r=le(n,t);return r===0?le(e,i):r}var Jm=class{constructor(e){this.Gn=e,this.buffer=new Qe(d0),this.zn=0}jn(){return++this.zn}Hn(e){let t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{let i=this.buffer.last();d0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}},Xm=class{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){L("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>b(this,null,function*(){this.Jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Kr(t)?L("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield vl(t)}yield this.Yn(3e5)}))}},Zm=class{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return P.resolve(Wf.oe);let i=new Jm(t);return this.Zn.forEachTarget(e,r=>i.Hn(r.sequenceNumber)).next(()=>this.Zn.er(e,r=>i.Hn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(u0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u0):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,r,o,s,c,l,h,m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,s=Date.now(),this.nthSequenceNumber(e,r))).next(g=>(i=g,c=Date.now(),this.removeTargets(e,i,t))).next(g=>(o=g,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(g=>(h=Date.now(),Ar()<=re.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-m}ms
	Determined least recently used ${r} in `+(c-s)+`ms
	Removed ${o} targets in `+(l-c)+`ms
	Removed ${g} documents in `+(h-l)+`ms
Total Duration: ${h-m}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:g})))}};function $P(n,e){return new Zm(n,e)}var ef=class{constructor(){this.changes=new Rn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?P.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var tf=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var nf=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Ds(i.mutation,r,Li.empty(),Dt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,de()).next(()=>i))}getLocalViewOfDocuments(e,t,i=de()){let r=Ui();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Cs();return o.forEach((c,l)=>{s=s.insert(c,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let i=Ui();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,de()))}populateOverlays(e,t,i){let r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,i,r){let o=oi(),s=Ss(),c=function(){return Ss()}();return t.forEach((l,h)=>{let m=i.get(h.key);r.has(h.key)&&(m===void 0||m.mutation instanceof Hr)?o=o.insert(h.key,h):m!==void 0?(s.set(h.key,m.mutation.getFieldMask()),Ds(m.mutation,h,m.mutation.getFieldMask(),Dt.now())):s.set(h.key,Li.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((h,m)=>s.set(h,m)),t.forEach((h,m)=>{var g;return c.set(h,new tf(m,(g=s.get(h))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){let i=Ss(),r=new Ve((s,c)=>s-c),o=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(l=>{let h=t.get(l);if(h===null)return;let m=i.get(l)||Li.empty();m=c.applyToLocalView(h,m),i.set(l,m);let g=(r.get(c.batchId)||de()).add(l);r=r.insert(c.batchId,g)})}).next(()=>{let s=[],c=r.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),h=l.key,m=l.value,g=N0();m.forEach(T=>{if(!o.has(T)){let S=U0(t.get(T),i.get(T));S!==null&&g.set(T,S),o=o.add(T)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,g))}return P.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):P.resolve(Ui()),c=-1,l=o;return s.next(h=>P.forEach(h,(m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(m)?P.resolve():this.remoteDocumentCache.getEntry(e,m).next(T=>{l=l.insert(m,T)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,l,h,de())).next(m=>({batchId:c,changes:fP(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(i=>{let r=Cs();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let o=t.collectionGroup,s=Cs();return this.indexManager.getCollectionParents(e,o).next(c=>P.forEach(c,l=>{let h=function(g,T){return new Br(T,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next(m=>{m.forEach((g,T)=>{s=s.insert(g,T)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((l,h)=>{let m=h.getKey();s.get(m)===null&&(s=s.insert(m,Kt.newInvalidDocument(m)))});let c=Cs();return s.forEach((l,h)=>{let m=o.get(l);m!==void 0&&Ds(m.mutation,h,Li.empty(),Dt.now()),Il(t,h)&&(c=c.insert(l,h))}),c})}};var rf=class{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return P.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Mr(r.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(r){return{name:r.name,query:zP(r.bundledQuery),readTime:Mr(r.readTime)}}(t)),P.resolve()}};var of=class{constructor(){this.overlays=new Ve(K.comparator),this.dr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let i=Ui();return P.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.Tt(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.dr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(i)),P.resolve()}getOverlaysForCollection(e,t,i){let r=Ui(),o=t.length+1,s=new K(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let l=c.getNext().value,h=l.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return P.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new Ve((h,m)=>h-m),s=this.overlays.getIterator();for(;s.hasNext();){let h=s.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>i){let m=o.get(h.largestBatchId);m===null&&(m=Ui(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}let c=Ui(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,m)=>c.set(h,m)),!(c.size()>=r)););return P.resolve(c)}Tt(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.dr.get(r.largestBatchId).delete(i.key);this.dr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new Bm(t,i));let o=this.dr.get(t);o===void 0&&(o=de(),this.dr.set(t,o)),this.dr.set(t,o.add(i.key))}};var sf=class{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var js=class{constructor(){this.Er=new Qe(Be.Ar),this.Rr=new Qe(Be.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){let i=new Be(e,t);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Be(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){let t=new K(new ze([])),i=new Be(t,e),r=new Be(t,e+1),o=[];return this.Rr.forEachInRange([i,r],s=>{this.gr(s),o.push(s.key)}),o}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){let t=new K(new ze([])),i=new Be(t,e),r=new Be(t,e+1),o=de();return this.Rr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Be(e,0),i=this.Er.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Be=class{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return K.comparator(e.key,t.key)||le(e.br,t.br)}static Vr(e,t){return le(e.br,t.br)||K.comparator(e.key,t.key)}};var af=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Qe(Be.Ar)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new jm(o,t,i,r);this.mutationQueue.push(s);for(let c of r)this.vr=this.vr.add(new Be(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.Fr(i),o=r<0?0:r;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Be(t,0),r=new Be(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([i,r],s=>{let c=this.Cr(s.br);o.push(c)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Qe(le);return t.forEach(r=>{let o=new Be(r,0),s=new Be(r,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,s],c=>{i=i.add(c.br)})}),P.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=i;K.isDocumentKey(o)||(o=o.child(""));let s=new Be(new K(o),0),c=new Qe(le);return this.vr.forEachWhile(l=>{let h=l.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(c=c.add(l.br)),!0)},s),P.resolve(this.Mr(c))}Mr(e){let t=[];return e.forEach(i=>{let r=this.Cr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){ke(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return P.forEach(t.mutations,r=>{let o=new Be(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.vr=i})}Bn(e){}containsKey(e,t){let i=new Be(t,0),r=this.vr.firstAfterOrEqual(i);return P.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){let t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var cf=class{constructor(e){this.Nr=e,this.docs=function(){return new Ve(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return P.resolve(i?i.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let i=oi();return t.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Kt.newInvalidDocument(r))}),P.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=oi(),s=t.path,c=new K(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:h,value:{document:m}}=l.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||QD(KD(m),i)<=0||(r.has(m.key)||Il(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,i,r){J()}Br(e,t){return P.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new lf(this)}getSize(e){return P.resolve(this.size)}},lf=class extends ef{constructor(e){super(),this.hr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.hr.addEntry(e,r)):this.hr.removeEntry(i)}),P.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}};var uf=class{constructor(e){this.persistence=e,this.Lr=new Rn(t=>Yf(t),Jf),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.kr=0,this.qr=new js,this.targetCount=0,this.Qr=Us.qn()}forEachTarget(e,t){return this.Lr.forEach((i,r)=>t(r)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),P.resolve()}Un(e){this.Lr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Qr=new Us(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.Un(t),P.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,i){let r=0,o=[];return this.Lr.forEach((s,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.Lr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),P.waitFor(o).next(()=>r)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let i=this.Lr.get(t)||null;return P.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),P.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);let r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let i=this.qr.Sr(t);return P.resolve(i)}containsKey(e,t){return P.resolve(this.qr.containsKey(t))}};var nl=class{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Wf(0),this.Ur=!1,this.Ur=!0,this.Wr=new sf,this.referenceDelegate=e(this),this.Gr=new uf(this),this.indexManager=new Qm,this.remoteDocumentCache=function(r){return new cf(r)}(i=>this.referenceDelegate.zr(i)),this.serializer=new Km(t),this.jr=new rf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new of,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new af(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){L("MemoryPersistence","Starting transaction:",e);let r=new df(this.$r.next());return this.referenceDelegate.Hr(),i(r).next(o=>this.referenceDelegate.Jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Yr(e,t){return P.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}},df=class extends Tm{constructor(e){super(),this.currentSequenceNumber=e}},hf=class n{constructor(e){this.persistence=e,this.Zr=new js,this.Xr=null}static ei(e){return new n(e)}get ti(){if(this.Xr)return this.Xr;throw J()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),P.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),P.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(r=>this.ti.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.ti.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.ti,i=>{let r=K.fromPath(i);return this.ni(e,r).next(o=>{o||t.removeEntry(r,X.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return P.or([()=>P.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}},il=class n{constructor(e,t){this.persistence=e,this.ri=new Rn(i=>XD(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=$P(this,t)}static ei(e,t){return new n(e,t)}Hr(){}Jr(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){let t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return P.forEach(this.ri,(i,r)=>this.ir(e,i,r).next(o=>o?P.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0,r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.Br(e,s=>this.ir(e,s,t).next(c=>{c||(i++,o.removeEntry(s,X.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),P.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),P.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bc(e.data.value)),t}ir(e,t,i){return P.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let r=this.ri.get(t);return P.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var mf=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=r}static zi(e,t){let i=de(),r=de();for(let o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(e,t.fromCache,i,r)}};var ff=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var pf=class{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return vb()?8:JD(We())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,r){let o={result:null};return this.Xi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.es(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new ff;return this.ts(e,t,s).next(c=>{if(o.result=c,this.Hi)return this.ns(e,t,s,c.size)})}).next(()=>o.result)}ns(e,t,i,r){return i.documentReadCount<this.Ji?(Ar()<=re.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",xr(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),P.resolve()):(Ar()<=re.DEBUG&&L("QueryEngine","Query:",xr(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Yi*r?(Ar()<=re.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",xr(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,an(t))):P.resolve())}Xi(e,t){if(e0(t))return P.resolve(null);let i=an(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=Lm(t,null,"F"),i=an(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=de(...o);return this.Zi.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,i).next(l=>{let h=this.rs(t,c);return this.ss(t,h,s,l.readTime)?this.Xi(e,Lm(t,null,"F")):this.os(e,h,t,l)}))})))}es(e,t,i,r){return e0(t)||r.isEqual(X.min())?P.resolve(null):this.Zi.getDocuments(e,i).next(o=>{let s=this.rs(t,o);return this.ss(t,s,i,r)?P.resolve(null):(Ar()<=re.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xr(t)),this.os(e,s,t,WD(r,-1)).next(c=>c))})}rs(e,t){let i=new Qe(k0(e));return t.forEach((r,o)=>{Il(e,o)&&(i=i.add(o))}),i}ss(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ts(e,t,i){return Ar()<=re.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",xr(t)),this.Zi.getDocumentsMatchingQuery(e,t,$i.min(),i)}os(e,t,i,r){return this.Zi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var gf=class{constructor(e,t,i,r){this.persistence=e,this._s=t,this.serializer=r,this.us=new Ve(le),this.cs=new Rn(o=>Yf(o),Jf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nf(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}};function qP(n,e,t,i){return new gf(n,e,t,i)}function K0(n,e){return b(this,null,function*(){let t=ue(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],c=[],l=de();for(let h of r){s.push(h.batchId);for(let m of h.mutations)l=l.add(m.key)}for(let h of o){c.push(h.batchId);for(let m of h.mutations)l=l.add(m.key)}return t.localDocuments.getDocuments(i,l).next(h=>({Ts:h,removedBatchIds:s,addedBatchIds:c}))})})})}function Q0(n){let e=ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function HP(n,e){let t=ue(n),i=e.snapshotVersion,r=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.hs.newChangeBuffer({trackRemovals:!0});r=t.us;let c=[];e.targetChanges.forEach((m,g)=>{let T=r.get(g);if(!T)return;c.push(t.Gr.removeMatchingKeys(o,m.removedDocuments,g).next(()=>t.Gr.addMatchingKeys(o,m.addedDocuments,g)));let S=T.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?S=S.withResumeToken(ct.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,i)),r=r.insert(g,S),function(k,R,W){return k.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(T,S,m)&&c.push(t.Gr.updateTargetData(o,S))});let l=oi(),h=de();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(GP(o,s,e.documentUpdates).next(m=>{l=m.Is,h=m.ds})),!i.isEqual(X.min())){let m=t.Gr.getLastRemoteSnapshotVersion(o).next(g=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(m)}return P.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,h)).next(()=>l)}).then(o=>(t.us=r,o))}function GP(n,e,t){let i=de(),r=de();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=oi();return t.forEach((c,l)=>{let h=o.get(c);l.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(c)),l.isNoDocument()&&l.version.isEqual(X.min())?(e.removeEntry(c,l.readTime),s=s.insert(c,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),s=s.insert(c,l)):L("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",l.version)}),{Is:s,ds:r}})}function WP(n,e){let t=ue(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Gr.getTargetData(i,e).next(o=>o?(r=o,P.resolve(r)):t.Gr.allocateTargetId(i).next(s=>(r=new Ls(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.us.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}function _f(n,e,t){return b(this,null,function*(){let i=ue(n),r=i.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Kr(s))throw s;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.us=i.us.remove(e),i.cs.delete(r.target)})}function h0(n,e,t){let i=ue(n),r=X.min(),o=de();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,h,m){let g=ue(l),T=g.cs.get(m);return T!==void 0?P.resolve(g.us.get(T)):g.Gr.getTargetData(h,m)}(i,s,an(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(s,c.targetId).next(l=>{o=l})}).next(()=>i._s.getDocumentsMatchingQuery(s,e,t?r:X.min(),t?o:de())).next(c=>(KP(i,dP(e),c),{documents:c,Es:o})))}function KP(n,e,t){let i=n.ls.get(e)||X.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.ls.set(e,i)}var rl=class{constructor(){this.activeTargetIds=_P()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var vf=class{constructor(){this._o=new rl,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new rl,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var bf=class{uo(e){}shutdown(){}};var ol=class{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.To)e(0)}Po(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var jc=null;function hm(){return jc===null?jc=function(){return 268435456+Math.round(2147483648*Math.random())}():jc++,"0x"+jc.toString(16)}var QP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var yf=class{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}};var at="WebChannelConnection",wf=class extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${r}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Oo(t,i,r,o,s){let c=hm(),l=this.No(t,i.toUriEncodedString());L("RestConnection",`Sending RPC '${t}' ${c}:`,l,r);let h={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(h,o,s),this.Lo(t,l,h,r).then(m=>(L("RestConnection",`Received RPC '${t}' ${c}: `,m),m),m=>{throw Nr("RestConnection",`RPC '${t}' ${c} failed with error: `,m,"url: ",l,"request:",r),m})}ko(t,i,r,o,s,c){return this.Oo(t,i,r,o,s)}Bo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wr}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}No(t,i){let r=QP[t];return`${this.Fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,i,r){let o=hm();return new Promise((s,c)=>{let l=new om;l.setWithCredentials(!0),l.listenOnce(sm.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ts.NO_ERROR:let m=l.getResponseJson();L(at,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),s(m);break;case Ts.TIMEOUT:L(at,`RPC '${e}' ${o} timed out`),c(new q(V.DEADLINE_EXCEEDED,"Request time out"));break;case Ts.HTTP_ERROR:let g=l.getStatus();if(L(at,`RPC '${e}' ${o} failed with status:`,g,"response text:",l.getResponseText()),g>0){let T=l.getResponseJson();Array.isArray(T)&&(T=T[0]);let S=T?.error;if(S&&S.status&&S.message){let O=function(R){let W=R.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(W)>=0?W:V.UNKNOWN}(S.status);c(new q(O,S.message))}else c(new q(V.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new q(V.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{L(at,`RPC '${e}' ${o} completed.`)}});let h=JSON.stringify(r);L(at,`RPC '${e}' ${o} sending request:`,r),l.send(t,"POST",h,i,15)})}qo(e,t,i){let r=hm(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=lm(),c=cm(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Bo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let m=o.join("");L(at,`Creating RPC '${e}' stream ${r}: ${m}`,l);let g=s.createWebChannel(m,l),T=!1,S=!1,O=new yf({Eo:R=>{S?L(at,`Not sending because RPC '${e}' stream ${r} is closed:`,R):(T||(L(at,`Opening RPC '${e}' stream ${r} transport.`),g.open(),T=!0),L(at,`RPC '${e}' stream ${r} sending:`,R),g.send(R))},Ao:()=>g.close()}),k=(R,W,ne)=>{R.listen(W,$=>{try{ne($)}catch(ve){setTimeout(()=>{throw ve},0)}})};return k(g,Cr.EventType.OPEN,()=>{S||(L(at,`RPC '${e}' stream ${r} transport opened.`),O.So())}),k(g,Cr.EventType.CLOSE,()=>{S||(S=!0,L(at,`RPC '${e}' stream ${r} transport closed`),O.Do())}),k(g,Cr.EventType.ERROR,R=>{S||(S=!0,Nr(at,`RPC '${e}' stream ${r} transport errored:`,R),O.Do(new q(V.UNAVAILABLE,"The operation could not be completed")))}),k(g,Cr.EventType.MESSAGE,R=>{var W;if(!S){let ne=R.data[0];ke(!!ne);let $=ne,ve=$?.error||((W=$[0])===null||W===void 0?void 0:W.error);if(ve){L(at,`RPC '${e}' stream ${r} received error:`,ve);let Ye=ve.status,me=function(v){let y=je[v];if(y!==void 0)return B0(y)}(Ye),w=ve.message;me===void 0&&(me=V.INTERNAL,w="Unknown error status: "+Ye+" with message "+ve.message),S=!0,O.Do(new q(me,w)),g.close()}else L(at,`RPC '${e}' stream ${r} received:`,ne),O.vo(ne)}}),k(c,am.STAT_EVENT,R=>{R.stat===Vc.PROXY?L(at,`RPC '${e}' stream ${r} detected buffering proxy`):R.stat===Vc.NOPROXY&&L(at,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{O.bo()},0),O}};function mm(){return typeof document<"u"?document:null}function Y0(n){return new Hm(n,!0)}var sl=class{constructor(e,t,i=1e3,r=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=r,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();let t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),r=Math.max(0,t-i);r>0&&L("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}};var If=class{constructor(e,t,i,r,o,s,c,l){this.li=e,this.Yo=i,this.Zo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new sl(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}stop(){return b(this,null,function*(){this.i_()&&(yield this.close(0))})}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}u_(){return b(this,null,function*(){if(this.s_())return this.close(0)})}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}close(e,t){return b(this,null,function*(){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===V.RESOURCE_EXHAUSTED?(An(t.toString()),An("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.po(t)})}P_(){}auth(){this.state=1;let e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Xo===t&&this.I_(i,r)},i=>{e(()=>{let r=new q(V.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(r)})})}I_(e,t){let i=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(r=>{i(()=>this.d_(r))}),this.stream.onMessage(r=>{i(()=>++this.n_==1?this.A_(r):this.onNext(r))})}o_(){this.state=5,this.r_.jo(()=>b(this,null,function*(){this.state=0,this.start()}))}d_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Ef=class extends If{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();let t=OP(this.serializer,e),i=function(o){if(!("targetChange"in o))return X.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?Mr(s.readTime):X.min()}(e);return this.listener.R_(t,i)}V_(e){let t={};t.database=l0(this.serializer),t.addTarget=function(o,s){let c,l=s.target;if(c=Vm(l)?{documents:NP(o,l)}:{query:FP(o,l).ct},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=PP(o,s.resumeToken);let h=Gm(o,s.expectedCount);h!==null&&(c.expectedCount=h)}else if(s.snapshotVersion.compareTo(X.min())>0){c.readTime=DP(o,s.snapshotVersion.toTimestamp());let h=Gm(o,s.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);let i=LP(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){let t={};t.database=l0(this.serializer),t.removeTarget=e,this.c_(t)}};var Tf=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new q(V.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Oo(e,Wm(t,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(V.UNKNOWN,o.toString())})}ko(e,t,i,r,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.ko(e,Wm(t,i),r,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(V.UNKNOWN,s.toString())})}terminate(){this.S_=!0,this.connection.terminate()}},Cf=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(An(t),this.C_=!1):L("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}};var Af=class{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(s=>{i.enqueueAndForget(()=>b(this,null,function*(){Hs(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(l){return b(this,null,function*(){let h=ue(l);h.k_.add(4),yield qs(h),h.K_.set("Unknown"),h.k_.delete(4),yield El(h)})}(this))}))}),this.K_=new Cf(i,r)}};function El(n){return b(this,null,function*(){if(Hs(n))for(let e of n.q_)yield e(!0)})}function qs(n){return b(this,null,function*(){for(let e of n.q_)yield e(!1)})}function J0(n,e){let t=ue(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),np(t)?tp(t):Qr(t).s_()&&ep(t,e))}function Zf(n,e){let t=ue(n),i=Qr(t);t.L_.delete(e),i.s_()&&X0(t,e),t.L_.size===0&&(i.s_()?i.a_():Hs(t)&&t.K_.set("Unknown"))}function ep(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Qr(n).V_(e)}function X0(n,e){n.U_.xe(e),Qr(n).m_(e)}function tp(n){n.U_=new qm({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Qr(n).start(),n.K_.F_()}function np(n){return Hs(n)&&!Qr(n).i_()&&n.L_.size>0}function Hs(n){return ue(n).k_.size===0}function Z0(n){n.U_=void 0}function YP(n){return b(this,null,function*(){n.K_.set("Online")})}function JP(n){return b(this,null,function*(){n.L_.forEach((e,t)=>{ep(n,e)})})}function XP(n,e){return b(this,null,function*(){Z0(n),np(n)?(n.K_.O_(e),tp(n)):n.K_.set("Unknown")})}function ZP(n,e,t){return b(this,null,function*(){if(n.K_.set("Online"),e instanceof Zc&&e.state===2&&e.cause)try{yield function(r,o){return b(this,null,function*(){let s=o.cause;for(let c of o.targetIds)r.L_.has(c)&&(yield r.remoteSyncer.rejectListen(c,s),r.L_.delete(c),r.U_.removeTarget(c))})}(n,e)}catch(i){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield m0(n,i)}else if(e instanceof Pr?n.U_.$e(e):e instanceof Xc?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(X.min()))try{let i=yield Q0(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){let c=o.U_.it(s);return c.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){let m=o.L_.get(h);m&&o.L_.set(h,m.withResumeToken(l.resumeToken,s))}}),c.targetMismatches.forEach((l,h)=>{let m=o.L_.get(l);if(!m)return;o.L_.set(l,m.withResumeToken(ct.EMPTY_BYTE_STRING,m.snapshotVersion)),X0(o,l);let g=new Ls(m.target,l,h,m.sequenceNumber);ep(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){L("RemoteStore","Failed to raise snapshot:",i),yield m0(n,i)}})}function m0(n,e,t){return b(this,null,function*(){if(!Kr(e))throw e;n.k_.add(1),yield qs(n),n.K_.set("Offline"),t||(t=()=>Q0(n.localStore)),n.asyncQueue.enqueueRetryable(()=>b(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield t(),n.k_.delete(1),yield El(n)}))})}function f0(n,e){return b(this,null,function*(){let t=ue(n);t.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let i=Hs(t);t.k_.add(3),yield qs(t),i&&t.K_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),yield El(t)})}function eM(n,e){return b(this,null,function*(){let t=ue(n);e?(t.k_.delete(2),yield El(t)):e||(t.k_.add(2),yield qs(t),t.K_.set("Unknown"))})}function Qr(n){return n.W_||(n.W_=function(t,i,r){let o=ue(t);return o.b_(),new Ef(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Ro:YP.bind(null,n),mo:JP.bind(null,n),po:XP.bind(null,n),R_:ZP.bind(null,n)}),n.q_.push(e=>b(this,null,function*(){e?(n.W_.__(),np(n)?tp(n):n.K_.set("Unknown")):(yield n.W_.stop(),Z0(n))}))),n.W_}var xf=class n{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){let s=Date.now()+i,c=new n(e,t,s,r,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ew(n,e){if(An("AsyncQueue",`${e}: ${n}`),Kr(n))return new q(V.UNAVAILABLE,`${e}: ${n}`);throw n}var al=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||K.comparator(t.key,i.key):(t,i)=>K.comparator(t.key,i.key),this.keyedMap=Cs(),this.sortedSet=new Ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var cl=class{constructor(){this.z_=new Ve(K.comparator)}track(e){let t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):J():this.z_=this.z_.insert(t,e)}j_(){let e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}},Gr=class n{constructor(e,t,i,r,o,s,c,l,h){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,t,i,r,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,al.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var Sf=class{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}},Rf=class{constructor(){this.queries=p0(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){let r=ue(t),o=r.queries;r.queries=p0(),o.forEach((s,c)=>{for(let l of c.J_)l.onError(i)})})(this,new q(V.ABORTED,"Firestore shutting down"))}};function p0(){return new Rn(n=>M0(n),wl)}function tM(n,e){return b(this,null,function*(){let t=ue(n),i=3,r=e.query,o=t.queries.get(r);o?!o.Y_()&&e.Z_()&&(i=2):(o=new Sf,i=e.Z_()?0:1);try{switch(i){case 0:o.H_=yield t.onListen(r,!0);break;case 1:o.H_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(s){let c=ew(s,`Initialization of query '${xr(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&ip(t)})}function nM(n,e){return b(this,null,function*(){let t=ue(n),i=e.query,r=3,o=t.queries.get(i);if(o){let s=o.J_.indexOf(e);s>=0&&(o.J_.splice(s,1),o.J_.length===0?r=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function iM(n,e){let t=ue(n),i=!1;for(let r of e){let o=r.query,s=t.queries.get(o);if(s){for(let c of s.J_)c.ta(r)&&(i=!0);s.H_=r}}i&&ip(t)}function rM(n,e,t){let i=ue(n),r=i.queries.get(e);if(r)for(let o of r.J_)o.onError(t);i.queries.delete(e)}function ip(n){n.X_.forEach(e=>{e.next()})}var Df,g0;(g0=Df||(Df={})).na="default",g0.Cache="cache";var Pf=class{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Gr(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;let i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;let t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Gr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Df.Cache}};var ll=class{constructor(e){this.key=e}},ul=class{constructor(e){this.key=e}},Mf=class{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=de(),this.mutatedKeys=de(),this.Va=k0(e),this.ma=new al(this.Va)}get fa(){return this.Ea}ga(e,t){let i=t?t.pa:new cl,r=t?t.ma:this.ma,o=t?t.mutatedKeys:this.mutatedKeys,s=r,c=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,g)=>{let T=r.get(m),S=Il(this.query,g)?g:null,O=!!T&&this.mutatedKeys.has(T.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations),R=!1;T&&S?T.data.isEqual(S.data)?O!==k&&(i.track({type:3,doc:S}),R=!0):this.ya(T,S)||(i.track({type:2,doc:S}),R=!0,(l&&this.Va(S,l)>0||h&&this.Va(S,h)<0)&&(c=!0)):!T&&S?(i.track({type:0,doc:S}),R=!0):T&&!S&&(i.track({type:1,doc:T}),R=!0,(l||h)&&(c=!0)),R&&(S?(s=s.add(S),o=k?o.add(m):o.delete(m)):(s=s.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let m=this.query.limitType==="F"?s.last():s.first();s=s.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{ma:s,pa:i,ss:c,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;let s=e.pa.j_();s.sort((m,g)=>function(S,O){let k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return k(S)-k(O)}(m.type,g.type)||this.Va(m.doc,g.doc)),this.wa(i),r=r!=null&&r;let c=t&&!r?this.Sa():[],l=this.Ra.size===0&&this.current&&!r?1:0,h=l!==this.Aa;return this.Aa=l,s.length!==0||h?{snapshot:new Gr(this.query,e.ma,o,s,e.mutatedKeys,l===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new cl,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];let e=this.Ra;this.Ra=de(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});let t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new ul(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new ll(i))}),t}va(e){this.Ea=e.Es,this.Ra=de();let t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Gr.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}},kf=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},Of=class{constructor(e){this.key=e,this.Fa=!1}},Nf=class{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new Rn(c=>M0(c),wl),this.Oa=new Map,this.Na=new Set,this.Ba=new Ve(K.comparator),this.La=new Map,this.ka=new js,this.qa={},this.Qa=new Map,this.Ka=Us.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}};function oM(n,e,t=!0){return b(this,null,function*(){let i=ow(n),r,o=i.xa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Ca()):r=yield tw(i,e,t,!0),r})}function sM(n,e){return b(this,null,function*(){let t=ow(n);yield tw(t,e,!0,!1)})}function tw(n,e,t,i){return b(this,null,function*(){let r=yield WP(n.localStore,an(e)),o=r.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return i&&(c=yield aM(n,e,o,s==="current",r.resumeToken)),n.isPrimaryClient&&t&&J0(n.remoteStore,r),c})}function aM(n,e,t,i,r){return b(this,null,function*(){n.Ua=(g,T,S)=>function(k,R,W,ne){return b(this,null,function*(){let $=R.view.ga(W);$.ss&&($=yield h0(k.localStore,R.query,!1).then(({documents:w})=>R.view.ga(w,$)));let ve=ne&&ne.targetChanges.get(R.targetId),Ye=ne&&ne.targetMismatches.get(R.targetId)!=null,me=R.view.applyChanges($,k.isPrimaryClient,ve,Ye);return v0(k,R.targetId,me.ba),me.snapshot})}(n,g,T,S);let o=yield h0(n.localStore,e,!0),s=new Mf(e,o.Es),c=s.ga(o.documents),l=Vs.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),h=s.applyChanges(c,n.isPrimaryClient,l);v0(n,t,h.ba);let m=new kf(e,t,s);return n.xa.set(e,m),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),h.snapshot})}function cM(n,e,t){return b(this,null,function*(){let i=ue(n),r=i.xa.get(e),o=i.Oa.get(r.targetId);if(o.length>1)return i.Oa.set(r.targetId,o.filter(s=>!wl(s,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield _f(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Zf(i.remoteStore,r.targetId),Ff(i,r.targetId)}).catch(vl))):(Ff(i,r.targetId),yield _f(i.localStore,r.targetId,!0))})}function lM(n,e){return b(this,null,function*(){let t=ue(n),i=t.xa.get(e),r=t.Oa.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Zf(t.remoteStore,i.targetId))})}function nw(n,e){return b(this,null,function*(){let t=ue(n);try{let i=yield HP(t.localStore,e);e.targetChanges.forEach((r,o)=>{let s=t.La.get(o);s&&(ke(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Fa=!0:r.modifiedDocuments.size>0?ke(s.Fa):r.removedDocuments.size>0&&(ke(s.Fa),s.Fa=!1))}),yield rw(t,i,e)}catch(i){yield vl(i)}})}function _0(n,e,t){let i=ue(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.xa.forEach((o,s)=>{let c=s.view.ea(e);c.snapshot&&r.push(c.snapshot)}),function(s,c){let l=ue(s);l.onlineState=c;let h=!1;l.queries.forEach((m,g)=>{for(let T of g.J_)T.ea(c)&&(h=!0)}),h&&ip(l)}(i.eventManager,e),r.length&&i.Ma.R_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function uM(n,e,t){return b(this,null,function*(){let i=ue(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.La.get(e),o=r&&r.key;if(o){let s=new Ve(K.comparator);s=s.insert(o,Kt.newNoDocument(o,X.min()));let c=de().add(o),l=new Jc(X.min(),new Map,new Ve(le),s,c);yield nw(i,l),i.Ba=i.Ba.remove(o),i.La.delete(e),rp(i)}else yield _f(i.localStore,e,!1).then(()=>Ff(i,e,t)).catch(vl)})}function Ff(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||iw(n,i)})}function iw(n,e){n.Na.delete(e.path.canonicalString());let t=n.Ba.get(e);t!==null&&(Zf(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),rp(n))}function v0(n,e,t){for(let i of t)i instanceof ll?(n.ka.addReference(i.key,e),dM(n,i)):i instanceof ul?(L("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||iw(n,i.key)):J()}function dM(n,e){let t=e.key,i=t.path.canonicalString();n.Ba.get(t)||n.Na.has(i)||(L("SyncEngine","New document in limbo: "+t),n.Na.add(i),rp(n))}function rp(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){let e=n.Na.values().next().value;n.Na.delete(e);let t=new K(ze.fromString(e)),i=n.Ka.next();n.La.set(i,new Of(t)),n.Ba=n.Ba.insert(t,i),J0(n.remoteStore,new Ls(an(Xf(t.path)),i,"TargetPurposeLimboResolution",Wf.oe))}}function rw(n,e,t){return b(this,null,function*(){let i=ue(n),r=[],o=[],s=[];i.xa.isEmpty()||(i.xa.forEach((c,l)=>{s.push(i.Ua(l,e,t).then(h=>{var m;if((h||t)&&i.isPrimaryClient){let g=h?!h.fromCache:(m=t?.targetChanges.get(l.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(l.targetId,g?"current":"not-current")}if(h){r.push(h);let g=mf.zi(l.targetId,h);o.push(g)}}))}),yield Promise.all(s),i.Ma.R_(r),yield function(l,h){return b(this,null,function*(){let m=ue(l);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>P.forEach(h,T=>P.forEach(T.Wi,S=>m.persistence.referenceDelegate.addReference(g,T.targetId,S)).next(()=>P.forEach(T.Gi,S=>m.persistence.referenceDelegate.removeReference(g,T.targetId,S)))))}catch(g){if(!Kr(g))throw g;L("LocalStore","Failed to update sequence numbers: "+g)}for(let g of h){let T=g.targetId;if(!g.fromCache){let S=m.us.get(T),O=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(O);m.us=m.us.insert(T,k)}}})}(i.localStore,o))})}function hM(n,e){return b(this,null,function*(){let t=ue(n);if(!t.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let i=yield K0(t.localStore,e);t.currentUser=e,function(o,s){o.Qa.forEach(c=>{c.forEach(l=>{l.reject(new q(V.CANCELLED,s))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield rw(t,i.Ts)}})}function mM(n,e){let t=ue(n),i=t.La.get(e);if(i&&i.Fa)return de().add(i.key);{let r=de(),o=t.Oa.get(e);if(!o)return r;for(let s of o){let c=t.xa.get(s);r=r.unionWith(c.view.fa)}return r}}function ow(n){let e=ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uM.bind(null,e),e.Ma.R_=iM.bind(null,e.eventManager),e.Ma.Wa=rM.bind(null,e.eventManager),e}var sw=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=Y0(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),yield this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)})}Ja(t,i){return null}Ya(t,i){return null}Ha(t){return qP(this.persistence,new pf,t.initialUser,this.serializer)}ja(t){return new nl(hf.ei,this.serializer)}za(t){return new vf}terminate(){return b(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Vf=class extends sw{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){ke(this.persistence.referenceDelegate instanceof il);let i=this.persistence.referenceDelegate.garbageCollector;return new Xm(i,e.asyncQueue,t)}ja(e){let t=this.cacheSizeBytes!==void 0?Rt.withCacheSize(this.cacheSizeBytes):Rt.DEFAULT;return new nl(i=>il.ei(i,t),this.serializer)}};var fM=(()=>{class n{initialize(t,i){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hM.bind(null,this.syncEngine),yield eM(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Rf}()}createDatastore(t){let i=Y0(t.databaseInfo.databaseId),r=function(s){return new wf(s)}(t.databaseInfo);return function(s,c,l,h){return new Tf(s,c,l,h)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,s,c,l){return new Af(r,o,s,c,l)}(this.localStore,this.datastore,t.asyncQueue,i=>_0(this.syncEngine,i,0),function(){return ol.p()?new ol:new bf}())}createSyncEngine(t,i){return function(o,s,c,l,h,m,g){let T=new Nf(o,s,c,l,h,m);return g&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return b(this,null,function*(){var t,i;yield function(o){return b(this,null,function*(){let s=ue(o);L("RemoteStore","RemoteStore shutting down."),s.k_.add(5),yield qs(s),s.Q_.shutdown(),s.K_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();var Lf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):An("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Uf=class{constructor(e,t,i,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ke.UNAUTHENTICATED,this.clientId=Im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,s=>b(this,null,function*(){L("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(L("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=ew(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function fm(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>b(this,null,function*(){i.isEqual(r)||(yield K0(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function b0(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield pM(n);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>f0(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>f0(e.remoteStore,r)),n._onlineComponents=e})}function pM(n){return b(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield fm(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(r){return r.name==="FirebaseError"?r.code===V.FAILED_PRECONDITION||r.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Nr("Error using user provided cache. Falling back to memory cache: "+t),yield fm(n,new sw)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield fm(n,new Vf(void 0));return n._offlineComponents})}function gM(n){return b(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield b0(n,n._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield b0(n,new fM))),n._onlineComponents})}function y0(n){return b(this,null,function*(){let e=yield gM(n),t=e.eventManager;return t.onListen=oM.bind(null,e.syncEngine),t.onUnlisten=cM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lM.bind(null,e.syncEngine),t})}function aw(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var w0=new Map;function _M(n,e,t){if(!t)throw new q(V.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vM(n,e,t,i){if(e===!0&&i===!0)throw new q(V.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function I0(n){if(K.isDocumentKey(n))throw new q(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bM(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":J()}function $c(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=bM(n);throw new q(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var dl=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new q(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Bs=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dl(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new pm;switch(i.type){case"firstParty":return new bm(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=w0.get(t);i&&(L("ComponentProvider","Removing Datastore"),w0.delete(t),i.terminate())}(this),Promise.resolve()}};function cw(n,e,t,i={}){var r;let o=(n=$c(n,Bs))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Nr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let c,l;if(typeof i.mockUserToken=="string")c=i.mockUserToken,l=Ke.MOCK_USER;else{c=hb(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new q(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ke(h)}n._authCredentials=new gm(new qc(c,l))}}var hl=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},qi=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},kr=class n extends hl{constructor(e,t,i){super(e,t,Xf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qi(this.firestore,null,new K(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function lw(n,e,...t){if(n=qt(n),_M("collection","path",e),n instanceof Bs){let i=ze.fromString(e,...t);return I0(i),new kr(n,null,i)}{if(!(n instanceof qi||n instanceof kr))throw new q(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(ze.fromString(e,...t));return I0(i),new kr(n.firestore,null,i)}}var ml=class{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new sl(this,"async_queue_retry"),this.fu=()=>{let i=mm();i&&L("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;let t=mm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;let t=mm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});let t=new ii;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}wu(){return b(this,null,function*(){if(this.Iu.length!==0){try{yield this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Kr(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}})}yu(e){let t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;let r=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(i);throw An("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);let r=xf.createAndSchedule(this,e,t,i,o=>this.Su(o));return this.Eu.push(r),r}pu(){this.Au&&J()}verifyOperationInProgress(){}bu(){return b(this,null,function*(){let e;do e=this.gu,yield e;while(e!==this.gu)})}Du(e){for(let t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){let t=this.Eu.indexOf(e);this.Eu.splice(t,1)}};function E0(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}var zs=class extends Bs{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new ml,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ml(e),this._firestoreClient=void 0,yield e}})}};function uw(n,e){let t=typeof n=="object"?n:Pi(),i=typeof n=="string"?n:e||"(default)",r=br(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=db("firestore");o&&cw(r,...o)}return r}function yM(n){if(n._terminated)throw new q(V.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||wM(n),n._firestoreClient}function wM(n){var e,t,i;let r=n._freezeSettings(),o=function(c,l,h,m){return new Cm(c,l,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,aw(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new Uf(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){let l=c?._online.build();return{_offline:c?._offline.build(l),_online:l}}(n._componentsProvider))}var jf=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ct.fromBase64String(e))}catch(t){throw new q(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var fl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new q(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Bf=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new q(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new q(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}};var zf=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}};var IM=new RegExp("[~\\*/\\[\\]]");function EM(n,e,t){if(e.search(IM)>=0)throw T0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fl(...e.split("."))._internalPath}catch{throw T0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function T0(n,e,t,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new q(V.INVALID_ARGUMENT,c+n+l)}var pl=class{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new $f(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(dw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},$f=class extends pl{data(){return super.data()}};function dw(n,e){return typeof e=="string"?EM(n,e):e instanceof fl?e._internalPath:e._delegate._internalPath}function TM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new q(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qf=class{convertValue(e,t="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return $s(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,r;let o=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>Se(s.doubleValue));return new zf(o)}convertGeoPoint(e){return new Bf(Se(e.latitude),Se(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=yl(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ps(e));default:return null}}convertTimestamp(e){let t=xn(e);return new Dt(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=ze.fromString(e);ke(W0(i));let r=new Qc(i.get(1),i.get(3)),o=new K(i.popFirst(5));return r.isEqual(t)||An(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var Bi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},gl=class extends pl{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Or(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(dw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Or=class extends gl{data(e={}){return super.data(e)}},Hf=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Bi(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Or(this._firestore,this._userDataWriter,i.key,i,new Bi(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new q(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>{let l=new Or(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Bi(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let l=new Or(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Bi(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,m=-1;return c.type!==0&&(h=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),m=s.indexOf(c.doc.key)),{type:CM(c.type),doc:l,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function CM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}var _l=class extends qf{constructor(e){super(),this.firestore=e}convertBytes(e){return new jf(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new qi(this.firestore,null,t)}};function op(n,...e){var t,i,r;n=qt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||E0(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(E0(e[s])){let g=e[s];e[s]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[s+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),e[s+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}let l,h,m;if(n instanceof qi)h=$c(n.firestore,zs),m=Xf(n._key.path),l={next:g=>{e[s]&&e[s](AM(h,n,g))},error:e[s+1],complete:e[s+2]};else{let g=$c(n,hl);h=$c(g.firestore,zs),m=g._query;let T=new _l(h);l={next:S=>{e[s]&&e[s](new Hf(h,T,g,S))},error:e[s+1],complete:e[s+2]},TM(n._query)}return function(T,S,O,k){let R=new Lf(k),W=new Pf(S,R,O);return T.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return tM(yield y0(T),W)})),()=>{R.eu(),T.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return nM(yield y0(T),W)}))}}(yM(h),m,c,l)}function AM(n,e,t){let i=t.docs.get(e._key),r=new _l(n);return new gl(n,r,e._key,i,new Bi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){Wr=r})(Yn),Ht(new pt("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),c=new zs(new _m(i.getProvider("auth-internal")),new wm(i.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new q(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(h.options.projectId,m)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Fe(qy,"4.7.6",e),Fe(qy,"4.7.6","esm2017")})();var Tl=function(){return Tl=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Tl.apply(this,arguments)};var RM={includeMetadataChanges:!1};function hw(n,e){return e===void 0&&(e=RM),new vt(function(t){var i=op(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function mw(n,e){var t;e===void 0&&(e={});var i=n.data(e);return!n.exists()||typeof i!="object"||i===null||!e.idField?i:Tl(Tl({},i),(t={},t[e.idField]=n.id,t))}function fw(n){return hw(n,{includeMetadataChanges:!0}).pipe(H(function(e){return e.docs}))}function pw(n,e){return e===void 0&&(e={}),fw(n).pipe(H(function(t){return t.map(function(i){return mw(i,e)})}))}var Hi=class{constructor(e){return e}},gw="firestore",sp=class{constructor(){return wr(gw)}};var ap=new U("angularfire2.firestore-instances");function DM(n,e){let t=fs(gw,n,e);return t&&new Hi(t)}function PM(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Hi(i)}}var MM={provide:sp,deps:[[new it,ap]]},kM={provide:Hi,useFactory:DM,deps:[[new it,ap],yn]};function _w(n,...e){return Fe("angularfire",Jn.full,"fst"),wt([kM,MM,{provide:ap,useFactory:PM(n),multi:!0,deps:[ee,Re,Xn,ki,[new it,Es],[new it,Ir],...e]}])}var vw=bn(pw,!0);var bw=bn(lw,!0,2);var yw=bn(uw,!0);var lp;try{lp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{lp=!1}var lt=(()=>{class n{_platformId=C(Vt);isBrowser=this._platformId?F_(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||lp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yr,ww=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function up(){if(Yr)return Yr;if(typeof document!="object"||!document)return Yr=new Set(ww),Yr;let n=document.createElement("input");return Yr=new Set(ww.filter(e=>(n.setAttribute("type",e),n.type===e))),Yr}var Gs;function NM(){if(Gs==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Gs=!0}))}finally{Gs=Gs||!1}return Gs}function si(n){return NM()?n:!!n.capture}var cp;function FM(){if(cp==null){let n=typeof document<"u"?document.head:null;cp=!!(n&&(n.createShadowRoot||n.attachShadow))}return cp}function Iw(n){if(FM()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Dn(n){return n.composedPath?n.composedPath()[0]:n.target}var Cl=new WeakMap,Jr=(()=>{class n{_appRef;_injector=C(Re);_environmentInjector=C(Ft);load(t){let i=this._appRef=this._appRef||this._injector.get(nr),r=Cl.get(i);r||(r={loaders:new Set,refs:[]},Cl.set(i,r),i.onDestroy(()=>{Cl.get(i)?.refs.forEach(o=>o.destroy()),Cl.delete(i)})),r.loaders.has(t)||(r.loaders.add(t),r.refs.push(x_(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xr(n){return n!=null&&`${n}`!="false"}function dp(n){return Array.isArray(n)?n:[n]}function un(n){return n instanceof De?n.nativeElement:n}var VM=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ew=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=oe({providers:[VM]})}return n})();var Tw=new Set,Gi,LM=(()=>{class n{_platform=C(lt);_nonce=C(Do,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):jM}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&UM(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UM(n,e){if(!Tw.has(n))try{Gi||(Gi=document.createElement("style"),e&&Gi.setAttribute("nonce",e),Gi.setAttribute("type","text/css"),document.head.appendChild(Gi)),Gi.sheet&&(Gi.sheet.insertRule(`@media ${n} {body{ }}`,0),Tw.add(n))}catch(t){console.error(t)}}function jM(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Aw=(()=>{class n{_mediaMatcher=C(LM);_zone=C(ee);_queries=new Map;_destroySubject=new Ce;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Cw(dp(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let r=Cw(dp(t)).map(s=>this._registerQuery(s).observable),o=Zi(r);return o=ba(o.pipe(Ot(1)),o.pipe(wa(1),Mu(0))),o.pipe(H(s=>{let c={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:h})=>{c.matches=c.matches||l,c.breakpoints[h]=l}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let i=this._mediaMatcher.matchMedia(t),o={observable:new vt(s=>{let c=l=>this._zone.run(()=>s.next(l));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(gi(i),H(({matches:s})=>({query:t,matches:s})),Nt(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Cw(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function fp(n){return n.buttons===0||n.detail===0}function pp(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var BM=new U("cdk-input-modality-detector-options"),zM={ignoreKeys:[18,17,224,91,16]},Rw=650,Zr=si({passive:!0,capture:!0}),$M=(()=>{class n{_platform=C(lt);modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new gt(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(i=>i===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Dn(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<Rw||(this._modality.next(fp(t)?"keyboard":"mouse"),this._mostRecentTarget=Dn(t))};_onTouchstart=t=>{if(pp(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Dn(t)};constructor(){let t=C(ee),i=C(be),r=C(BM,{optional:!0});this._options=F(F({},zM),r),this.modalityDetected=this._modality.pipe(wa(1)),this.modalityChanged=this.modalityDetected.pipe(Ou()),this._platform.isBrowser&&t.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Zr),i.addEventListener("mousedown",this._onMousedown,Zr),i.addEventListener("touchstart",this._onTouchstart,Zr)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Zr),document.removeEventListener("mousedown",this._onMousedown,Zr),document.removeEventListener("touchstart",this._onTouchstart,Zr))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xl=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(xl||{}),qM=new U("cdk-focus-monitor-default-options"),Al=si({passive:!0,capture:!0}),Dw=(()=>{class n{_ngZone=C(ee);_platform=C(lt);_inputModalityDetector=C($M);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=C(be,{optional:!0});_stopInputModalityDetector=new Ce;constructor(){let t=C(qM,{optional:!0});this._detectionMode=t?.detectionMode||xl.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let i=Dn(t);for(let r=i;r;r=r.parentElement)t.type==="focus"?this._onFocus(t,r):this._onBlur(t,r)};monitor(t,i=!1){let r=un(t);if(!this._platform.isBrowser||r.nodeType!==1)return z();let o=Iw(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;let c={checkChildren:i,subject:new Ce,rootNode:o};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(t){let i=un(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){let o=un(t),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([c,l])=>this._originChanged(c,i,l)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===xl.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused",i==="touch"),t.classList.toggle("cdk-keyboard-focused",i==="keyboard"),t.classList.toggle("cdk-mouse-focused",i==="mouse"),t.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&i,this._detectionMode===xl.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?Rw:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(t,i){let r=this._elementInfo.get(i),o=Dn(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Al),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Al)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Nt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Al),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Al),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){let i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Wi=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Wi||{}),xw="cdk-high-contrast-black-on-white",Sw="cdk-high-contrast-white-on-black",hp="cdk-high-contrast-active",Pw=(()=>{class n{_platform=C(lt);_hasCheckedHighContrastMode;_document=C(be);_breakpointSubscription;constructor(){this._breakpointSubscription=C(Aw).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Wi.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Wi.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Wi.BLACK_ON_WHITE}return Wi.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(hp,xw,Sw),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Wi.BLACK_ON_WHITE?t.add(hp,xw):i===Wi.WHITE_ON_BLACK&&t.add(hp,Sw)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var mp={},eo=(()=>{class n{_appId=C(Ro);getId(t){return this._appId!=="ng"&&(t+=this._appId),mp.hasOwnProperty(t)||(mp[t]=0),`${t}${mp[t]++}`}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var HM=new U("cdk-dir-doc",{providedIn:"root",factory:GM});function GM(){return C(be)}var WM=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function KM(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?WM.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Mw=(()=>{class n{value="ltr";change=new ot;constructor(){let t=C(HM,{optional:!0});if(t){let i=t.body?t.body.dir:null,r=t.documentElement?t.documentElement.dir:null;this.value=KM(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gp=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=oe({})}return n})();var Ae=(()=>{class n{constructor(){C(Pw)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=oe({imports:[gp,gp]})}return n})(),Rl=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(e,t,i,r,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var jw=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bw=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=se({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return n})();var Ip=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=oe({imports:[Ae,Ae]})}return n})(),Pt=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Pt||{}),bp=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Pt.HIDDEN;constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},kw=si({passive:!0,capture:!0}),yp=class{_events=new Map;addHandler(e,t,i,r){let o=this._events.get(t);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,kw)})}removeHandler(e,t,i){let r=this._events.get(e);if(!r)return;let o=r.get(t);o&&(o.delete(i),o.size===0&&r.delete(t),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,kw)))}_delegateEventHandler=e=>{let t=Dn(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}},Dl={enterDuration:225,exitDuration:150},QM=800,Ow=si({passive:!0,capture:!0}),Nw=["mousedown","touchstart"],Fw=["mouseup","mouseleave","touchend","touchcancel"],YM=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=se({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return n})(),wp=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new yp;constructor(e,t,i,r,o){this._target=e,this._ngZone=t,this._platform=r,r.isBrowser&&(this._containerElement=un(i)),o&&o.get(Jr).load(YM)}fadeInRipple(e,t,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=F(F({},Dl),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);let s=i.radius||JM(e,t,r),c=e-r.left,l=t-r.top,h=o.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=`${c-s}px`,m.style.top=`${l-s}px`,m.style.height=`${s*2}px`,m.style.width=`${s*2}px`,i.color!=null&&(m.style.backgroundColor=i.color),m.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(m);let g=window.getComputedStyle(m),T=g.transitionProperty,S=g.transitionDuration,O=T==="none"||S==="0s"||S==="0s, 0s"||r.width===0&&r.height===0,k=new bp(this,m,i,O);m.style.transform="scale3d(1, 1, 1)",k.state=Pt.FADING_IN,i.persistent||(this._mostRecentTransientRipple=k);let R=null;return!O&&(h||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let W=()=>{R&&(R.fallbackTimer=null),clearTimeout($),this._finishRippleTransition(k)},ne=()=>this._destroyRipple(k),$=setTimeout(ne,h+100);m.addEventListener("transitionend",W),m.addEventListener("transitioncancel",ne),R={onTransitionEnd:W,onTransitionCancel:ne,fallbackTimer:$}}),this._activeRipples.set(k,R),(O||!h)&&this._finishRippleTransition(k),k}fadeOutRipple(e){if(e.state===Pt.FADING_OUT||e.state===Pt.HIDDEN)return;let t=e.element,i=F(F({},Dl),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=Pt.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=un(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Nw.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Fw.forEach(t=>{this._triggerElement.addEventListener(t,this,Ow)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Pt.FADING_IN?this._startFadeOutTransition(e):e.state===Pt.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Pt.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Pt.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=fp(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+QM;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!pp(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===Pt.VISIBLE||e.config.terminateOnPointerUp&&e.state===Pt.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Nw.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(Fw.forEach(t=>e.removeEventListener(t,this,Ow)),this._pointerUpEventsRegistered=!1))}};function JM(n,e,t){let i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}var XM=new U("mat-ripple-global-options");var zw=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=oe({imports:[Ae,Ae]})}return n})();var Vw={capture:!0},Lw=["focus","mousedown","mouseenter","touchstart"],_p="mat-ripple-loader-uninitialized",vp="mat-ripple-loader-class-name",Uw="mat-ripple-loader-centered",Sl="mat-ripple-loader-disabled",$w=(()=>{class n{_document=C(be,{optional:!0});_animationMode=C(qn,{optional:!0});_globalRippleOptions=C(XM,{optional:!0});_platform=C(lt);_ngZone=C(ee);_injector=C(Re);_hosts=new Map;constructor(){this._ngZone.runOutsideAngular(()=>{for(let t of Lw)this._document?.addEventListener(t,this._onInteraction,Vw)})}ngOnDestroy(){let t=this._hosts.keys();for(let i of t)this.destroyRipple(i);for(let i of Lw)this._document?.removeEventListener(i,this._onInteraction,Vw)}configureRipple(t,i){t.setAttribute(_p,this._globalRippleOptions?.namespace??""),(i.className||!t.hasAttribute(vp))&&t.setAttribute(vp,i.className||""),i.centered&&t.setAttribute(Uw,""),i.disabled&&t.setAttribute(Sl,"")}setDisabled(t,i){let r=this._hosts.get(t);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(t))):i?t.setAttribute(Sl,""):t.removeAttribute(Sl)}_onInteraction=t=>{let i=Dn(t);if(i instanceof HTMLElement){let r=i.closest(`[${_p}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(vp)),t.append(i);let r=this._animationMode==="NoopAnimations",o=this._globalRippleOptions,s=r?0:o?.animation?.enterDuration??Dl.enterDuration,c=r?0:o?.animation?.exitDuration??Dl.exitDuration,l={rippleDisabled:r||o?.disabled||t.hasAttribute(Sl),rippleConfig:{centered:t.hasAttribute(Uw),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:c}}},h=new wp(l,this._ngZone,i,this._platform,this._injector),m=!l.rippleDisabled;m&&h.setupTriggerEvents(t),this._hosts.set(t,{target:l,renderer:h,hasSetUpEvents:m}),t.removeAttribute(_p)}destroyRipple(t){let i=this._hosts.get(t);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ZM=["*"];var ek=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],tk=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],nk=new U("MAT_CARD_CONFIG"),qw=(()=>{class n{appearance;constructor(){let t=C(nk,{optional:!0});this.appearance=t?.appearance||"raised"}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=se({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){i&2&&xe("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ZM,decls:1,vars:0,template:function(i,r){i&1&&(ft(),ye(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),Hw=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ie({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})();var Gw=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ie({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),Ww=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ie({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return n})(),Kw=(()=>{class n{align="start";static \u0275fac=function(i){return new(i||n)};static \u0275dir=ie({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){i&2&&xe("mat-mdc-card-actions-align-end",r.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"]})}return n})(),Qw=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=se({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:tk,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){i&1&&(ft(ek),ye(0),D(1,"div",0),ye(2,1),M(),ye(3,2))},encapsulation:2,changeDetection:0})}return n})();var Yw=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ie({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]})}return n})();var Pl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=oe({imports:[Ae,Ae]})}return n})();var Jw=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=oe({imports:[Ip,Ae,Ip,Ae]})}return n})();var rk=["*",[["mat-toolbar-row"]]],ok=["*","mat-toolbar-row"],sk=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ie({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),Xw=(()=>{class n{_elementRef=C(De);_platform=C(lt);_document=C(be);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=se({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(i&1&&Jt(o,sk,5),i&2){let s;Le(s=Ue())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){i&2&&(yi(r.color?"mat-"+r.color:""),xe("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:ok,decls:2,vars:0,template:function(i,r){i&1&&(ft(rk),ye(0),ye(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}"],encapsulation:2,changeDetection:0})}return n})();var Ml=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=oe({imports:[Ae,Ae]})}return n})();var ck=["*"],kl;function lk(){if(kl===void 0&&(kl=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(kl=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return kl}function Ws(n){return lk()?.createHTML(n)||n}function Zw(n){return Error(`Unable to find icon with the name "${n}"`)}function uk(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function eI(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function tI(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Pn=class{url;svgText;options;svgElement;constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}},dk=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new Pn(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){let s=this._sanitizer.sanitize(It.HTML,r);if(!s)throw tI(r);let c=Ws(s);return this._addSvgIconConfig(t,i,new Pn("",c,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Pn(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){let o=this._sanitizer.sanitize(It.HTML,i);if(!o)throw tI(i);let s=Ws(o);return this._addSvgIconSetConfig(t,new Pn("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let i=this._sanitizer.sanitize(It.RESOURCE_URL,t);if(!i)throw eI(t);let r=this._cachedIconsByUrl.get(i);return r?z(Ol(r)):this._loadSvgIconFromConfig(new Pn(t,null)).pipe(Ne(o=>this._cachedIconsByUrl.set(i,o)),H(o=>Ol(o)))}getNamedSvgIcon(t,i=""){let r=nI(i,t),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):pi(Zw(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?z(Ol(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(H(i=>Ol(i)))}_getSvgFromIconSetConfigs(t,i){let r=this._extractIconWithNameFromAnySet(t,i);if(r)return z(r);let o=i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Vn(c=>{let h=`Loading icon set URL: ${this._sanitizer.sanitize(It.RESOURCE_URL,s.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(h)),z(null)})));return ya(o).pipe(H(()=>{let s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw Zw(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let s=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(s,t,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Ne(i=>t.svgText=i),H(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?z(null):this._fetchIcon(t).pipe(Ne(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){let o=t.querySelector(`[id="${i}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,r);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),r);let c=this._svgElementFromString(Ws("<svg></svg>"));return c.appendChild(s),this._setSvgAttributes(c,r)}_svgElementFromString(t){let i=this._document.createElement("DIV");i.innerHTML=t;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){let i=this._svgElementFromString(Ws("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){let{name:s,value:c}=r[o];s!=="id"&&i.setAttribute(s,c)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){let{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw uk();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let s=this._sanitizer.sanitize(It.RESOURCE_URL,i);if(!s)throw eI(i);let c=this._inProgressUrlFetches.get(s);if(c)return c;let l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(H(h=>Ws(h)),Un(()=>this._inProgressUrlFetches.delete(s)),Xg());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(nI(t,i),r),this}_addSvgIconSetConfig(t,i){let r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){let i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](i,t);if(o)return hk(o)?new Pn(o.url,null,o.options):new Pn(o,null)}}static \u0275fac=function(i){return new(i||n)(Y(td,8),Y(ld),Y(be,8),Y(vi))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ol(n){return n.cloneNode(!0)}function nI(n,e){return n+":"+e}function hk(n){return!!(n.url&&n.options)}var mk=new U("MAT_ICON_DEFAULT_OPTIONS"),fk=new U("mat-icon-location",{providedIn:"root",factory:pk});function pk(){let n=C(be),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var iI=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],gk=iI.map(n=>`[${n}]`).join(", "),_k=/^url\(['"]?#(.*?)['"]?\)$/,rI=(()=>{class n{_elementRef=C(De);_iconRegistry=C(dk);_location=C(fk);_errorHandler=C(vi);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=fi.EMPTY;constructor(){let t=C(new ju("aria-hidden"),{optional:!0}),i=C(mk,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=t.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){let i=t.querySelectorAll(gk),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)iI.forEach(s=>{let c=i[o],l=c.getAttribute(s),h=l?l.match(_k):null;if(h){let m=r.get(c);m||(m=[],r.set(c,m)),m.push({name:s,value:h[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ot(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${i}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=se({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(st("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),yi(r.color?"mat-"+r.color:""),xe("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Xe],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[At],ngContentSelectors:ck,decls:1,vars:0,template:function(i,r){i&1&&(ft(),ye(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),oI=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=oe({imports:[Ae,Ae]})}return n})();var bk=["mat-button",""],yk=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],wk=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Ik="@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}";var Ek=["mat-icon-button",""],Tk=["*"];var Ck=new U("MAT_BUTTON_CONFIG");var Ak=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],sI=(()=>{class n{_elementRef=C(De);_ngZone=C(ee);_animationMode=C(qn,{optional:!0});_focusMonitor=C(Dw);_rippleLoader=C($w);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){C(Jr).load(Bw);let t=C(Ck,{optional:!0}),i=this._elementRef.nativeElement,r=i.classList;this.disabledInteractive=t?.disabledInteractive??!1,this.color=t?.color??null,this._rippleLoader?.configureRipple(i,{className:"mat-mdc-button-ripple"});for(let{attribute:o,mdcClasses:s}of Ak)i.hasAttribute(o)&&r.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ie({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Xe],disabled:[2,"disabled","disabled",Xe],ariaDisabled:[2,"aria-disabled","ariaDisabled",Xe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Xe]},features:[At]})}return n})();var to=(()=>{class n extends sI{static \u0275fac=(()=>{let t;return function(r){return(t||(t=_i(n)))(r||n)}})();static \u0275cmp=se({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(st("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),yi(r.color?"mat-"+r.color:""),xe("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Ut],attrs:bk,ngContentSelectors:wk,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(ft(yk),te(0,"span",0),ye(1),D(2,"span",1),ye(3,1),M(),ye(4,2),te(5,"span",2)(6,"span",3)),i&2&&xe("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width, 1px);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-focus-indicator::before,.mat-mdc-raised-button:focus .mat-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return n})();var aI=(()=>{class n extends sI{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=se({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(st("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),yi(r.color?"mat-"+r.color:""),xe("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Ut],attrs:Ek,ngContentSelectors:Tk,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(ft(),te(0,"span",0),ye(1),te(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',Ik],encapsulation:2,changeDetection:0})}return n})();var no=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=oe({imports:[Ae,zw,Ae]})}return n})();function xk(n,e){if(n&1){let t=ir();D(0,"mat-card",3),te(1,"img",4),D(2,"mat-card-header")(3,"mat-card-title")(4,"div",5)(5,"span",6),B(6),M(),D(7,"span",7),B(8),Ra(9,"date"),M()()(),D(10,"mat-card-subtitle")(11,"span",8),B(12),M()()(),D(13,"mat-card-content")(14,"p",9),B(15),M()(),D(16,"mat-card-actions")(17,"button",10),Me("click",function(){let r=Bn(t).$implicit;return zn(r.isExpanded=!r.isExpanded)}),B(18),M()()()}if(n&2){let t=e.$implicit;G(),wi("alt",t.title),Ee("src",t.image,bi),G(5),He(t.title),G(2),He(Da(9,7,t.date,"dd/MM/yy")),G(4),He(t.location),G(3),He(t.description),G(3),Gu(" ",t.isExpanded?"Show Less":"Learn More"," ")}}var io=class n{contributions=[{title:"Tree Plantation Drive",description:"We planted 500+ trees in our local park to combat deforestation and promote greenery.",image:"assets/tree-plantation.webp",date:"2025-03-10",location:"City Park, Springfield",isExpanded:!1},{title:"Health Checkup Camp",description:"Organized a free health camp for 200+ underprivileged individuals in our community.",image:"assets/health-camp.webp",date:"2025-03-10",location:"City Park, Springfield",isExpanded:!1},{title:"Food Distribution",description:"Distributed food packets to over 1000 people affected by floods in nearby villages.",image:"assets/food-distribution.webp",date:"2025-03-10",location:"City Park, Springfield",isExpanded:!1},{title:"Food Distribution",description:"Distributed food packets to over 1000 people affected by floods in nearby villages.",image:"assets/food-distribution.webp",date:"2025-03-10",location:"City Park, Springfield",isExpanded:!1},{title:"Health Checkup Camp",description:"Organized a free health camp for 200+ underprivileged individuals in our community.",image:"assets/health-camp.webp",date:"2025-03-10",location:"City Park, Springfield",isExpanded:!1}];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=se({type:n,selectors:[["app-contribution"]],decls:5,vars:1,consts:[[1,"contribution-page"],[1,"contribution-grid"],["class","contribution-card",4,"ngFor","ngForOf"],[1,"contribution-card"],["mat-card-image","",3,"src","alt"],[1,"title-row"],[1,"title"],[1,"date"],[1,"location"],[1,"description"],["mat-button","","color","primary",3,"click"]],template:function(t,i){t&1&&(D(0,"div",0)(1,"h1"),B(2,"Our Contributions"),M(),D(3,"div",1),Pe(4,xk,19,10,"mat-card",2),M()()),t&2&&(G(4),Ee("ngForOf",i.contributions))},dependencies:[Pl,qw,Kw,Gw,Qw,Yw,Ww,Hw,no,to,Ei,sr,Oa],styles:[".contribution-page[_ngcontent-%COMP%]{padding:2rem;background-color:#f9f9f9}.contribution-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#3f51b5;font-size:2rem;font-weight:700}.contribution-page[_ngcontent-%COMP%]   .contribution-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem}.contribution-page[_ngcontent-%COMP%]   .contribution-grid[_ngcontent-%COMP%]   .contribution-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%;transition:transform .3s ease,box-shadow .3s ease}.contribution-page[_ngcontent-%COMP%]   .contribution-grid[_ngcontent-%COMP%]   .contribution-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 10px #0003}.contribution-page[_ngcontent-%COMP%]   .contribution-grid[_ngcontent-%COMP%]   .contribution-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px;object-fit:cover;border-bottom:1px solid #ddd}.contribution-page[_ngcontent-%COMP%]   .contribution-grid[_ngcontent-%COMP%]   .contribution-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.contribution-page[_ngcontent-%COMP%]   .contribution-grid[_ngcontent-%COMP%]   .contribution-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.contribution-page[_ngcontent-%COMP%]   .contribution-grid[_ngcontent-%COMP%]   .contribution-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:#3f51b5;flex:1;margin-right:1rem}.contribution-page[_ngcontent-%COMP%]   .contribution-grid[_ngcontent-%COMP%]   .contribution-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:.9rem;color:#757575;white-space:nowrap}.contribution-page[_ngcontent-%COMP%]   .contribution-grid[_ngcontent-%COMP%]   .contribution-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin-top:.5rem}.contribution-page[_ngcontent-%COMP%]   .contribution-grid[_ngcontent-%COMP%]   .contribution-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.contribution-page[_ngcontent-%COMP%]   .contribution-grid[_ngcontent-%COMP%]   .contribution-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{margin-top:1rem}.contribution-page[_ngcontent-%COMP%]   .contribution-grid[_ngcontent-%COMP%]   .contribution-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.4;color:#444}.contribution-page[_ngcontent-%COMP%]   .contribution-grid[_ngcontent-%COMP%]   .contribution-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:auto}.contribution-page[_ngcontent-%COMP%]   .contribution-grid[_ngcontent-%COMP%]   .contribution-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9rem}"]})};function Sk(n,e){if(n&1&&(D(0,"div",39),te(1,"img",40),D(2,"div",41)(3,"h4"),B(4),M(),D(5,"p"),B(6),M()()()),n&2){let t=e.$implicit;G(),wi("alt",t.name),Ee("src",t.photo,bi),G(3),He(t.name),G(2),He(t.role)}}function Rk(n,e){if(n&1&&(D(0,"div",42),te(1,"img",43),D(2,"h3"),B(3),M(),D(4,"p"),B(5),M()()),n&2){let t=e.$implicit;G(),wi("alt",t.name),Ee("src",t.photo,bi),G(2),He(t.name),G(2),He(t.role)}}function Dk(n,e){if(n&1&&(D(0,"div",44)(1,"h4"),B(2),M(),D(3,"p"),B(4),M(),D(5,"small"),B(6),Ra(7,"date"),M()()),n&2){let t=e.$implicit;G(2),He(t.title),G(2),He(t.description),G(2),He(Da(7,3,t.date,"shortDate"))}}var Nl=class n{constructor(e,t){this.firestore=e;this.router=t;let i=bw(this.firestore,"tasks");this.tasks$=vw(i,{idField:"id"})}latestNews=[{title:"Community Cleanup Drive",description:"A successful cleanup drive organized by our group.",date:new Date("2025-01-20")},{title:"Health Camp Conducted",description:"Free health checkup camp was held for the community.",date:new Date("2025-01-15")},{title:"Tree Plantation Drive",description:"Planted 200+ trees in the city park.",date:new Date("2025-01-10")}];administrators=[{name:"Admin 1",role:"Group Leader",photo:"https://i.pravatar.cc/150?img=1"},{name:"Admin 2",role:"Co-Leader",photo:"https://i.pravatar.cc/150?img=2"},{name:"Admin 3",role:"Treasurer",photo:"https://i.pravatar.cc/150?img=3"},{name:"Admin 4",role:"Secretary",photo:"https://i.pravatar.cc/150?img=4"}];topMembers=[{name:"Alice Johnson",role:"Chairman/President",photo:"https://i.pravatar.cc/150?img=1"},{name:"Bob Smith",role:"Vice President",photo:"https://i.pravatar.cc/150?img=2"},{name:"Charlie Brown",role:"Finance Sectrary",photo:"https://i.pravatar.cc/150?img=3"},{name:"Diana Prince",role:"Sectrary",photo:"https://i.pravatar.cc/150?img=4"},{name:"Ethan Hunt",role:"Advisor",photo:"https://i.pravatar.cc/150?img=5"}];tasks$;navigateToTeam(){this.router.navigate(["/team"])}static \u0275fac=function(t){return new(t||n)(ge(Hi),ge(zt))};static \u0275cmp=se({type:n,selectors:[["app-home"]],decls:64,vars:3,consts:[[1,"home-page"],[1,"hero-section"],[1,"column","left-column"],["src","assets/Certificate.jpeg","alt","Community Image"],[1,"column","center-column"],[1,"hero-content"],["mat-raised-button","","color","primary"],[1,"column","right-column"],["src","assets/QR.jpeg","alt","Community Image"],[1,"mission-section"],[1,"mission-grid"],[1,"mission-image"],["src","assets/OurMissionShort.png","height","500px","alt","Mission Image"],[1,"message-column"],[1,"message-content"],["src","assets/president.png","alt","Admin Photo",1,"admin-photo"],[1,"admin-name"],[1,"admin-designation"],[1,"admin-message"],[1,"team-section"],[1,"team-description"],[1,"home-grid"],[1,"admin-list"],[1,"admin-grid"],["class","admin-card",4,"ngFor","ngForOf"],[1,"carousel-column"],[1,"carousel-container","animate-carousel"],["class","carousel-card",4,"ngFor","ngForOf"],[1,"view-more"],["mat-raised-button","","color","primary",3,"click"],[1,"news-column"],[1,"news-list"],["class","news-card",4,"ngFor","ngForOf"],[1,"tasks-section"],[1,"footer"],[1,"social-icons"],["mat-icon-button",""],[1,"fa-brands","fa-twitter"],[1,"fa-brands","fa-instagram"],[1,"admin-card"],[1,"admin-photo",3,"src","alt"],[1,"admin-info"],[1,"carousel-card"],[1,"carousel-photo",3,"src","alt"],[1,"news-card"]],template:function(t,i){t&1&&(D(0,"div",0)(1,"section",1)(2,"div",2),te(3,"img",3),M(),D(4,"div",4)(5,"div",5)(6,"h1"),B(7,"Welcome to the Brother's-Helping Group"),M(),D(8,"p"),B(9," Empowering communities through collaboration and collective efforts. Join us today and make a difference! "),M(),D(10,"button",6),B(11,"Become a Member"),M()()(),D(12,"div",7),te(13,"img",8),M()(),D(14,"section",9)(15,"div",10)(16,"div",11),te(17,"img",12),M(),D(18,"div",13)(19,"div",14),te(20,"img",15),D(21,"h3",16),B(22,"Sh Pankaj Kumar"),M(),D(23,"p",17),B(24,"Message From President"),M(),D(25,"p",18),B(26,' "Our mission is to help the poor and deprived in times of need. We dedicate ourselves to providing support during illness, assisting with the marriage of poor daughters, organizing blood donation camps, and distributing food and clothes to the underprivileged. Through compassion and collective effort, we aim to create a positive impact in the lives of those who need it most." '),M()()()()(),D(27,"section",19)(28,"h2"),B(29,"Meet Our Amazing Team"),M(),D(30,"p",20),B(31," Our team is dedicated to making a difference by serving society with passion and commitment. Each member contributes their skills and efforts to bring about meaningful change in our community. "),M(),D(32,"div",21)(33,"div",22)(34,"h3"),B(35,"Administrators"),M(),D(36,"div",23),Pe(37,Sk,7,4,"div",24),M()(),D(38,"div",25)(39,"h3"),B(40,"Our Top Team Members"),M(),D(41,"div",26),Pe(42,Rk,6,4,"div",27),M(),D(43,"div",28)(44,"button",29),Me("click",function(){return i.navigateToTeam()}),B(45,"View More"),M()()(),D(46,"div",30)(47,"h3"),B(48,"Latest News"),M(),D(49,"div",31),Pe(50,Dk,8,6,"div",32),M()()()(),D(51,"section",33),te(52,"app-contribution"),M(),D(53,"footer",34)(54,"p"),B(55,"\xA9 2025 Self-Help Group. All Rights Reserved."),M(),D(56,"div",35)(57,"button",36)(58,"mat-icon"),B(59,"facebook"),M()(),D(60,"button",36),te(61,"mat-icon",37),M(),D(62,"button",36),te(63,"mat-icon",38),M()()()()),t&2&&(G(37),Ee("ngForOf",i.administrators),G(5),Ee("ngForOf",i.topMembers),G(8),Ee("ngForOf",i.latestNews))},dependencies:[Ei,sr,Oa,Pl,Jw,Ml,oI,rI,no,to,aI,io],styles:[".home-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;background-color:#f9f9f9;font-family:Roboto,sans-serif;margin-top:10px}.home-page[_ngcontent-%COMP%]   .mission-section[_ngcontent-%COMP%]   .mission-grid[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:stretch;width:100%}.home-page[_ngcontent-%COMP%]   .mission-section[_ngcontent-%COMP%]   .mission-grid[_ngcontent-%COMP%]   .mission-image[_ngcontent-%COMP%]{width:60%;padding:10px}.home-page[_ngcontent-%COMP%]   .mission-section[_ngcontent-%COMP%]   .mission-grid[_ngcontent-%COMP%]   .mission-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.home-page[_ngcontent-%COMP%]   .mission-section[_ngcontent-%COMP%]   .mission-grid[_ngcontent-%COMP%]   .message-column[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.home-page[_ngcontent-%COMP%]   .mission-section[_ngcontent-%COMP%]   .mission-grid[_ngcontent-%COMP%]   .message-column[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{text-align:center;max-width:600px;margin:0 auto}.home-page[_ngcontent-%COMP%]   .mission-section[_ngcontent-%COMP%]   .mission-grid[_ngcontent-%COMP%]   .message-column[_ngcontent-%COMP%]   .admin-photo[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;margin-bottom:15px}.home-page[_ngcontent-%COMP%]   .mission-section[_ngcontent-%COMP%]   .mission-grid[_ngcontent-%COMP%]   .message-column[_ngcontent-%COMP%]   .admin-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:5px}.home-page[_ngcontent-%COMP%]   .mission-section[_ngcontent-%COMP%]   .mission-grid[_ngcontent-%COMP%]   .message-column[_ngcontent-%COMP%]   .admin-designation[_ngcontent-%COMP%]{font-size:1.2rem;color:gray;margin-bottom:20px}.home-page[_ngcontent-%COMP%]   .mission-section[_ngcontent-%COMP%]   .mission-grid[_ngcontent-%COMP%]   .message-column[_ngcontent-%COMP%]   .admin-message[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;color:#333}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]{padding:20px}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#3f51b5;font-size:2rem;font-weight:700}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:20px}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%], .home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .carousel-column[_ngcontent-%COMP%], .home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .news-column[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px;border-radius:8px;box-shadow:0 2px 6px #0000001a}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .carousel-column[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .news-column[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   .admin-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:10px}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   .admin-grid[_ngcontent-%COMP%]   .admin-card[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;border-radius:6px;background:#fff;box-shadow:0 1px 4px #0000001a}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   .admin-grid[_ngcontent-%COMP%]   .admin-card[_ngcontent-%COMP%]   .admin-photo[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:30%;object-fit:cover;margin-right:10px}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   .admin-grid[_ngcontent-%COMP%]   .admin-card[_ngcontent-%COMP%]   .admin-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:700}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   .admin-grid[_ngcontent-%COMP%]   .admin-card[_ngcontent-%COMP%]   .admin-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#666}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .view-more[_ngcontent-%COMP%]{align-items:center;align-self:center}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]{display:flex;overflow:hidden;animation:scroll 10s linear infinite}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]{flex:0 0 150px;margin-right:10px;text-align:center}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;margin:5px 0}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .news-column[_ngcontent-%COMP%]{flex:1;background:#f9f9f9;padding:15px;border-radius:8px;box-shadow:0 2px 6px #0000001a}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .news-column[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px;font-size:1.5rem;color:#333}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .news-column[_ngcontent-%COMP%]   .news-container[_ngcontent-%COMP%]{height:300px;overflow:hidden;position:relative}.home-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .home-grid[_ngcontent-%COMP%]   .news-column[_ngcontent-%COMP%]   .news-container[_ngcontent-%COMP%]   .news-item[_ngcontent-%COMP%]{padding:10px;background:#fff;margin-bottom:10px;border-radius:6px;box-shadow:0 1px 4px #0000001a;animation:_ngcontent-%COMP%_scroll-news 10s linear infinite}@keyframes _ngcontent-%COMP%_scroll-news{0%{transform:translateY(100%)}to{transform:translateY(-100%)}}.home-page[_ngcontent-%COMP%]   .hero-section[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:center;justify-content:space-between;padding:2rem;background:linear-gradient(135deg,#3f51b5,#5c6bc0);color:#fff}.home-page[_ngcontent-%COMP%]   .hero-section[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.home-page[_ngcontent-%COMP%]   .hero-section[_ngcontent-%COMP%]   .column.left-column[_ngcontent-%COMP%]{width:30%}.home-page[_ngcontent-%COMP%]   .hero-section[_ngcontent-%COMP%]   .column.left-column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:8px;box-shadow:0 4px 10px #0003}.home-page[_ngcontent-%COMP%]   .hero-section[_ngcontent-%COMP%]   .column.center-column[_ngcontent-%COMP%]{width:40%;text-align:center}.home-page[_ngcontent-%COMP%]   .hero-section[_ngcontent-%COMP%]   .column.center-column[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:10px}.home-page[_ngcontent-%COMP%]   .hero-section[_ngcontent-%COMP%]   .column.center-column[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:15px;line-height:1.5}.home-page[_ngcontent-%COMP%]   .hero-section[_ngcontent-%COMP%]   .column.center-column[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:8px 16px;background:#ff4081;color:#fff}.home-page[_ngcontent-%COMP%]   .hero-section[_ngcontent-%COMP%]   .column.right-column[_ngcontent-%COMP%]{width:30%}.home-page[_ngcontent-%COMP%]   .hero-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:40%;border-radius:50px;box-shadow:0 4px 10px #0003}.home-page[_ngcontent-%COMP%]   .tasks-section[_ngcontent-%COMP%]{padding:2rem;background-color:#fff;border-radius:10px;box-shadow:0 2px 5px #0000001a}.home-page[_ngcontent-%COMP%]   .tasks-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#3f51b5}.home-page[_ngcontent-%COMP%]   .tasks-section[_ngcontent-%COMP%]   .tasks-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem}.home-page[_ngcontent-%COMP%]   .tasks-section[_ngcontent-%COMP%]   .tasks-grid[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease}.home-page[_ngcontent-%COMP%]   .tasks-section[_ngcontent-%COMP%]   .tasks-grid[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 10px #0003}.home-page[_ngcontent-%COMP%]   .tasks-section[_ngcontent-%COMP%]   .tasks-grid[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background-color:#f5f5f5;border-bottom:1px solid #ddd}.home-page[_ngcontent-%COMP%]   .tasks-section[_ngcontent-%COMP%]   .tasks-grid[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]   mat-card-image[_ngcontent-%COMP%]{max-height:150px;object-fit:cover}.home-page[_ngcontent-%COMP%]   .tasks-section[_ngcontent-%COMP%]   .tasks-grid[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.home-page[_ngcontent-%COMP%]   .tasks-section[_ngcontent-%COMP%]   .tasks-grid[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#3f51b5}.home-page[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{text-align:center;padding:1rem;background-color:#3f51b5;color:#fff}.home-page[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-top:.5rem}.home-page[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem}"]})};function Pk(n,e){if(n&1&&(D(0,"div",8),te(1,"img",9),D(2,"div",10)(3,"h3",11),B(4),M(),D(5,"p",12),B(6),M()()()),n&2){let t=e.$implicit;G(),wi("alt",t.name),Ee("src",t.photo,bi),G(3),He(t.name),G(2),He(t.role)}}var Fl=class n{Math=Math;teamMembers=Array.from({length:50},(e,t)=>({name:`Member ${t+1}`,role:`Role ${t%10+1}`,photo:`https://i.pravatar.cc/150?img=${t+1}`}));filteredMembers=[...this.teamMembers];currentPage=1;pageSize=20;get paginatedMembers(){let e=(this.currentPage-1)*this.pageSize;return this.filteredMembers.slice(e,e+this.pageSize)}search(e){let t=e.toLowerCase();this.filteredMembers=this.teamMembers.filter(i=>i.name.toLowerCase().includes(t)),this.currentPage=1}nextPage(){this.currentPage*this.pageSize<this.filteredMembers.length&&this.currentPage++}previousPage(){this.currentPage>1&&this.currentPage--}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=se({type:n,selectors:[["app-team"]],decls:15,vars:5,consts:[["searchInput",""],[1,"team-page"],[1,"search-bar"],["type","text","placeholder","Search team members by name...",3,"input"],[1,"team-grid"],["class","team-card",4,"ngFor","ngForOf"],[1,"pagination-controls"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"team-card"],[1,"team-photo",3,"src","alt"],[1,"team-info"],[1,"team-name"],[1,"team-role"]],template:function(t,i){if(t&1){let r=ir();D(0,"div",1)(1,"h1"),B(2,"Our Team"),M(),D(3,"div",2)(4,"input",3,0),Me("input",function(){Bn(r);let s=Oo(5);return zn(i.search(s.value))}),M()(),D(6,"div",4),Pe(7,Pk,7,4,"div",5),M(),D(8,"div",6)(9,"button",7),Me("click",function(){return Bn(r),zn(i.previousPage())}),B(10," Previous "),M(),D(11,"span"),B(12),M(),D(13,"button",7),Me("click",function(){return Bn(r),zn(i.nextPage())}),B(14," Next "),M()()()}t&2&&(G(7),Ee("ngForOf",i.paginatedMembers),G(2),Ee("disabled",i.currentPage===1),G(3),E_("Page ",i.currentPage," of ",i.Math.ceil(i.filteredMembers.length/i.pageSize),""),G(),Ee("disabled",i.currentPage*i.pageSize>=i.filteredMembers.length))},dependencies:[Ei,sr],styles:[".team-page[_ngcontent-%COMP%]{padding:2rem;background-color:#f9f9f9}.team-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#3f51b5;font-size:2rem;font-weight:700}.team-page[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1.5rem}.team-page[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:.5rem;font-size:1rem;border:1px solid #ccc;border-radius:4px}.team-page[_ngcontent-%COMP%]   .team-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:1.5rem;justify-items:center}.team-page[_ngcontent-%COMP%]   .team-grid[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background:#fff;padding:1rem;border-radius:8px;box-shadow:0 4px 6px #0000001a;transition:transform .2s ease,box-shadow .2s ease}.team-page[_ngcontent-%COMP%]   .team-grid[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 12px #00000026}.team-page[_ngcontent-%COMP%]   .team-grid[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .team-photo[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;object-fit:cover;margin-bottom:.5rem;border:2px solid #3f51b5}.team-page[_ngcontent-%COMP%]   .team-grid[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .team-info[_ngcontent-%COMP%]   .team-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#3f51b5}.team-page[_ngcontent-%COMP%]   .team-grid[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .team-info[_ngcontent-%COMP%]   .team-role[_ngcontent-%COMP%]{font-size:.85rem;color:#666;margin-top:.3rem}.team-page[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:1rem;gap:1rem}.team-page[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.9rem}.team-page[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;color:#666}"]})};var pI=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(ge(Lt),ge(De))};static \u0275dir=ie({type:n})}return n})(),Mk=(()=>{class n extends pI{static \u0275fac=(()=>{let t;return function(r){return(t||(t=_i(n)))(r||n)}})();static \u0275dir=ie({type:n,features:[Ut]})}return n})(),gI=new U("");var kk={provide:gI,useExisting:So(()=>Hl),multi:!0};function Ok(){let n=or()?or().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Nk=new U(""),Hl=(()=>{class n extends pI{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Ok())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(ge(Lt),ge(De),ge(Nk,8))};static \u0275dir=ie({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&Me("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[xt([kk]),Ut]})}return n})();function ai(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function _I(n){return n!=null&&typeof n.length=="number"}var Dp=new U(""),Pp=new U(""),Fk=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Mt=class{static min(e){return Vk(e)}static max(e){return Lk(e)}static required(e){return Uk(e)}static requiredTrue(e){return jk(e)}static email(e){return Bk(e)}static minLength(e){return zk(e)}static maxLength(e){return $k(e)}static pattern(e){return qk(e)}static nullValidator(e){return vI(e)}static compose(e){return TI(e)}static composeAsync(e){return CI(e)}};function Vk(n){return e=>{if(ai(e.value)||ai(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Lk(n){return e=>{if(ai(e.value)||ai(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Uk(n){return ai(n.value)?{required:!0}:null}function jk(n){return n.value===!0?null:{required:!0}}function Bk(n){return ai(n.value)||Fk.test(n.value)?null:{email:!0}}function zk(n){return e=>ai(e.value)||!_I(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function $k(n){return e=>_I(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function qk(n){if(!n)return vI;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(ai(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function vI(n){return null}function bI(n){return n!=null}function yI(n){return xa(n)?qe(n):n}function wI(n){let e={};return n.forEach(t=>{e=t!=null?F(F({},e),t):e}),Object.keys(e).length===0?null:e}function II(n,e){return e.map(t=>t(n))}function Hk(n){return!n.validate}function EI(n){return n.map(e=>Hk(e)?e:t=>e.validate(t))}function TI(n){if(!n)return null;let e=n.filter(bI);return e.length==0?null:function(t){return wI(II(t,e))}}function Mp(n){return n!=null?TI(EI(n)):null}function CI(n){if(!n)return null;let e=n.filter(bI);return e.length==0?null:function(t){let i=II(t,e).map(yI);return ya(i).pipe(H(wI))}}function kp(n){return n!=null?CI(EI(n)):null}function cI(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function AI(n){return n._rawValidators}function xI(n){return n._rawAsyncValidators}function Tp(n){return n?Array.isArray(n)?n:[n]:[]}function Ul(n,e){return Array.isArray(n)?n.includes(e):n===e}function lI(n,e){let t=Tp(e);return Tp(n).forEach(r=>{Ul(t,r)||t.push(r)}),t}function uI(n,e){return Tp(e).filter(t=>!Ul(n,t))}var jl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Mp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=kp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ci=class extends jl{name;get formDirective(){return null}get path(){return null}},Ki=class extends jl{_parent=null;name=null;valueAccessor=null},Bl=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Gk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Kj=pe(F({},Gk),{"[class.ng-submitted]":"isSubmitted"}),SI=(()=>{class n extends Bl{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(ge(Ki,2))};static \u0275dir=ie({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&xe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Ut]})}return n})(),RI=(()=>{class n extends Bl{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(ge(ci,10))};static \u0275dir=ie({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&xe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Ut]})}return n})();var Qs="VALID",Vl="INVALID",ro="PENDING",Ys="DISABLED",li=class{},zl=class extends li{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Xs=class extends li{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Zs=class extends li{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},oo=class extends li{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Cp=class extends li{source;constructor(e){super(),this.source=e}},Ap=class extends li{source;constructor(e){super(),this.source=e}};function Op(n){return(Gl(n)?n.validators:n)||null}function Wk(n){return Array.isArray(n)?Mp(n):n||null}function Np(n,e){return(Gl(e)?e.asyncValidators:n)||null}function Kk(n){return Array.isArray(n)?kp(n):n||null}function Gl(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function DI(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new fe(1e3,"");if(!i[t])throw new fe(1001,"")}function PI(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new fe(1002,"")})}var so=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Zt(this.statusReactive)}set status(e){Zt(()=>this.statusReactive.set(e))}_status=Xt(()=>this.statusReactive());statusReactive=$n(void 0);get valid(){return this.status===Qs}get invalid(){return this.status===Vl}get pending(){return this.status==ro}get disabled(){return this.status===Ys}get enabled(){return this.status!==Ys}errors;get pristine(){return Zt(this.pristineReactive)}set pristine(e){Zt(()=>this.pristineReactive.set(e))}_pristine=Xt(()=>this.pristineReactive());pristineReactive=$n(!0);get dirty(){return!this.pristine}get touched(){return Zt(this.touchedReactive)}set touched(e){Zt(()=>this.touchedReactive.set(e))}_touched=Xt(()=>this.touchedReactive());touchedReactive=$n(!1);get untouched(){return!this.touched}_events=new Ce;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(lI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(lI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uI(e,this._rawAsyncValidators))}hasValidator(e){return Ul(this._rawValidators,e)}hasAsyncValidator(e){return Ul(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pe(F({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Zs(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Zs(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pe(F({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Xs(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Xs(!0,i))}markAsPending(e={}){this.status=ro;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new oo(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pe(F({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ys,this.errors=null,this._forEachChild(r=>{r.disable(pe(F({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zl(this.value,i)),this._events.next(new oo(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Qs,this._forEachChild(i=>{i.enable(pe(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qs||this.status===ro)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zl(this.value,t)),this._events.next(new oo(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pe(F({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ys:Qs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ro,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=yI(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new oo(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new ot,this.statusChanges=new ot}_calculateStatus(){return this._allControlsDisabled()?Ys:this.errors?Vl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ro)?ro:this._anyControlsHaveStatus(Vl)?Vl:Qs}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Xs(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Zs(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Wk(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Kk(this._rawAsyncValidators)}},ao=class extends so{constructor(e,t,i){super(Op(t),Np(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){PI(this,!0,e),Object.keys(e).forEach(i=>{DI(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var xp=class extends ao{};var Fp=new U("",{providedIn:"root",factory:()=>Vp}),Vp="always";function Qk(n,e){return[...e.path,n]}function Sp(n,e,t=Vp){Lp(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Jk(n,e),Zk(n,e),Xk(n,e),Yk(n,e)}function dI(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ql(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function $l(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Yk(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Lp(n,e){let t=AI(n);e.validator!==null?n.setValidators(cI(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=xI(n);e.asyncValidator!==null?n.setAsyncValidators(cI(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();$l(e._rawValidators,r),$l(e._rawAsyncValidators,r)}function ql(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=AI(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=xI(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return $l(e._rawValidators,i),$l(e._rawAsyncValidators,i),t}function Jk(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&MI(n,e)})}function Xk(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&MI(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function MI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Zk(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function kI(n,e){n==null,Lp(n,e)}function eO(n,e){return ql(n,e)}function tO(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function nO(n){return Object.getPrototypeOf(n.constructor)===Mk}function OI(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function iO(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Hl?t=o:nO(o)?i=o:r=o}),r||i||t||null}function rO(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var oO={provide:ci,useExisting:So(()=>Up)},Js=Promise.resolve(),Up=(()=>{class n extends ci{callSetDisabledState;get submitted(){return Zt(this.submittedReactive)}_submitted=Xt(()=>this.submittedReactive());submittedReactive=$n(!1);_directives=new Set;form;ngSubmit=new ot;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new ao({},Mp(t),kp(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Js.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Sp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Js.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Js.then(()=>{let i=this._findContainer(t.path),r=new ao({});kI(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Js.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Js.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),OI(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||n)(ge(Dp,10),ge(Pp,10),ge(Fp,8))};static \u0275dir=ie({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&Me("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[xt([oO]),Ut]})}return n})();function hI(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function mI(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ll=class extends so{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(Op(t),Np(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(mI(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){mI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var sO=n=>n instanceof Ll;var NI=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ie({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var FI=new U("");var aO={provide:ci,useExisting:So(()=>ea)},ea=(()=>{class n extends ci{callSetDisabledState;get submitted(){return Zt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Xt(()=>this._submittedReactive());_submittedReactive=$n(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ot;constructor(t,i,r){super(),this.callSetDisabledState=r,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ql(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return Sp(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){dI(t.control||null,t,!1),rO(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),OI(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Cp(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Ap(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(dI(i||null,t),sO(r)&&(Sp(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);kI(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&eO(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lp(this.form,this),this._oldForm&&ql(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(i){return new(i||n)(ge(Dp,10),ge(Pp,10),ge(Fp,8))};static \u0275dir=ie({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&Me("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[xt([aO]),Ut,fn]})}return n})();var cO={provide:Ki,useExisting:So(()=>jp)},jp=(()=>{class n extends Ki{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new ot;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=iO(this,o)}ngOnChanges(t){this._added||this._setUpControl(),tO(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Qk(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(ge(ci,13),ge(Dp,10),ge(Pp,10),ge(gI,10),ge(FI,8))};static \u0275dir=ie({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[xt([cO]),Ut,fn]})}return n})();var lO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=oe({})}return n})(),Rp=class extends so{constructor(e,t,i){super(Op(t),Np(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){PI(this,!1,e),e.forEach((i,r)=>{DI(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function fI(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var VI=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return fI(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new ao(r,o)}record(t,i=null){let r=this._reduceControls(t);return new xp(r,i)}control(t,i,r){let o={};return this.useNonNullable?(fI(i)?o=i:(o.validators=i,o.asyncValidators=r),new Ll(t,pe(F({},o),{nonNullable:!0}))):new Ll(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new Rp(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof Ll)return t;if(t instanceof so)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var LI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:FI,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Fp,useValue:t.callSetDisabledState??Vp}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=oe({imports:[lO]})}return n})();var Bp=class{_box;_destroyed=new Ce;_resizeSubject=new Ce;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new vt(t=>{let i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(ht(t=>t.some(i=>i.target===e)),Zg({bufferSize:1,refCount:!0}),Nt(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},UI=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=C(ee);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Bp(r)),this._observers.get(r).observe(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dO=["notch"],hO=["matFormFieldNotchedOutline",""],mO=["*"],fO=["textField"],pO=["iconPrefixContainer"],gO=["textPrefixContainer"],_O=["iconSuffixContainer"],vO=["textSuffixContainer"],bO=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],yO=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function wO(n,e){n&1&&te(0,"span",21)}function IO(n,e){if(n&1&&(D(0,"label",20),ye(1,1),Pe(2,wO,1,0,"span",21),M()),n&2){let t=Yt(2);Ee("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),st("for",t._control.disableAutomaticLabeling?null:t._control.id),G(2),mt(!t.hideRequiredMarker&&t._control.required?2:-1)}}function EO(n,e){if(n&1&&Pe(0,IO,3,5,"label",20),n&2){let t=Yt();mt(t._hasFloatingLabel()?0:-1)}}function TO(n,e){n&1&&te(0,"div",7)}function CO(n,e){}function AO(n,e){if(n&1&&Pe(0,CO,0,0,"ng-template",13),n&2){Yt(2);let t=Oo(1);Ee("ngTemplateOutlet",t)}}function xO(n,e){if(n&1&&(D(0,"div",9),Pe(1,AO,1,1,null,13),M()),n&2){let t=Yt();Ee("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),G(),mt(t._forceDisplayInfixLabel()?-1:1)}}function SO(n,e){n&1&&(D(0,"div",10,2),ye(2,2),M())}function RO(n,e){n&1&&(D(0,"div",11,3),ye(2,3),M())}function DO(n,e){}function PO(n,e){if(n&1&&Pe(0,DO,0,0,"ng-template",13),n&2){Yt();let t=Oo(1);Ee("ngTemplateOutlet",t)}}function MO(n,e){n&1&&(D(0,"div",14,4),ye(2,4),M())}function kO(n,e){n&1&&(D(0,"div",15,5),ye(2,5),M())}function OO(n,e){n&1&&te(0,"div",16)}function NO(n,e){if(n&1&&(D(0,"div",18),ye(1,6),M()),n&2){let t=Yt();Ee("@transitionMessages",t._subscriptAnimationState)}}function FO(n,e){if(n&1&&(D(0,"mat-hint",22),B(1),M()),n&2){let t=Yt(2);Ee("id",t._hintLabelId),G(),He(t.hintLabel)}}function VO(n,e){if(n&1&&(D(0,"div",19),Pe(1,FO,2,2,"mat-hint",22),ye(2,7),te(3,"div",23),ye(4,8),M()),n&2){let t=Yt();Ee("@transitionMessages",t._subscriptAnimationState),G(),mt(t.hintLabel?1:-1)}}var Kl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ie({type:n,selectors:[["mat-label"]]})}return n})(),LO=new U("MatError");var jI=(()=>{class n{align="start";id=C(eo).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||n)};static \u0275dir=ie({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(ko("id",r.id),st("align",null),xe("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),UO=new U("MatPrefix");var jO=new U("MatSuffix");var WI=new U("FloatingLabelParent"),BI=(()=>{class n{_elementRef=C(De);get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=C(UI);_ngZone=C(ee);_parent=C(WI);_resizeSubscription=new fi;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return BO(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ie({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&xe("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function BO(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let i=t.scrollWidth;return t.remove(),i}var zI="mdc-line-ripple--active",Wl="mdc-line-ripple--deactivating",$I=(()=>{class n{_elementRef=C(De);_cleanupTransitionEnd;constructor(){let t=C(ee),i=C(Lt);t.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(Wl),t.add(zI)}deactivate(){this._elementRef.nativeElement.classList.add(Wl)}_handleTransitionEnd=t=>{let i=this._elementRef.nativeElement.classList,r=i.contains(Wl);t.propertyName==="opacity"&&r&&i.remove(zI,Wl)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ie({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),qI=(()=>{class n{_elementRef=C(De);_ngZone=C(ee);open=!1;_notch;constructor(){}ngAfterViewInit(){let t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){!this.open||!t?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=se({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&jt(dO,5),i&2){let o;Le(o=Ue())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&xe("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:hO,ngContentSelectors:mO,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(ft(),te(0,"div",1),D(1,"div",2,0),ye(3),M(),te(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),zO={transitionMessages:L_("transitionMessages",[j_("enter",Yu({opacity:1,transform:"translateY(0%)"})),B_("void => enter",[Yu({opacity:0,transform:"translateY(-5px)"}),U_("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},zp=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(i){return new(i||n)};static \u0275dir=ie({type:n})}return n})();var $p=new U("MatFormField"),$O=new U("MAT_FORM_FIELD_DEFAULT_OPTIONS"),HI="fill",qO="auto",GI="fixed",HO="translateY(-50%)",KI=(()=>{class n{_elementRef=C(De);_changeDetectorRef=C(Ii);_dir=C(Mw);_platform=C(lt);_idGenerator=C(eo);_defaults=C($O,{optional:!0});_animationMode=C(qn,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=b_(Kl);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Xr(t)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||qO}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(t){let i=this._appearance,r=t||this._defaults?.appearance||HI;this._appearance=r,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=HI;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||GI}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||GI}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_subscriptAnimationState="";get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}_destroyed=new Ce;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_stateChanges;_valueChanges;_describedByChanges;_injector=C(Re);constructor(){let t=this._defaults;t&&(t.appearance&&(this.appearance=t.appearance),this._hideRequiredMarker=!!t?.hideRequiredMarker,t.color&&(this.color=t.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Xt(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let i=this._control,r="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(r+t.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(gi([void 0,void 0]),H(()=>[i.errorState,i.userAriaDescribedBy]),Fu(),ht(([[o,s],[c,l]])=>o!==c||s!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(Nt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Yg(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),l_(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Nt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Xt(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let i=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,r=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let t=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){t.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,c=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0,h=o?.getBoundingClientRect().width??0,m=s?.getBoundingClientRect().width??0,g=this._dir.value==="rtl"?"-1":"1",T=`${c+l}px`,O=`calc(${g} * (${T} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;t.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${HO} translateX(${O})
    )`;let k=c+l+h+m;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${k}px)`)}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=se({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(i&1&&(w_(o,r._labelChild,Kl,5),Jt(o,zp,5),Jt(o,UO,5),Jt(o,jO,5),Jt(o,LO,5),Jt(o,jI,5)),i&2){I_();let s;Le(s=Ue())&&(r._formFieldControl=s.first),Le(s=Ue())&&(r._prefixChildren=s),Le(s=Ue())&&(r._suffixChildren=s),Le(s=Ue())&&(r._errorChildren=s),Le(s=Ue())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(i&1&&(jt(fO,5),jt(pO,5),jt(gO,5),jt(_O,5),jt(vO,5),jt(BI,5),jt(qI,5),jt($I,5)),i&2){let o;Le(o=Ue())&&(r._textField=o.first),Le(o=Ue())&&(r._iconPrefixContainer=o.first),Le(o=Ue())&&(r._textPrefixContainer=o.first),Le(o=Ue())&&(r._iconSuffixContainer=o.first),Le(o=Ue())&&(r._textSuffixContainer=o.first),Le(o=Ue())&&(r._floatingLabel=o.first),Le(o=Ue())&&(r._notchedOutline=o.first),Le(o=Ue())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){i&2&&xe("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations",r._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[xt([{provide:$p,useExisting:n},{provide:WI,useExisting:n}])],ngContentSelectors:yO,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let o=ir();ft(bO),Pe(0,EO,1,1,"ng-template",null,0,T_),D(2,"div",6,1),Me("click",function(c){return Bn(o),zn(r._control.onContainerClick(c))}),Pe(4,TO,1,0,"div",7),D(5,"div",8),Pe(6,xO,2,2,"div",9)(7,SO,3,0,"div",10)(8,RO,3,0,"div",11),D(9,"div",12),Pe(10,PO,1,1,null,13),ye(11),M(),Pe(12,MO,3,0,"div",14)(13,kO,3,0,"div",15),M(),Pe(14,OO,1,0,"div",16),M(),D(15,"div",17),Pe(16,NO,2,1,"div",18)(17,VO,5,2,"div",19),M()}if(i&2){let o;G(2),xe("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),G(2),mt(!r._hasOutline()&&!r._control.disabled?4:-1),G(2),mt(r._hasOutline()?6:-1),G(),mt(r._hasIconPrefix?7:-1),G(),mt(r._hasTextPrefix?8:-1),G(2),mt(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),G(2),mt(r._hasTextSuffix?12:-1),G(),mt(r._hasIconSuffix?13:-1),G(),mt(r._hasOutline()?-1:14),G(),xe("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic"),G(),mt((o=r._getDisplayedMessages())==="error"?16:o==="hint"?17:-1)}},dependencies:[BI,qI,O_,$I,jI],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[zO.transitionMessages]},changeDetection:0})}return n})(),ta=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=oe({imports:[Ae,Ew,Ae]})}return n})();var WO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=se({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}"],encapsulation:2,changeDetection:0})}return n})(),QI=si({passive:!0}),YI=(()=>{class n{_platform=C(lt);_ngZone=C(ee);_styleLoader=C(Jr);_monitoredElements=new Map;constructor(){}monitor(t){if(!this._platform.isBrowser)return Qt;this._styleLoader.load(WO);let i=un(t),r=this._monitoredElements.get(i);if(r)return r.subject;let o=new Ce,s="cdk-text-field-autofilled",c=l=>{l.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(s)?(i.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0}))):l.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",c,QI),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",c,QI)}}),o}stopMonitoring(t){let i=un(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var JI=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=oe({})}return n})();var KO=new U("MAT_INPUT_VALUE_ACCESSOR"),QO=["button","checkbox","file","hidden","image","radio","range","reset","submit"],YO=new U("MAT_INPUT_CONFIG"),XI=(()=>{class n{_elementRef=C(De);_platform=C(lt);ngControl=C(Ki,{optional:!0,self:!0});_autofillMonitor=C(YI);_ngZone=C(ee);_formField=C($p,{optional:!0});_renderer=C(Lt);_uid=C(eo).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=C(YO,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new Ce;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=Xr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(t){this._id=t||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Mt.required)??!1}set required(t){this._required=Xr(t)}_required;get type(){return this._type}set type(t){let i=this._type;this._type=t||"text",this._validateType(),!this._isTextarea&&up().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==i&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(t){t!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(t):this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Xr(t)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>up().has(t));constructor(){let t=C(Up,{optional:!0}),i=C(ea,{optional:!0}),r=C(jw),o=C(KO,{optional:!0,self:!0}),s=this._elementRef.nativeElement,c=s.nodeName.toLowerCase();o?Ta(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Rl(r,this.ngControl,i,t,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=c==="select",this._isTextarea=c==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&Ma(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){if(t!==this.focused){if(!this._isNativeSelect&&t&&this.disabled&&this.disabledInteractive){let i=this._elementRef.nativeElement;i.type==="number"?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=t,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){QO.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(t){let i=this._elementRef.nativeElement,r=i.getAttribute("aria-describedby"),o;if(r){let s=this._formFieldDescribedBy||t;o=t.concat(r.split(" ").filter(c=>c&&!s.includes(c)))}else o=t;this._formFieldDescribedBy=t,o.length?i.setAttribute("aria-describedby",o.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_iOSKeyupListener=t=>{let i=t.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ie({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,r){i&1&&Me("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),i&2&&(ko("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),st("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),xe("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Xe]},exportAs:["matInput"],features:[xt([{provide:zp,useExisting:n}]),At,fn]})}return n})(),ZI=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=oe({imports:[Ae,ta,ta,JI,Ae]})}return n})();var Ql=class n{constructor(e){this.fb=e;this.helpRequestForm=this.fb.group({name:["",[Mt.required]],email:["",[Mt.required,Mt.email]],phone:["",[Mt.required,Mt.pattern("^[0-9]{10}$")]],details:["",[Mt.required,Mt.minLength(10)]]})}helpRequestForm;selectedFile=null;onFileSelected(e){let t=e.target;t.files&&t.files[0]&&(this.selectedFile=t.files[0])}submitHelpRequest(){if(this.helpRequestForm.valid){let e=new FormData;e.append("name",this.helpRequestForm.get("name").value),e.append("email",this.helpRequestForm.get("email").value),e.append("phone",this.helpRequestForm.get("phone").value),e.append("details",this.helpRequestForm.get("details").value),this.selectedFile&&e.append("file",this.selectedFile),console.log("Help request submitted:",e),alert("Your request has been submitted successfully!")}else alert("Please fill in all required fields!")}static \u0275fac=function(t){return new(t||n)(ge(VI))};static \u0275cmp=se({type:n,selectors:[["app-about-us"]],decls:49,vars:2,consts:[[1,"contact-us-container"],[1,"contact-details"],[1,"contact-card"],["href","mailto:info@selfhelpgroup.com"],["href","tel:+1234567890"],[1,"help-request-form"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","name","placeholder","Enter your full name"],["matInput","","type","email","formControlName","email","placeholder","Enter your email"],["matInput","","type","tel","formControlName","phone","placeholder","Enter your phone number"],["matInput","","rows","5","formControlName","details","placeholder","Describe the issue for which you need help"],[1,"file-upload"],["type","file","accept",".jpg, .png, .pdf",3,"change"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(t,i){t&1&&(D(0,"div",0)(1,"div",1)(2,"h2"),B(3,"Contact Our Group"),M(),D(4,"div",2)(5,"h3"),B(6,"Head Office"),M(),D(7,"p"),B(8,"123 Main Street, City Name, State, Country"),M()(),D(9,"div",2)(10,"h3"),B(11,"Email"),M(),D(12,"p")(13,"a",3),B(14,"infoselfhelpgroup.com"),M()()(),D(15,"div",2)(16,"h3"),B(17,"Phone"),M(),D(18,"p")(19,"a",4),B(20,"+1 234-567-890"),M()()()(),D(21,"div",5)(22,"h2"),B(23,"Request Help"),M(),D(24,"p"),B(25,"If you need assistance, provide your details and submit the form below:"),M(),D(26,"form",6),Me("ngSubmit",function(){return i.submitHelpRequest()}),D(27,"mat-form-field",7)(28,"mat-label"),B(29,"Full Name"),M(),te(30,"input",8),M(),D(31,"mat-form-field",7)(32,"mat-label"),B(33,"Email"),M(),te(34,"input",9),M(),D(35,"mat-form-field",7)(36,"mat-label"),B(37,"Phone"),M(),te(38,"input",10),M(),D(39,"mat-form-field",7)(40,"mat-label"),B(41,"Details About the Matter"),M(),te(42,"textarea",11),M(),D(43,"div",12)(44,"label"),B(45,"Upload Identification Proof:"),M(),D(46,"input",13),Me("change",function(o){return i.onFileSelected(o)}),M()(),D(47,"button",14),B(48," Submit Request "),M()()()()),t&2&&(G(26),Ee("formGroup",i.helpRequestForm),G(21),Ee("disabled",i.helpRequestForm.invalid))},dependencies:[LI,NI,Hl,SI,RI,ea,jp,ta,KI,Kl,ZI,XI],styles:[".contact-us-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;padding:20px;background:#f9f9f9;border-radius:10px;box-shadow:0 4px 10px #0000001a}.contact-us-container[_ngcontent-%COMP%]   .contact-details[_ngcontent-%COMP%]{flex:1;background:#fff;padding:20px;border-radius:10px;box-shadow:0 2px 6px #0000001a}.contact-us-container[_ngcontent-%COMP%]   .contact-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px;color:#333}.contact-us-container[_ngcontent-%COMP%]   .contact-details[_ngcontent-%COMP%]   .contact-card[_ngcontent-%COMP%]{margin-bottom:20px}.contact-us-container[_ngcontent-%COMP%]   .contact-details[_ngcontent-%COMP%]   .contact-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700;color:#333}.contact-us-container[_ngcontent-%COMP%]   .contact-details[_ngcontent-%COMP%]   .contact-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:16px;color:#666}.contact-us-container[_ngcontent-%COMP%]   .contact-details[_ngcontent-%COMP%]   .contact-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none}.contact-us-container[_ngcontent-%COMP%]   .contact-details[_ngcontent-%COMP%]   .contact-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.contact-us-container[_ngcontent-%COMP%]   .help-request-form[_ngcontent-%COMP%]{flex:2;background:#fff;padding:20px;border-radius:10px;box-shadow:0 2px 6px #0000001a}.contact-us-container[_ngcontent-%COMP%]   .help-request-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px;color:#333}.contact-us-container[_ngcontent-%COMP%]   .help-request-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:16px;margin-bottom:20px;color:#666}.contact-us-container[_ngcontent-%COMP%]   .help-request-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.contact-us-container[_ngcontent-%COMP%]   .help-request-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.contact-us-container[_ngcontent-%COMP%]   .help-request-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .file-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.contact-us-container[_ngcontent-%COMP%]   .help-request-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .file-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#333}.contact-us-container[_ngcontent-%COMP%]   .help-request-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{padding:5px}.contact-us-container[_ngcontent-%COMP%]   .help-request-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:center;padding:10px 20px;font-size:16px}"]})};var qp=[{path:"home",component:Nl},{path:"team",component:Fl},{path:"contribution",component:io},{path:"about-us",component:Ql},{path:"",redirectTo:"home",pathMatch:"full"},{path:"**",redirectTo:"home"}],uz={providers:[dc(qp)]};var XO="@",ZO=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=C(Re);loadingSchedulerFn=C(e1,{optional:!0});_engine;constructor(t,i,r,o,s){this.doc=t,this.delegate=i,this.zone=r,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-MLI5AAT4.js").then(r=>r),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(t):i=t(),i.catch(r=>{throw new fe(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(t,i){let r=this.delegate.createRenderer(t,i);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new Hp(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let c=s.createRenderer(t,i);o.use(c),this.scheduler??=this.injector.get(r_,null,{optional:!0}),this.scheduler?.notify(11)}).catch(s=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static \u0275fac=function(i){Ca()};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Hp=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,i,r){this.delegate.insertBefore(e,t,i,r)}removeChild(e,t,i){this.delegate.removeChild(e,t,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){this.shouldReplay(t)&&this.replay.push(r=>r.setProperty(e,t,i)),this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i,r){return this.shouldReplay(t)&&this.replay.push(o=>o.listen(e,t,i,r)),this.delegate.listen(e,t,i,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(XO)}},e1=new U("");function eE(n="animations"){return Bu("NgAsyncAnimations"),wt([{provide:Aa,useFactory:(e,t,i)=>new ZO(e,t,i,n),deps:[be,qa,ee]},{provide:qn,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var tE={production:!1,apiUrl:"https://api.dev.example.com",openaiApiKey:"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",firebaseConfig:{apiKey:"AIzaSyATbQrUqnDHHg3fKBoQ9yRkR_sLyNME-I0",authDomain:"quizchamp-2ee33.firebaseapp.com",projectId:"quizchamp-2ee33",storageBucket:"quizchamp-2ee33.firebasestorage.app",messagingSenderId:"719485353665",appId:"1:719485353665:web:34aba1265b0315a97ede40"}};var nE={providers:[C_({eventCoalescing:!0}),dc(qp),ev(),eE(),Lb(()=>Ub(tE.firebaseConfig)),jy(()=>By()),_w(()=>yw())]};var Yl=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=se({type:n,selectors:[["app-toolbar"]],decls:16,vars:0,consts:[["color","primary"],["routerLink","/home"],["src","assets/BrotherLogo.jpg","alt","Self-Help Group Logo","width","50",1,"logo"],[1,"title"],[1,"spacer"],["mat-button","","routerLink","/home"],["mat-button","","routerLink","/team"],["mat-button","","routerLink","/contribution"],["mat-button","","routerLink","/about-us"]],template:function(t,i){t&1&&(D(0,"mat-toolbar",0)(1,"a",1),te(2,"img",2),M(),D(3,"span",3),B(4,"Broter's-Helping Group"),M(),te(5,"span",4),D(6,"button",5),B(7,"Home"),M(),D(8,"button",6),B(9,"Team"),M(),D(10,"button",7),B(11,"Contribution"),M(),D(12,"button",8),B(13,"About Us"),M()(),te(14,"span",4)(15,"router-outlet"))},dependencies:[sb,Bd,eb,Ml,Xw,no,to],styles:["mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 16px;background-color:#3f51b5;color:#fff}mat-toolbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px;margin-right:10px;display:flex;align-items:center}@media (max-width: 600px){mat-toolbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:30px}}mat-toolbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff}@media (max-width: 600px){mat-toolbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 400px){mat-toolbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1rem;text-align:center}}mat-toolbar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;color:#fff;margin-left:10px}mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}@media (max-width: 600px){mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 400px){mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8rem;padding:4px 8px}}@media (max-width: 400px){mat-toolbar[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}mat-toolbar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{display:none}mat-toolbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:8px}mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:0;margin-bottom:5px}}"]})};var Jl=class n{title="brotherhelpinggroup";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=se({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){t&1&&te(0,"app-toolbar")},dependencies:[Yl],encapsulation:2})};lv(Jl,nE).catch(n=>console.error(n));
